function ZI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function c1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $I(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var FT={exports:{}},yg={},kT={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=Symbol.for("react.element"),eD=Symbol.for("react.portal"),tD=Symbol.for("react.fragment"),nD=Symbol.for("react.strict_mode"),iD=Symbol.for("react.profiler"),rD=Symbol.for("react.provider"),sD=Symbol.for("react.context"),oD=Symbol.for("react.forward_ref"),aD=Symbol.for("react.suspense"),lD=Symbol.for("react.memo"),cD=Symbol.for("react.lazy"),dS=Symbol.iterator;function uD(n){return n===null||typeof n!="object"?null:(n=dS&&n[dS]||n["@@iterator"],typeof n=="function"?n:null)}var OT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,zT={};function iu(n,e,t){this.props=n,this.context=e,this.refs=zT,this.updater=t||OT}iu.prototype.isReactComponent={};iu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};iu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function GT(){}GT.prototype=iu.prototype;function u1(n,e,t){this.props=n,this.context=e,this.refs=zT,this.updater=t||OT}var f1=u1.prototype=new GT;f1.constructor=u1;UT(f1,iu.prototype);f1.isPureReactComponent=!0;var hS=Array.isArray,HT=Object.prototype.hasOwnProperty,d1={current:null},VT={key:!0,ref:!0,__self:!0,__source:!0};function WT(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HT.call(e,i)&&!VT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:wd,type:n,key:s,ref:o,props:r,_owner:d1.current}}function fD(n,e){return{$$typeof:wd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function h1(n){return typeof n=="object"&&n!==null&&n.$$typeof===wd}function dD(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var pS=/\/+/g;function gv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?dD(""+n.key):e.toString(36)}function lm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case wd:case eD:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+gv(o,0):i,hS(r)?(t="",n!=null&&(t=n.replace(pS,"$&/")+"/"),lm(r,e,t,"",function(u){return u})):r!=null&&(h1(r)&&(r=fD(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(pS,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",hS(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+gv(s,a);o+=lm(s,e,t,l,r)}else if(l=uD(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+gv(s,a++),o+=lm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qh(n,e,t){if(n==null)return n;var i=[],r=0;return lm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function hD(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var xi={current:null},cm={transition:null},pD={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:cm,ReactCurrentOwner:d1};Et.Children={map:qh,forEach:function(n,e,t){qh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return qh(n,function(){e++}),e},toArray:function(n){return qh(n,function(e){return e})||[]},only:function(n){if(!h1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Et.Component=iu;Et.Fragment=tD;Et.Profiler=iD;Et.PureComponent=u1;Et.StrictMode=nD;Et.Suspense=aD;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;Et.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=UT({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=d1.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)HT.call(e,l)&&!VT.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:wd,type:n.type,key:r,ref:s,props:i,_owner:o}};Et.createContext=function(n){return n={$$typeof:sD,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:rD,_context:n},n.Consumer=n};Et.createElement=WT;Et.createFactory=function(n){var e=WT.bind(null,n);return e.type=n,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(n){return{$$typeof:oD,render:n}};Et.isValidElement=h1;Et.lazy=function(n){return{$$typeof:cD,_payload:{_status:-1,_result:n},_init:hD}};Et.memo=function(n,e){return{$$typeof:lD,type:n,compare:e===void 0?null:e}};Et.startTransition=function(n){var e=cm.transition;cm.transition={};try{n()}finally{cm.transition=e}};Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.useCallback=function(n,e){return xi.current.useCallback(n,e)};Et.useContext=function(n){return xi.current.useContext(n)};Et.useDebugValue=function(){};Et.useDeferredValue=function(n){return xi.current.useDeferredValue(n)};Et.useEffect=function(n,e){return xi.current.useEffect(n,e)};Et.useId=function(){return xi.current.useId()};Et.useImperativeHandle=function(n,e,t){return xi.current.useImperativeHandle(n,e,t)};Et.useInsertionEffect=function(n,e){return xi.current.useInsertionEffect(n,e)};Et.useLayoutEffect=function(n,e){return xi.current.useLayoutEffect(n,e)};Et.useMemo=function(n,e){return xi.current.useMemo(n,e)};Et.useReducer=function(n,e,t){return xi.current.useReducer(n,e,t)};Et.useRef=function(n){return xi.current.useRef(n)};Et.useState=function(n){return xi.current.useState(n)};Et.useSyncExternalStore=function(n,e,t){return xi.current.useSyncExternalStore(n,e,t)};Et.useTransition=function(){return xi.current.useTransition()};Et.version="18.2.0";kT.exports=Et;var U=kT.exports;const xg=c1(U),qy=ZI({__proto__:null,default:xg},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=U,gD=Symbol.for("react.element"),vD=Symbol.for("react.fragment"),yD=Object.prototype.hasOwnProperty,xD=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AD={key:!0,ref:!0,__self:!0,__source:!0};function jT(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)yD.call(e,i)&&!AD.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:gD,type:n,key:s,ref:o,props:r,_owner:xD.current}}yg.Fragment=vD;yg.jsx=jT;yg.jsxs=jT;FT.exports=yg;var p1=FT.exports;const Sr=p1.Fragment,B=p1.jsx,Ae=p1.jsxs;var Qy={},JT={exports:{}},qi={},XT={exports:{}},KT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,j){var Y=k.length;k.push(j);e:for(;0<Y;){var oe=Y-1>>>1,X=k[oe];if(0<r(X,j))k[oe]=j,k[Y]=X,Y=oe;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var j=k[0],Y=k.pop();if(Y!==j){k[0]=Y;e:for(var oe=0,X=k.length,re=X>>>1;oe<re;){var ye=2*(oe+1)-1,_e=k[ye],$=ye+1,ke=k[$];if(0>r(_e,Y))$<X&&0>r(ke,_e)?(k[oe]=ke,k[$]=Y,oe=$):(k[oe]=_e,k[ye]=Y,oe=ye);else if($<X&&0>r(ke,Y))k[oe]=ke,k[$]=Y,oe=$;else break e}}return j}function r(k,j){var Y=k.sortIndex-j.sortIndex;return Y!==0?Y:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(k){for(var j=t(u);j!==null;){if(j.callback===null)i(u);else if(j.startTime<=k)i(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function S(k){if(v=!1,M(k),!y)if(t(l)!==null)y=!0,ie(E);else{var j=t(u);j!==null&&ce(S,j.startTime-k)}}function E(k,j){y=!1,v&&(v=!1,A(b),b=-1),m=!0;var Y=p;try{for(M(j),h=t(l);h!==null&&(!(h.expirationTime>j)||k&&!G());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var X=oe(h.expirationTime<=j);j=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&i(l),M(j)}else i(l);h=t(l)}if(h!==null)var re=!0;else{var ye=t(u);ye!==null&&ce(S,ye.startTime-j),re=!1}return re}finally{h=null,p=Y,m=!1}}var P=!1,L=null,b=-1,R=5,I=-1;function G(){return!(n.unstable_now()-I<R)}function ee(){if(L!==null){var k=n.unstable_now();I=k;var j=!0;try{j=L(!0,k)}finally{j?W():(P=!1,L=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(ee)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=ee,W=function(){q.postMessage(null)}}else W=function(){x(ee,0)};function ie(k){L=k,P||(P=!0,W())}function ce(k,j){b=x(function(){k(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ie(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var Y=p;p=j;try{return k()}finally{p=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Y=p;p=k;try{return j()}finally{p=Y}},n.unstable_scheduleCallback=function(k,j,Y){var oe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,k={id:d++,callback:j,priorityLevel:k,startTime:Y,expirationTime:X,sortIndex:-1},Y>oe?(k.sortIndex=Y,e(u,k),t(l)===null&&k===t(u)&&(v?(A(b),b=-1):v=!0,ce(S,Y-oe))):(k.sortIndex=X,e(l,k),y||m||(y=!0,ie(E))),k},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(k){var j=p;return function(){var Y=p;p=j;try{return k.apply(this,arguments)}finally{p=Y}}}})(KT);XT.exports=KT;var _D=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=U,Xi=_D;function Se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qT=new Set,zf={};function vl(n,e){Oc(n,e),Oc(n+"Capture",e)}function Oc(n,e){for(zf[n]=e,n=0;n<e.length;n++)qT.add(e[n])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zy=Object.prototype.hasOwnProperty,wD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mS={},gS={};function MD(n){return Zy.call(gS,n)?!0:Zy.call(mS,n)?!1:wD.test(n)?gS[n]=!0:(mS[n]=!0,!1)}function SD(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function CD(n,e,t,i){if(e===null||typeof e>"u"||SD(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ai(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Yn[n]=new Ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Yn[e]=new Ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Yn[n]=new Ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Yn[n]=new Ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Yn[n]=new Ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Yn[n]=new Ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Yn[n]=new Ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Yn[n]=new Ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Yn[n]=new Ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var m1=/[\-:]([a-z])/g;function g1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(m1,g1);Yn[e]=new Ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(m1,g1);Yn[e]=new Ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(m1,g1);Yn[e]=new Ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Yn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!1,!1)});Yn.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Yn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function v1(n,e,t,i){var r=Yn.hasOwnProperty(e)?Yn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CD(e,t,r,i)&&(t=null),i||r===null?MD(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ro=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),y1=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),ZT=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),$T=Symbol.for("react.offscreen"),vS=Symbol.iterator;function Uu(n){return n===null||typeof n!="object"?null:(n=vS&&n[vS]||n["@@iterator"],typeof n=="function"?n:null)}var cn=Object.assign,vv;function mf(n){if(vv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);vv=e&&e[1]||""}return`
`+vv+n}var yv=!1;function xv(n,e){if(!n||yv)return"";yv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{yv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?mf(n):""}function ED(n){switch(n.tag){case 5:return mf(n.type);case 16:return mf("Lazy");case 13:return mf("Suspense");case 19:return mf("SuspenseList");case 0:case 2:case 15:return n=xv(n.type,!1),n;case 11:return n=xv(n.type.render,!1),n;case 1:return n=xv(n.type,!0),n;default:return""}}function nx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case cc:return"Fragment";case lc:return"Portal";case $y:return"Profiler";case y1:return"StrictMode";case ex:return"Suspense";case tx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ZT:return(n.displayName||"Context")+".Consumer";case QT:return(n._context.displayName||"Context")+".Provider";case x1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A1:return e=n.displayName||null,e!==null?e:nx(n.type)||"Memo";case Co:e=n._payload,n=n._init;try{return nx(n(e))}catch{}}return null}function bD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nx(e);case 8:return e===y1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function e2(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TD(n){var e=e2(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Zh(n){n._valueTracker||(n._valueTracker=TD(n))}function t2(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=e2(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Rm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ix(n,e){var t=e.checked;return cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function yS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Xo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n2(n,e){e=e.checked,e!=null&&v1(n,"checked",e,!1)}function rx(n,e){n2(n,e);var t=Xo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sx(n,e.type,t):e.hasOwnProperty("defaultValue")&&sx(n,e.type,Xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function xS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function sx(n,e,t){(e!=="number"||Rm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gf=Array.isArray;function Tc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Xo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function ox(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Se(91));return cn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function AS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Se(92));if(gf(t)){if(1<t.length)throw Error(Se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Xo(t)}}function i2(n,e){var t=Xo(e.value),i=Xo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function _S(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function r2(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ax(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?r2(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var $h,s2=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for($h=$h||document.createElement("div"),$h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$h.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Gf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var _f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PD=["Webkit","ms","Moz","O"];Object.keys(_f).forEach(function(n){PD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),_f[e]=_f[n]})});function o2(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||_f.hasOwnProperty(n)&&_f[n]?(""+e).trim():e+"px"}function a2(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=o2(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var BD=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lx(n,e){if(e){if(BD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Se(62))}}function cx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ux=null;function _1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fx=null,Pc=null,Bc=null;function wS(n){if(n=Cd(n)){if(typeof fx!="function")throw Error(Se(280));var e=n.stateNode;e&&(e=Sg(e),fx(n.stateNode,n.type,e))}}function l2(n){Pc?Bc?Bc.push(n):Bc=[n]:Pc=n}function c2(){if(Pc){var n=Pc,e=Bc;if(Bc=Pc=null,wS(n),e)for(n=0;n<e.length;n++)wS(e[n])}}function u2(n,e){return n(e)}function f2(){}var Av=!1;function d2(n,e,t){if(Av)return n(e,t);Av=!0;try{return u2(n,e,t)}finally{Av=!1,(Pc!==null||Bc!==null)&&(f2(),c2())}}function Hf(n,e){var t=n.stateNode;if(t===null)return null;var i=Sg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Se(231,e,typeof t));return t}var dx=!1;if(Qs)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){dx=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{dx=!1}function RD(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var wf=!1,Lm=null,Im=!1,hx=null,LD={onError:function(n){wf=!0,Lm=n}};function ID(n,e,t,i,r,s,o,a,l){wf=!1,Lm=null,RD.apply(LD,arguments)}function DD(n,e,t,i,r,s,o,a,l){if(ID.apply(this,arguments),wf){if(wf){var u=Lm;wf=!1,Lm=null}else throw Error(Se(198));Im||(Im=!0,hx=u)}}function yl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function h2(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function MS(n){if(yl(n)!==n)throw Error(Se(188))}function ND(n){var e=n.alternate;if(!e){if(e=yl(n),e===null)throw Error(Se(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return MS(r),n;if(s===i)return MS(r),e;s=s.sibling}throw Error(Se(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(t.alternate!==i)throw Error(Se(190))}if(t.tag!==3)throw Error(Se(188));return t.stateNode.current===t?n:e}function p2(n){return n=ND(n),n!==null?m2(n):null}function m2(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=m2(n);if(e!==null)return e;n=n.sibling}return null}var g2=Xi.unstable_scheduleCallback,SS=Xi.unstable_cancelCallback,FD=Xi.unstable_shouldYield,kD=Xi.unstable_requestPaint,yn=Xi.unstable_now,OD=Xi.unstable_getCurrentPriorityLevel,w1=Xi.unstable_ImmediatePriority,v2=Xi.unstable_UserBlockingPriority,Dm=Xi.unstable_NormalPriority,UD=Xi.unstable_LowPriority,y2=Xi.unstable_IdlePriority,Ag=null,as=null;function zD(n){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Ag,n,void 0,(n.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:VD,GD=Math.log,HD=Math.LN2;function VD(n){return n>>>=0,n===0?32:31-(GD(n)/HD|0)|0}var ep=64,tp=4194304;function vf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Nm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=vf(a):(s&=o,s!==0&&(i=vf(s)))}else o=t&~r,o!==0?i=vf(o):s!==0&&(i=vf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Hr(e),r=1<<t,i|=n[t],e&=~r;return i}function WD(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jD(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Hr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=WD(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function px(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function x2(){var n=ep;return ep<<=1,!(ep&4194240)&&(ep=64),n}function _v(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Md(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hr(e),n[e]=t}function JD(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Hr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function M1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Hr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Gt=0;function A2(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var _2,S1,w2,M2,S2,mx=!1,np=[],Fo=null,ko=null,Oo=null,Vf=new Map,Wf=new Map,Po=[],XD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CS(n,e){switch(n){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":Vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(e.pointerId)}}function Gu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Cd(e),e!==null&&S1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function KD(n,e,t,i,r){switch(e){case"focusin":return Fo=Gu(Fo,n,e,t,i,r),!0;case"dragenter":return ko=Gu(ko,n,e,t,i,r),!0;case"mouseover":return Oo=Gu(Oo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Vf.set(s,Gu(Vf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Wf.set(s,Gu(Wf.get(s)||null,n,e,t,i,r)),!0}return!1}function C2(n){var e=Wa(n.target);if(e!==null){var t=yl(e);if(t!==null){if(e=t.tag,e===13){if(e=h2(t),e!==null){n.blockedOn=e,S2(n.priority,function(){w2(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function um(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ux=i,t.target.dispatchEvent(i),ux=null}else return e=Cd(t),e!==null&&S1(e),n.blockedOn=t,!1;e.shift()}return!0}function ES(n,e,t){um(n)&&t.delete(e)}function YD(){mx=!1,Fo!==null&&um(Fo)&&(Fo=null),ko!==null&&um(ko)&&(ko=null),Oo!==null&&um(Oo)&&(Oo=null),Vf.forEach(ES),Wf.forEach(ES)}function Hu(n,e){n.blockedOn===e&&(n.blockedOn=null,mx||(mx=!0,Xi.unstable_scheduleCallback(Xi.unstable_NormalPriority,YD)))}function jf(n){function e(r){return Hu(r,n)}if(0<np.length){Hu(np[0],n);for(var t=1;t<np.length;t++){var i=np[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Fo!==null&&Hu(Fo,n),ko!==null&&Hu(ko,n),Oo!==null&&Hu(Oo,n),Vf.forEach(e),Wf.forEach(e),t=0;t<Po.length;t++)i=Po[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Po.length&&(t=Po[0],t.blockedOn===null);)C2(t),t.blockedOn===null&&Po.shift()}var Rc=ro.ReactCurrentBatchConfig,Fm=!0;function qD(n,e,t,i){var r=Gt,s=Rc.transition;Rc.transition=null;try{Gt=1,C1(n,e,t,i)}finally{Gt=r,Rc.transition=s}}function QD(n,e,t,i){var r=Gt,s=Rc.transition;Rc.transition=null;try{Gt=4,C1(n,e,t,i)}finally{Gt=r,Rc.transition=s}}function C1(n,e,t,i){if(Fm){var r=gx(n,e,t,i);if(r===null)Rv(n,e,i,km,t),CS(n,i);else if(KD(r,n,e,t,i))i.stopPropagation();else if(CS(n,i),e&4&&-1<XD.indexOf(n)){for(;r!==null;){var s=Cd(r);if(s!==null&&_2(s),s=gx(n,e,t,i),s===null&&Rv(n,e,i,km,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Rv(n,e,i,null,t)}}var km=null;function gx(n,e,t,i){if(km=null,n=_1(i),n=Wa(n),n!==null)if(e=yl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=h2(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return km=n,null}function E2(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OD()){case w1:return 1;case v2:return 4;case Dm:case UD:return 16;case y2:return 536870912;default:return 16}default:return 16}}var Ro=null,E1=null,fm=null;function b2(){if(fm)return fm;var n,e=E1,t=e.length,i,r="value"in Ro?Ro.value:Ro.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return fm=r.slice(n,1<i?1-i:void 0)}function dm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ip(){return!0}function bS(){return!1}function Qi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ip:bS,this.isPropagationStopped=bS,this}return cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b1=Qi(ru),Sd=cn({},ru,{view:0,detail:0}),ZD=Qi(Sd),wv,Mv,Vu,_g=cn({},Sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vu&&(Vu&&n.type==="mousemove"?(wv=n.screenX-Vu.screenX,Mv=n.screenY-Vu.screenY):Mv=wv=0,Vu=n),wv)},movementY:function(n){return"movementY"in n?n.movementY:Mv}}),TS=Qi(_g),$D=cn({},_g,{dataTransfer:0}),eN=Qi($D),tN=cn({},Sd,{relatedTarget:0}),Sv=Qi(tN),nN=cn({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),iN=Qi(nN),rN=cn({},ru,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sN=Qi(rN),oN=cn({},ru,{data:0}),PS=Qi(oN),aN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=cN[n])?!!e[n]:!1}function T1(){return uN}var fN=cn({},Sd,{key:function(n){if(n.key){var e=aN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=dm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T1,charCode:function(n){return n.type==="keypress"?dm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dN=Qi(fN),hN=cn({},_g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=Qi(hN),pN=cn({},Sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T1}),mN=Qi(pN),gN=cn({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),vN=Qi(gN),yN=cn({},_g,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xN=Qi(yN),AN=[9,13,27,32],P1=Qs&&"CompositionEvent"in window,Mf=null;Qs&&"documentMode"in document&&(Mf=document.documentMode);var _N=Qs&&"TextEvent"in window&&!Mf,T2=Qs&&(!P1||Mf&&8<Mf&&11>=Mf),RS=String.fromCharCode(32),LS=!1;function P2(n,e){switch(n){case"keyup":return AN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B2(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var uc=!1;function wN(n,e){switch(n){case"compositionend":return B2(e);case"keypress":return e.which!==32?null:(LS=!0,RS);case"textInput":return n=e.data,n===RS&&LS?null:n;default:return null}}function MN(n,e){if(uc)return n==="compositionend"||!P1&&P2(n,e)?(n=b2(),fm=E1=Ro=null,uc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T2&&e.locale!=="ko"?null:e.data;default:return null}}var SN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SN[n.type]:e==="textarea"}function R2(n,e,t,i){l2(i),e=Om(e,"onChange"),0<e.length&&(t=new b1("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Sf=null,Jf=null;function CN(n){H2(n,0)}function wg(n){var e=hc(n);if(t2(e))return n}function EN(n,e){if(n==="change")return e}var L2=!1;if(Qs){var Cv;if(Qs){var Ev="oninput"in document;if(!Ev){var DS=document.createElement("div");DS.setAttribute("oninput","return;"),Ev=typeof DS.oninput=="function"}Cv=Ev}else Cv=!1;L2=Cv&&(!document.documentMode||9<document.documentMode)}function NS(){Sf&&(Sf.detachEvent("onpropertychange",I2),Jf=Sf=null)}function I2(n){if(n.propertyName==="value"&&wg(Jf)){var e=[];R2(e,Jf,n,_1(n)),d2(CN,e)}}function bN(n,e,t){n==="focusin"?(NS(),Sf=e,Jf=t,Sf.attachEvent("onpropertychange",I2)):n==="focusout"&&NS()}function TN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wg(Jf)}function PN(n,e){if(n==="click")return wg(e)}function BN(n,e){if(n==="input"||n==="change")return wg(e)}function RN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jr=typeof Object.is=="function"?Object.is:RN;function Xf(n,e){if(jr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Zy.call(e,r)||!jr(n[r],e[r]))return!1}return!0}function FS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kS(n,e){var t=FS(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=FS(t)}}function D2(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?D2(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function N2(){for(var n=window,e=Rm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Rm(n.document)}return e}function B1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function LN(n){var e=N2(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&D2(t.ownerDocument.documentElement,t)){if(i!==null&&B1(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=kS(t,s);var o=kS(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var IN=Qs&&"documentMode"in document&&11>=document.documentMode,fc=null,vx=null,Cf=null,yx=!1;function OS(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;yx||fc==null||fc!==Rm(i)||(i=fc,"selectionStart"in i&&B1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cf&&Xf(Cf,i)||(Cf=i,i=Om(vx,"onSelect"),0<i.length&&(e=new b1("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=fc)))}function rp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var dc={animationend:rp("Animation","AnimationEnd"),animationiteration:rp("Animation","AnimationIteration"),animationstart:rp("Animation","AnimationStart"),transitionend:rp("Transition","TransitionEnd")},bv={},F2={};Qs&&(F2=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function Mg(n){if(bv[n])return bv[n];if(!dc[n])return n;var e=dc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in F2)return bv[n]=e[t];return n}var k2=Mg("animationend"),O2=Mg("animationiteration"),U2=Mg("animationstart"),z2=Mg("transitionend"),G2=new Map,US="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(n,e){G2.set(n,e),vl(e,[n])}for(var Tv=0;Tv<US.length;Tv++){var Pv=US[Tv],DN=Pv.toLowerCase(),NN=Pv[0].toUpperCase()+Pv.slice(1);na(DN,"on"+NN)}na(k2,"onAnimationEnd");na(O2,"onAnimationIteration");na(U2,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(z2,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function zS(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,DD(i,e,void 0,n),n.currentTarget=null}function H2(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;zS(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;zS(r,a,u),s=l}}}if(Im)throw n=hx,Im=!1,hx=null,n}function Xt(n,e){var t=e[Mx];t===void 0&&(t=e[Mx]=new Set);var i=n+"__bubble";t.has(i)||(V2(e,n,2,!1),t.add(i))}function Bv(n,e,t){var i=0;e&&(i|=4),V2(t,n,i,e)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Kf(n){if(!n[sp]){n[sp]=!0,qT.forEach(function(t){t!=="selectionchange"&&(FN.has(t)||Bv(t,!1,n),Bv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[sp]||(e[sp]=!0,Bv("selectionchange",!1,e))}}function V2(n,e,t,i){switch(E2(e)){case 1:var r=qD;break;case 4:r=QD;break;default:r=C1}t=r.bind(null,e,t,n),r=void 0,!dx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Rv(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Wa(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}d2(function(){var u=s,d=_1(t),h=[];e:{var p=G2.get(n);if(p!==void 0){var m=b1,y=n;switch(n){case"keypress":if(dm(t)===0)break e;case"keydown":case"keyup":m=dN;break;case"focusin":y="focus",m=Sv;break;case"focusout":y="blur",m=Sv;break;case"beforeblur":case"afterblur":m=Sv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=TS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mN;break;case k2:case O2:case U2:m=iN;break;case z2:m=vN;break;case"scroll":m=ZD;break;case"wheel":m=xN;break;case"copy":case"cut":case"paste":m=sN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=BS}var v=(e&4)!==0,x=!v&&n==="scroll",A=v?p!==null?p+"Capture":null:p;v=[];for(var _=u,M;_!==null;){M=_;var S=M.stateNode;if(M.tag===5&&S!==null&&(M=S,A!==null&&(S=Hf(_,A),S!=null&&v.push(Yf(_,S,M)))),x)break;_=_.return}0<v.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==ux&&(y=t.relatedTarget||t.fromElement)&&(Wa(y)||y[Zs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=u,y=y?Wa(y):null,y!==null&&(x=yl(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=TS,S="onMouseLeave",A="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=BS,S="onPointerLeave",A="onPointerEnter",_="pointer"),x=m==null?p:hc(m),M=y==null?p:hc(y),p=new v(S,_+"leave",m,t,d),p.target=x,p.relatedTarget=M,S=null,Wa(d)===u&&(v=new v(A,_+"enter",y,t,d),v.target=M,v.relatedTarget=x,S=v),x=S,m&&y)t:{for(v=m,A=y,_=0,M=v;M;M=Ul(M))_++;for(M=0,S=A;S;S=Ul(S))M++;for(;0<_-M;)v=Ul(v),_--;for(;0<M-_;)A=Ul(A),M--;for(;_--;){if(v===A||A!==null&&v===A.alternate)break t;v=Ul(v),A=Ul(A)}v=null}else v=null;m!==null&&GS(h,p,m,v,!1),y!==null&&x!==null&&GS(h,x,y,v,!0)}}e:{if(p=u?hc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=EN;else if(IS(p))if(L2)E=BN;else{E=TN;var P=bN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=PN);if(E&&(E=E(n,u))){R2(h,E,t,d);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&sx(p,"number",p.value)}switch(P=u?hc(u):window,n){case"focusin":(IS(P)||P.contentEditable==="true")&&(fc=P,vx=u,Cf=null);break;case"focusout":Cf=vx=fc=null;break;case"mousedown":yx=!0;break;case"contextmenu":case"mouseup":case"dragend":yx=!1,OS(h,t,d);break;case"selectionchange":if(IN)break;case"keydown":case"keyup":OS(h,t,d)}var L;if(P1)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else uc?P2(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(T2&&t.locale!=="ko"&&(uc||b!=="onCompositionStart"?b==="onCompositionEnd"&&uc&&(L=b2()):(Ro=d,E1="value"in Ro?Ro.value:Ro.textContent,uc=!0)),P=Om(u,b),0<P.length&&(b=new PS(b,n,null,t,d),h.push({event:b,listeners:P}),L?b.data=L:(L=B2(t),L!==null&&(b.data=L)))),(L=_N?wN(n,t):MN(n,t))&&(u=Om(u,"onBeforeInput"),0<u.length&&(d=new PS("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=L))}H2(h,e)})}function Yf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Om(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Hf(n,t),s!=null&&i.unshift(Yf(n,s,r)),s=Hf(n,e),s!=null&&i.push(Yf(n,s,r))),n=n.return}return i}function Ul(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function GS(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Hf(t,s),l!=null&&o.unshift(Yf(t,l,a))):r||(l=Hf(t,s),l!=null&&o.push(Yf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var kN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function HS(n){return(typeof n=="string"?n:""+n).replace(kN,`
`).replace(ON,"")}function op(n,e,t){if(e=HS(e),HS(n)!==e&&t)throw Error(Se(425))}function Um(){}var xx=null,Ax=null;function _x(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wx=typeof setTimeout=="function"?setTimeout:void 0,UN=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,zN=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(n){return VS.resolve(null).then(n).catch(GN)}:wx;function GN(n){setTimeout(function(){throw n})}function Lv(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),jf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);jf(e)}function Uo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function WS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var su=Math.random().toString(36).slice(2),os="__reactFiber$"+su,qf="__reactProps$"+su,Zs="__reactContainer$"+su,Mx="__reactEvents$"+su,HN="__reactListeners$"+su,VN="__reactHandles$"+su;function Wa(n){var e=n[os];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Zs]||t[os]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=WS(n);n!==null;){if(t=n[os])return t;n=WS(n)}return e}n=t,t=n.parentNode}return null}function Cd(n){return n=n[os]||n[Zs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function hc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Se(33))}function Sg(n){return n[qf]||null}var Sx=[],pc=-1;function ia(n){return{current:n}}function Yt(n){0>pc||(n.current=Sx[pc],Sx[pc]=null,pc--)}function Jt(n,e){pc++,Sx[pc]=n.current,n.current=e}var Ko={},ai=ia(Ko),Pi=ia(!1),ll=Ko;function Uc(n,e){var t=n.type.contextTypes;if(!t)return Ko;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Bi(n){return n=n.childContextTypes,n!=null}function zm(){Yt(Pi),Yt(ai)}function jS(n,e,t){if(ai.current!==Ko)throw Error(Se(168));Jt(ai,e),Jt(Pi,t)}function W2(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Se(108,bD(n)||"Unknown",r));return cn({},t,i)}function Gm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ko,ll=ai.current,Jt(ai,n),Jt(Pi,Pi.current),!0}function JS(n,e,t){var i=n.stateNode;if(!i)throw Error(Se(169));t?(n=W2(n,e,ll),i.__reactInternalMemoizedMergedChildContext=n,Yt(Pi),Yt(ai),Jt(ai,n)):Yt(Pi),Jt(Pi,t)}var ks=null,Cg=!1,Iv=!1;function j2(n){ks===null?ks=[n]:ks.push(n)}function WN(n){Cg=!0,j2(n)}function ra(){if(!Iv&&ks!==null){Iv=!0;var n=0,e=Gt;try{var t=ks;for(Gt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ks=null,Cg=!1}catch(r){throw ks!==null&&(ks=ks.slice(n+1)),g2(w1,ra),r}finally{Gt=e,Iv=!1}}return null}var mc=[],gc=0,Hm=null,Vm=0,pr=[],mr=0,cl=null,Gs=1,Hs="";function Na(n,e){mc[gc++]=Vm,mc[gc++]=Hm,Hm=n,Vm=e}function J2(n,e,t){pr[mr++]=Gs,pr[mr++]=Hs,pr[mr++]=cl,cl=n;var i=Gs;n=Hs;var r=32-Hr(i)-1;i&=~(1<<r),t+=1;var s=32-Hr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Gs=1<<32-Hr(e)+r|t<<r|i,Hs=s+n}else Gs=1<<s|t<<r|i,Hs=n}function R1(n){n.return!==null&&(Na(n,1),J2(n,1,0))}function L1(n){for(;n===Hm;)Hm=mc[--gc],mc[gc]=null,Vm=mc[--gc],mc[gc]=null;for(;n===cl;)cl=pr[--mr],pr[mr]=null,Hs=pr[--mr],pr[mr]=null,Gs=pr[--mr],pr[mr]=null}var ji=null,Vi=null,$t=!1,Ur=null;function X2(n,e){var t=vr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function XS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ji=n,Vi=Uo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ji=n,Vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=cl!==null?{id:Gs,overflow:Hs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=vr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ji=n,Vi=null,!0):!1;default:return!1}}function Cx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ex(n){if($t){var e=Vi;if(e){var t=e;if(!XS(n,e)){if(Cx(n))throw Error(Se(418));e=Uo(t.nextSibling);var i=ji;e&&XS(n,e)?X2(i,t):(n.flags=n.flags&-4097|2,$t=!1,ji=n)}}else{if(Cx(n))throw Error(Se(418));n.flags=n.flags&-4097|2,$t=!1,ji=n}}}function KS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ji=n}function ap(n){if(n!==ji)return!1;if(!$t)return KS(n),$t=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!_x(n.type,n.memoizedProps)),e&&(e=Vi)){if(Cx(n))throw K2(),Error(Se(418));for(;e;)X2(n,e),e=Uo(e.nextSibling)}if(KS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Vi=Uo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Vi=null}}else Vi=ji?Uo(n.stateNode.nextSibling):null;return!0}function K2(){for(var n=Vi;n;)n=Uo(n.nextSibling)}function zc(){Vi=ji=null,$t=!1}function I1(n){Ur===null?Ur=[n]:Ur.push(n)}var jN=ro.ReactCurrentBatchConfig;function Fr(n,e){if(n&&n.defaultProps){e=cn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Wm=ia(null),jm=null,vc=null,D1=null;function N1(){D1=vc=jm=null}function F1(n){var e=Wm.current;Yt(Wm),n._currentValue=e}function bx(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Lc(n,e){jm=n,D1=vc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ti=!0),n.firstContext=null)}function _r(n){var e=n._currentValue;if(D1!==n)if(n={context:n,memoizedValue:e,next:null},vc===null){if(jm===null)throw Error(Se(308));vc=n,jm.dependencies={lanes:0,firstContext:n}}else vc=vc.next=n;return e}var ja=null;function k1(n){ja===null?ja=[n]:ja.push(n)}function Y2(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,k1(e)):(t.next=r.next,r.next=t),e.interleaved=t,$s(n,i)}function $s(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Eo=!1;function O1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q2(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Xs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,It&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,$s(n,t)}return r=i.interleaved,r===null?(e.next=e,k1(i)):(e.next=r.next,r.next=e),i.interleaved=e,$s(n,t)}function hm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,M1(n,t)}}function YS(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Jm(n,e,t,i){var r=n.updateQueue;Eo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(p=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=cn({},h,p);break e;case 2:Eo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);fl|=o,n.lanes=o,n.memoizedState=h}}function qS(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Se(191,r));r.call(i)}}}var Q2=new YT.Component().refs;function Tx(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:cn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Eg={isMounted:function(n){return(n=n._reactInternals)?yl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=vi(),r=Ho(n),s=Xs(i,r);s.payload=e,t!=null&&(s.callback=t),e=zo(n,s,r),e!==null&&(Vr(e,n,r,i),hm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=vi(),r=Ho(n),s=Xs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=zo(n,s,r),e!==null&&(Vr(e,n,r,i),hm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vi(),i=Ho(n),r=Xs(t,i);r.tag=2,e!=null&&(r.callback=e),e=zo(n,r,i),e!==null&&(Vr(e,n,i,t),hm(e,n,i))}};function QS(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xf(t,i)||!Xf(r,s):!0}function Z2(n,e,t){var i=!1,r=Ko,s=e.contextType;return typeof s=="object"&&s!==null?s=_r(s):(r=Bi(e)?ll:ai.current,i=e.contextTypes,s=(i=i!=null)?Uc(n,r):Ko),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function ZS(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Eg.enqueueReplaceState(e,e.state,null)}function Px(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=Q2,O1(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=_r(s):(s=Bi(e)?ll:ai.current,r.context=Uc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tx(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Eg.enqueueReplaceState(r,r.state,null),Jm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Wu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Se(309));var i=t.stateNode}if(!i)throw Error(Se(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===Q2&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Se(284));if(!t._owner)throw Error(Se(290,n))}return n}function lp(n,e){throw n=Object.prototype.toString.call(e),Error(Se(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function $S(n){var e=n._init;return e(n._payload)}function $2(n){function e(A,_){if(n){var M=A.deletions;M===null?(A.deletions=[_],A.flags|=16):M.push(_)}}function t(A,_){if(!n)return null;for(;_!==null;)e(A,_),_=_.sibling;return null}function i(A,_){for(A=new Map;_!==null;)_.key!==null?A.set(_.key,_):A.set(_.index,_),_=_.sibling;return A}function r(A,_){return A=Vo(A,_),A.index=0,A.sibling=null,A}function s(A,_,M){return A.index=M,n?(M=A.alternate,M!==null?(M=M.index,M<_?(A.flags|=2,_):M):(A.flags|=2,_)):(A.flags|=1048576,_)}function o(A){return n&&A.alternate===null&&(A.flags|=2),A}function a(A,_,M,S){return _===null||_.tag!==6?(_=zv(M,A.mode,S),_.return=A,_):(_=r(_,M),_.return=A,_)}function l(A,_,M,S){var E=M.type;return E===cc?d(A,_,M.props.children,S,M.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Co&&$S(E)===_.type)?(S=r(_,M.props),S.ref=Wu(A,_,M),S.return=A,S):(S=xm(M.type,M.key,M.props,null,A.mode,S),S.ref=Wu(A,_,M),S.return=A,S)}function u(A,_,M,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==M.containerInfo||_.stateNode.implementation!==M.implementation?(_=Gv(M,A.mode,S),_.return=A,_):(_=r(_,M.children||[]),_.return=A,_)}function d(A,_,M,S,E){return _===null||_.tag!==7?(_=el(M,A.mode,S,E),_.return=A,_):(_=r(_,M),_.return=A,_)}function h(A,_,M){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zv(""+_,A.mode,M),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qh:return M=xm(_.type,_.key,_.props,null,A.mode,M),M.ref=Wu(A,null,_),M.return=A,M;case lc:return _=Gv(_,A.mode,M),_.return=A,_;case Co:var S=_._init;return h(A,S(_._payload),M)}if(gf(_)||Uu(_))return _=el(_,A.mode,M,null),_.return=A,_;lp(A,_)}return null}function p(A,_,M,S){var E=_!==null?_.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return E!==null?null:a(A,_,""+M,S);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Qh:return M.key===E?l(A,_,M,S):null;case lc:return M.key===E?u(A,_,M,S):null;case Co:return E=M._init,p(A,_,E(M._payload),S)}if(gf(M)||Uu(M))return E!==null?null:d(A,_,M,S,null);lp(A,M)}return null}function m(A,_,M,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return A=A.get(M)||null,a(_,A,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qh:return A=A.get(S.key===null?M:S.key)||null,l(_,A,S,E);case lc:return A=A.get(S.key===null?M:S.key)||null,u(_,A,S,E);case Co:var P=S._init;return m(A,_,M,P(S._payload),E)}if(gf(S)||Uu(S))return A=A.get(M)||null,d(_,A,S,E,null);lp(_,S)}return null}function y(A,_,M,S){for(var E=null,P=null,L=_,b=_=0,R=null;L!==null&&b<M.length;b++){L.index>b?(R=L,L=null):R=L.sibling;var I=p(A,L,M[b],S);if(I===null){L===null&&(L=R);break}n&&L&&I.alternate===null&&e(A,L),_=s(I,_,b),P===null?E=I:P.sibling=I,P=I,L=R}if(b===M.length)return t(A,L),$t&&Na(A,b),E;if(L===null){for(;b<M.length;b++)L=h(A,M[b],S),L!==null&&(_=s(L,_,b),P===null?E=L:P.sibling=L,P=L);return $t&&Na(A,b),E}for(L=i(A,L);b<M.length;b++)R=m(L,A,b,M[b],S),R!==null&&(n&&R.alternate!==null&&L.delete(R.key===null?b:R.key),_=s(R,_,b),P===null?E=R:P.sibling=R,P=R);return n&&L.forEach(function(G){return e(A,G)}),$t&&Na(A,b),E}function v(A,_,M,S){var E=Uu(M);if(typeof E!="function")throw Error(Se(150));if(M=E.call(M),M==null)throw Error(Se(151));for(var P=E=null,L=_,b=_=0,R=null,I=M.next();L!==null&&!I.done;b++,I=M.next()){L.index>b?(R=L,L=null):R=L.sibling;var G=p(A,L,I.value,S);if(G===null){L===null&&(L=R);break}n&&L&&G.alternate===null&&e(A,L),_=s(G,_,b),P===null?E=G:P.sibling=G,P=G,L=R}if(I.done)return t(A,L),$t&&Na(A,b),E;if(L===null){for(;!I.done;b++,I=M.next())I=h(A,I.value,S),I!==null&&(_=s(I,_,b),P===null?E=I:P.sibling=I,P=I);return $t&&Na(A,b),E}for(L=i(A,L);!I.done;b++,I=M.next())I=m(L,A,b,I.value,S),I!==null&&(n&&I.alternate!==null&&L.delete(I.key===null?b:I.key),_=s(I,_,b),P===null?E=I:P.sibling=I,P=I);return n&&L.forEach(function(ee){return e(A,ee)}),$t&&Na(A,b),E}function x(A,_,M,S){if(typeof M=="object"&&M!==null&&M.type===cc&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Qh:e:{for(var E=M.key,P=_;P!==null;){if(P.key===E){if(E=M.type,E===cc){if(P.tag===7){t(A,P.sibling),_=r(P,M.props.children),_.return=A,A=_;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Co&&$S(E)===P.type){t(A,P.sibling),_=r(P,M.props),_.ref=Wu(A,P,M),_.return=A,A=_;break e}t(A,P);break}else e(A,P);P=P.sibling}M.type===cc?(_=el(M.props.children,A.mode,S,M.key),_.return=A,A=_):(S=xm(M.type,M.key,M.props,null,A.mode,S),S.ref=Wu(A,_,M),S.return=A,A=S)}return o(A);case lc:e:{for(P=M.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===M.containerInfo&&_.stateNode.implementation===M.implementation){t(A,_.sibling),_=r(_,M.children||[]),_.return=A,A=_;break e}else{t(A,_);break}else e(A,_);_=_.sibling}_=Gv(M,A.mode,S),_.return=A,A=_}return o(A);case Co:return P=M._init,x(A,_,P(M._payload),S)}if(gf(M))return y(A,_,M,S);if(Uu(M))return v(A,_,M,S);lp(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,_!==null&&_.tag===6?(t(A,_.sibling),_=r(_,M),_.return=A,A=_):(t(A,_),_=zv(M,A.mode,S),_.return=A,A=_),o(A)):t(A,_)}return x}var Gc=$2(!0),eP=$2(!1),Ed={},ls=ia(Ed),Qf=ia(Ed),Zf=ia(Ed);function Ja(n){if(n===Ed)throw Error(Se(174));return n}function U1(n,e){switch(Jt(Zf,e),Jt(Qf,n),Jt(ls,Ed),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ax(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ax(e,n)}Yt(ls),Jt(ls,e)}function Hc(){Yt(ls),Yt(Qf),Yt(Zf)}function tP(n){Ja(Zf.current);var e=Ja(ls.current),t=ax(e,n.type);e!==t&&(Jt(Qf,n),Jt(ls,t))}function z1(n){Qf.current===n&&(Yt(ls),Yt(Qf))}var rn=ia(0);function Xm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dv=[];function G1(){for(var n=0;n<Dv.length;n++)Dv[n]._workInProgressVersionPrimary=null;Dv.length=0}var pm=ro.ReactCurrentDispatcher,Nv=ro.ReactCurrentBatchConfig,ul=0,ln=null,Bn=null,Hn=null,Km=!1,Ef=!1,$f=0,JN=0;function ti(){throw Error(Se(321))}function H1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!jr(n[t],e[t]))return!1;return!0}function V1(n,e,t,i,r,s){if(ul=s,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pm.current=n===null||n.memoizedState===null?qN:QN,n=t(i,r),Ef){s=0;do{if(Ef=!1,$f=0,25<=s)throw Error(Se(301));s+=1,Hn=Bn=null,e.updateQueue=null,pm.current=ZN,n=t(i,r)}while(Ef)}if(pm.current=Ym,e=Bn!==null&&Bn.next!==null,ul=0,Hn=Bn=ln=null,Km=!1,e)throw Error(Se(300));return n}function W1(){var n=$f!==0;return $f=0,n}function rs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?ln.memoizedState=Hn=n:Hn=Hn.next=n,Hn}function wr(){if(Bn===null){var n=ln.alternate;n=n!==null?n.memoizedState:null}else n=Bn.next;var e=Hn===null?ln.memoizedState:Hn.next;if(e!==null)Hn=e,Bn=n;else{if(n===null)throw Error(Se(310));Bn=n,n={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Hn===null?ln.memoizedState=Hn=n:Hn=Hn.next=n}return Hn}function ed(n,e){return typeof e=="function"?e(n):e}function Fv(n){var e=wr(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=Bn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ul&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ln.lanes|=d,fl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,jr(i,e.memoizedState)||(Ti=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ln.lanes|=s,fl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function kv(n){var e=wr(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);jr(s,e.memoizedState)||(Ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function nP(){}function iP(n,e){var t=ln,i=wr(),r=e(),s=!jr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ti=!0),i=i.queue,j1(oP.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(t.flags|=2048,td(9,sP.bind(null,t,i,r,e),void 0,null),Vn===null)throw Error(Se(349));ul&30||rP(t,e,r)}return r}function rP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function sP(n,e,t,i){e.value=t,e.getSnapshot=i,aP(e)&&lP(n)}function oP(n,e,t){return t(function(){aP(e)&&lP(n)})}function aP(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!jr(n,t)}catch{return!0}}function lP(n){var e=$s(n,1);e!==null&&Vr(e,n,1,-1)}function eC(n){var e=rs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:n},e.queue=n,n=n.dispatch=YN.bind(null,ln,n),[e.memoizedState,n]}function td(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function cP(){return wr().memoizedState}function mm(n,e,t,i){var r=rs();ln.flags|=n,r.memoizedState=td(1|e,t,void 0,i===void 0?null:i)}function bg(n,e,t,i){var r=wr();i=i===void 0?null:i;var s=void 0;if(Bn!==null){var o=Bn.memoizedState;if(s=o.destroy,i!==null&&H1(i,o.deps)){r.memoizedState=td(e,t,s,i);return}}ln.flags|=n,r.memoizedState=td(1|e,t,s,i)}function tC(n,e){return mm(8390656,8,n,e)}function j1(n,e){return bg(2048,8,n,e)}function uP(n,e){return bg(4,2,n,e)}function fP(n,e){return bg(4,4,n,e)}function dP(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function hP(n,e,t){return t=t!=null?t.concat([n]):null,bg(4,4,dP.bind(null,e,n),t)}function J1(){}function pP(n,e){var t=wr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&H1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function mP(n,e){var t=wr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&H1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function gP(n,e,t){return ul&21?(jr(t,e)||(t=x2(),ln.lanes|=t,fl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ti=!0),n.memoizedState=t)}function XN(n,e){var t=Gt;Gt=t!==0&&4>t?t:4,n(!0);var i=Nv.transition;Nv.transition={};try{n(!1),e()}finally{Gt=t,Nv.transition=i}}function vP(){return wr().memoizedState}function KN(n,e,t){var i=Ho(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},yP(n))xP(e,t);else if(t=Y2(n,e,t,i),t!==null){var r=vi();Vr(t,n,i,r),AP(t,e,i)}}function YN(n,e,t){var i=Ho(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(yP(n))xP(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,jr(a,o)){var l=e.interleaved;l===null?(r.next=r,k1(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=Y2(n,e,r,i),t!==null&&(r=vi(),Vr(t,n,i,r),AP(t,e,i))}}function yP(n){var e=n.alternate;return n===ln||e!==null&&e===ln}function xP(n,e){Ef=Km=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function AP(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,M1(n,t)}}var Ym={readContext:_r,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},qN={readContext:_r,useCallback:function(n,e){return rs().memoizedState=[n,e===void 0?null:e],n},useContext:_r,useEffect:tC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,mm(4194308,4,dP.bind(null,e,n),t)},useLayoutEffect:function(n,e){return mm(4194308,4,n,e)},useInsertionEffect:function(n,e){return mm(4,2,n,e)},useMemo:function(n,e){var t=rs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=rs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=KN.bind(null,ln,n),[i.memoizedState,n]},useRef:function(n){var e=rs();return n={current:n},e.memoizedState=n},useState:eC,useDebugValue:J1,useDeferredValue:function(n){return rs().memoizedState=n},useTransition:function(){var n=eC(!1),e=n[0];return n=XN.bind(null,n[1]),rs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ln,r=rs();if($t){if(t===void 0)throw Error(Se(407));t=t()}else{if(t=e(),Vn===null)throw Error(Se(349));ul&30||rP(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,tC(oP.bind(null,i,s,n),[n]),i.flags|=2048,td(9,sP.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=rs(),e=Vn.identifierPrefix;if($t){var t=Hs,i=Gs;t=(i&~(1<<32-Hr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=$f++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=JN++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},QN={readContext:_r,useCallback:pP,useContext:_r,useEffect:j1,useImperativeHandle:hP,useInsertionEffect:uP,useLayoutEffect:fP,useMemo:mP,useReducer:Fv,useRef:cP,useState:function(){return Fv(ed)},useDebugValue:J1,useDeferredValue:function(n){var e=wr();return gP(e,Bn.memoizedState,n)},useTransition:function(){var n=Fv(ed)[0],e=wr().memoizedState;return[n,e]},useMutableSource:nP,useSyncExternalStore:iP,useId:vP,unstable_isNewReconciler:!1},ZN={readContext:_r,useCallback:pP,useContext:_r,useEffect:j1,useImperativeHandle:hP,useInsertionEffect:uP,useLayoutEffect:fP,useMemo:mP,useReducer:kv,useRef:cP,useState:function(){return kv(ed)},useDebugValue:J1,useDeferredValue:function(n){var e=wr();return Bn===null?e.memoizedState=n:gP(e,Bn.memoizedState,n)},useTransition:function(){var n=kv(ed)[0],e=wr().memoizedState;return[n,e]},useMutableSource:nP,useSyncExternalStore:iP,useId:vP,unstable_isNewReconciler:!1};function Vc(n,e){try{var t="",i=e;do t+=ED(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Ov(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Bx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var $N=typeof WeakMap=="function"?WeakMap:Map;function _P(n,e,t){t=Xs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Qm||(Qm=!0,zx=i),Bx(n,e)},t}function wP(n,e,t){t=Xs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Bx(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Bx(n,e),typeof i!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function nC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new $N;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=hF.bind(null,n,e,t),e.then(n,n))}function iC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function rC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Xs(-1,1),e.tag=2,zo(t,e,1))),t.lanes|=1),n)}var eF=ro.ReactCurrentOwner,Ti=!1;function mi(n,e,t,i){e.child=n===null?eP(e,null,t,i):Gc(e,n.child,t,i)}function sC(n,e,t,i,r){t=t.render;var s=e.ref;return Lc(e,r),i=V1(n,e,t,i,s,r),t=W1(),n!==null&&!Ti?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,eo(n,e,r)):($t&&t&&R1(e),e.flags|=1,mi(n,e,i,r),e.child)}function oC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!e_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,MP(n,e,s,i,r)):(n=xm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Xf,t(o,i)&&n.ref===e.ref)return eo(n,e,r)}return e.flags|=1,n=Vo(s,i),n.ref=e.ref,n.return=e,e.child=n}function MP(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Xf(s,i)&&n.ref===e.ref)if(Ti=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ti=!0);else return e.lanes=n.lanes,eo(n,e,r)}return Rx(n,e,t,i,r)}function SP(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(xc,Gi),Gi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Jt(xc,Gi),Gi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Jt(xc,Gi),Gi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Jt(xc,Gi),Gi|=i;return mi(n,e,r,t),e.child}function CP(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Rx(n,e,t,i,r){var s=Bi(t)?ll:ai.current;return s=Uc(e,s),Lc(e,r),t=V1(n,e,t,i,s,r),i=W1(),n!==null&&!Ti?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,eo(n,e,r)):($t&&i&&R1(e),e.flags|=1,mi(n,e,t,r),e.child)}function aC(n,e,t,i,r){if(Bi(t)){var s=!0;Gm(e)}else s=!1;if(Lc(e,r),e.stateNode===null)gm(n,e),Z2(e,t,i),Px(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Bi(t)?ll:ai.current,u=Uc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&ZS(e,o,i,u),Eo=!1;var p=e.memoizedState;o.state=p,Jm(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Pi.current||Eo?(typeof d=="function"&&(Tx(e,t,d,i),l=e.memoizedState),(a=Eo||QS(e,t,a,i,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,q2(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Bi(t)?ll:ai.current,l=Uc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ZS(e,o,i,l),Eo=!1,p=e.memoizedState,o.state=p,Jm(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Pi.current||Eo?(typeof m=="function"&&(Tx(e,t,m,i),y=e.memoizedState),(u=Eo||QS(e,t,u,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Lx(n,e,t,i,s,r)}function Lx(n,e,t,i,r,s){CP(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&JS(e,t,!1),eo(n,e,s);i=e.stateNode,eF.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Gc(e,n.child,null,s),e.child=Gc(e,null,a,s)):mi(n,e,a,s),e.memoizedState=i.state,r&&JS(e,t,!0),e.child}function EP(n){var e=n.stateNode;e.pendingContext?jS(n,e.pendingContext,e.pendingContext!==e.context):e.context&&jS(n,e.context,!1),U1(n,e.containerInfo)}function lC(n,e,t,i,r){return zc(),I1(r),e.flags|=256,mi(n,e,t,i),e.child}var Ix={dehydrated:null,treeContext:null,retryLane:0};function Dx(n){return{baseLanes:n,cachePool:null,transitions:null}}function bP(n,e,t){var i=e.pendingProps,r=rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Jt(rn,r&1),n===null)return Ex(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bg(o,i,0,null),n=el(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Dx(t),e.memoizedState=Ix,n):X1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return tF(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Vo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Vo(a,s):(s=el(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Dx(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Ix,i}return s=n.child,n=s.sibling,i=Vo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function X1(n,e){return e=Bg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function cp(n,e,t,i){return i!==null&&I1(i),Gc(e,n.child,null,t),n=X1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function tF(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Ov(Error(Se(422))),cp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Bg({mode:"visible",children:i.children},r,0,null),s=el(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Gc(e,n.child,null,o),e.child.memoizedState=Dx(o),e.memoizedState=Ix,s);if(!(e.mode&1))return cp(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Se(419)),i=Ov(s,i,void 0),cp(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ti||a){if(i=Vn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,$s(n,r),Vr(i,n,r,-1))}return $1(),i=Ov(Error(Se(421))),cp(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=pF.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Vi=Uo(r.nextSibling),ji=e,$t=!0,Ur=null,n!==null&&(pr[mr++]=Gs,pr[mr++]=Hs,pr[mr++]=cl,Gs=n.id,Hs=n.overflow,cl=e),e=X1(e,i.children),e.flags|=4096,e)}function cC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),bx(n.return,e,t)}function Uv(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function TP(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(mi(n,e,i.children,t),i=rn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cC(n,t,e);else if(n.tag===19)cC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Jt(rn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Xm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Uv(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Xm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Uv(e,!0,t,null,s);break;case"together":Uv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function eo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),fl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Se(153));if(e.child!==null){for(n=e.child,t=Vo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Vo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function nF(n,e,t){switch(e.tag){case 3:EP(e),zc();break;case 5:tP(e);break;case 1:Bi(e.type)&&Gm(e);break;case 4:U1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Jt(Wm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Jt(rn,rn.current&1),e.flags|=128,null):t&e.child.childLanes?bP(n,e,t):(Jt(rn,rn.current&1),n=eo(n,e,t),n!==null?n.sibling:null);Jt(rn,rn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return TP(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Jt(rn,rn.current),i)break;return null;case 22:case 23:return e.lanes=0,SP(n,e,t)}return eo(n,e,t)}var PP,Nx,BP,RP;PP=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Nx=function(){};BP=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ja(ls.current);var s=null;switch(t){case"input":r=ix(n,r),i=ix(n,i),s=[];break;case"select":r=cn({},r,{value:void 0}),i=cn({},i,{value:void 0}),s=[];break;case"textarea":r=ox(n,r),i=ox(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Um)}lx(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RP=function(n,e,t,i){t!==i&&(e.flags|=4)};function ju(n,e){if(!$t)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ni(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function iF(n,e,t){var i=e.pendingProps;switch(L1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(e),null;case 1:return Bi(e.type)&&zm(),ni(e),null;case 3:return i=e.stateNode,Hc(),Yt(Pi),Yt(ai),G1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(ap(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(Vx(Ur),Ur=null))),Nx(n,e),ni(e),null;case 5:z1(e);var r=Ja(Zf.current);if(t=e.type,n!==null&&e.stateNode!=null)BP(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Se(166));return ni(e),null}if(n=Ja(ls.current),ap(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[os]=e,i[qf]=s,n=(e.mode&1)!==0,t){case"dialog":Xt("cancel",i),Xt("close",i);break;case"iframe":case"object":case"embed":Xt("load",i);break;case"video":case"audio":for(r=0;r<yf.length;r++)Xt(yf[r],i);break;case"source":Xt("error",i);break;case"img":case"image":case"link":Xt("error",i),Xt("load",i);break;case"details":Xt("toggle",i);break;case"input":yS(i,s),Xt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xt("invalid",i);break;case"textarea":AS(i,s),Xt("invalid",i)}lx(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&op(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&op(i.textContent,a,n),r=["children",""+a]):zf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xt("scroll",i)}switch(t){case"input":Zh(i),xS(i,s,!0);break;case"textarea":Zh(i),_S(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Um)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=r2(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[os]=e,n[qf]=i,PP(n,e,!1,!1),e.stateNode=n;e:{switch(o=cx(t,i),t){case"dialog":Xt("cancel",n),Xt("close",n),r=i;break;case"iframe":case"object":case"embed":Xt("load",n),r=i;break;case"video":case"audio":for(r=0;r<yf.length;r++)Xt(yf[r],n);r=i;break;case"source":Xt("error",n),r=i;break;case"img":case"image":case"link":Xt("error",n),Xt("load",n),r=i;break;case"details":Xt("toggle",n),r=i;break;case"input":yS(n,i),r=ix(n,i),Xt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=cn({},i,{value:void 0}),Xt("invalid",n);break;case"textarea":AS(n,i),r=ox(n,i),Xt("invalid",n);break;default:r=i}lx(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?a2(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s2(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Gf(n,l):typeof l=="number"&&Gf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xt("scroll",n):l!=null&&v1(n,s,l,o))}switch(t){case"input":Zh(n),xS(n,i,!1);break;case"textarea":Zh(n),_S(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Xo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Tc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Tc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Um)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ni(e),null;case 6:if(n&&e.stateNode!=null)RP(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Se(166));if(t=Ja(Zf.current),Ja(ls.current),ap(e)){if(i=e.stateNode,t=e.memoizedProps,i[os]=e,(s=i.nodeValue!==t)&&(n=ji,n!==null))switch(n.tag){case 3:op(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&op(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[os]=e,e.stateNode=i}return ni(e),null;case 13:if(Yt(rn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if($t&&Vi!==null&&e.mode&1&&!(e.flags&128))K2(),zc(),e.flags|=98560,s=!1;else if(s=ap(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[os]=e}else zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ni(e),s=!1}else Ur!==null&&(Vx(Ur),Ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||rn.current&1?Rn===0&&(Rn=3):$1())),e.updateQueue!==null&&(e.flags|=4),ni(e),null);case 4:return Hc(),Nx(n,e),n===null&&Kf(e.stateNode.containerInfo),ni(e),null;case 10:return F1(e.type._context),ni(e),null;case 17:return Bi(e.type)&&zm(),ni(e),null;case 19:if(Yt(rn),s=e.memoizedState,s===null)return ni(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)ju(s,!1);else{if(Rn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Xm(n),o!==null){for(e.flags|=128,ju(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Jt(rn,rn.current&1|2),e.child}n=n.sibling}s.tail!==null&&yn()>Wc&&(e.flags|=128,i=!0,ju(s,!1),e.lanes=4194304)}else{if(!i)if(n=Xm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ju(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return ni(e),null}else 2*yn()-s.renderingStartTime>Wc&&t!==1073741824&&(e.flags|=128,i=!0,ju(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yn(),e.sibling=null,t=rn.current,Jt(rn,i?t&1|2:t&1),e):(ni(e),null);case 22:case 23:return Z1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Gi&1073741824&&(ni(e),e.subtreeFlags&6&&(e.flags|=8192)):ni(e),null;case 24:return null;case 25:return null}throw Error(Se(156,e.tag))}function rF(n,e){switch(L1(e),e.tag){case 1:return Bi(e.type)&&zm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Hc(),Yt(Pi),Yt(ai),G1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return z1(e),null;case 13:if(Yt(rn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Se(340));zc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Yt(rn),null;case 4:return Hc(),null;case 10:return F1(e.type._context),null;case 22:case 23:return Z1(),null;case 24:return null;default:return null}}var up=!1,si=!1,sF=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function yc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){pn(n,e,i)}else t.current=null}function Fx(n,e,t){try{t()}catch(i){pn(n,e,i)}}var uC=!1;function oF(n,e){if(xx=Fm,n=N2(),B1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ax={focusedElem:n,selectionRange:t},Fm=!1,Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,A=e.stateNode,_=A.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fr(e.type,v),x);A.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(S){pn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return y=uC,uC=!1,y}function bf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Fx(e,t,s)}r=r.next}while(r!==i)}}function Tg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function kx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function LP(n){var e=n.alternate;e!==null&&(n.alternate=null,LP(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[os],delete e[qf],delete e[Mx],delete e[HN],delete e[VN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function IP(n){return n.tag===5||n.tag===3||n.tag===4}function fC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||IP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ox(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Um));else if(i!==4&&(n=n.child,n!==null))for(Ox(n,e,t),n=n.sibling;n!==null;)Ox(n,e,t),n=n.sibling}function Ux(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Ux(n,e,t),n=n.sibling;n!==null;)Ux(n,e,t),n=n.sibling}var Jn=null,kr=!1;function mo(n,e,t){for(t=t.child;t!==null;)DP(n,e,t),t=t.sibling}function DP(n,e,t){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Ag,t)}catch{}switch(t.tag){case 5:si||yc(t,e);case 6:var i=Jn,r=kr;Jn=null,mo(n,e,t),Jn=i,kr=r,Jn!==null&&(kr?(n=Jn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Jn.removeChild(t.stateNode));break;case 18:Jn!==null&&(kr?(n=Jn,t=t.stateNode,n.nodeType===8?Lv(n.parentNode,t):n.nodeType===1&&Lv(n,t),jf(n)):Lv(Jn,t.stateNode));break;case 4:i=Jn,r=kr,Jn=t.stateNode.containerInfo,kr=!0,mo(n,e,t),Jn=i,kr=r;break;case 0:case 11:case 14:case 15:if(!si&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fx(t,e,o),r=r.next}while(r!==i)}mo(n,e,t);break;case 1:if(!si&&(yc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){pn(t,e,a)}mo(n,e,t);break;case 21:mo(n,e,t);break;case 22:t.mode&1?(si=(i=si)||t.memoizedState!==null,mo(n,e,t),si=i):mo(n,e,t);break;default:mo(n,e,t)}}function dC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new sF),e.forEach(function(i){var r=mF.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Br(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jn=a.stateNode,kr=!1;break e;case 3:Jn=a.stateNode.containerInfo,kr=!0;break e;case 4:Jn=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(Jn===null)throw Error(Se(160));DP(s,o,r),Jn=null,kr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){pn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NP(e,n),e=e.sibling}function NP(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Br(e,n),is(n),i&4){try{bf(3,n,n.return),Tg(3,n)}catch(v){pn(n,n.return,v)}try{bf(5,n,n.return)}catch(v){pn(n,n.return,v)}}break;case 1:Br(e,n),is(n),i&512&&t!==null&&yc(t,t.return);break;case 5:if(Br(e,n),is(n),i&512&&t!==null&&yc(t,t.return),n.flags&32){var r=n.stateNode;try{Gf(r,"")}catch(v){pn(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&n2(r,s),cx(a,o);var u=cx(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?a2(r,h):d==="dangerouslySetInnerHTML"?s2(r,h):d==="children"?Gf(r,h):v1(r,d,h,u)}switch(a){case"input":rx(r,s);break;case"textarea":i2(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Tc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Tc(r,!!s.multiple,s.defaultValue,!0):Tc(r,!!s.multiple,s.multiple?[]:"",!1))}r[qf]=s}catch(v){pn(n,n.return,v)}}break;case 6:if(Br(e,n),is(n),i&4){if(n.stateNode===null)throw Error(Se(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){pn(n,n.return,v)}}break;case 3:if(Br(e,n),is(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{jf(e.containerInfo)}catch(v){pn(n,n.return,v)}break;case 4:Br(e,n),is(n);break;case 13:Br(e,n),is(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(q1=yn())),i&4&&dC(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(si=(u=si)||d,Br(e,n),si=u):Br(e,n),is(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Ge=n,d=n.child;d!==null;){for(h=Ge=d;Ge!==null;){switch(p=Ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:bf(4,p,p.return);break;case 1:yc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){pn(i,t,v)}}break;case 5:yc(p,p.return);break;case 22:if(p.memoizedState!==null){pC(h);continue}}m!==null?(m.return=p,Ge=m):pC(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=o2("display",o))}catch(v){pn(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){pn(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Br(e,n),is(n),i&4&&dC(n);break;case 21:break;default:Br(e,n),is(n)}}function is(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(IP(t)){var i=t;break e}t=t.return}throw Error(Se(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Gf(r,""),i.flags&=-33);var s=fC(n);Ux(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=fC(n);Ox(n,a,o);break;default:throw Error(Se(161))}}catch(l){pn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function aF(n,e,t){Ge=n,FP(n)}function FP(n,e,t){for(var i=(n.mode&1)!==0;Ge!==null;){var r=Ge,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||up;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||si;a=up;var u=si;if(up=o,(si=l)&&!u)for(Ge=r;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?mC(r):l!==null?(l.return=o,Ge=l):mC(r);for(;s!==null;)Ge=s,FP(s),s=s.sibling;Ge=r,up=a,si=u}hC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ge=s):hC(n)}}function hC(n){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:si||Tg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!si)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Fr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qS(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qS(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}si||e.flags&512&&kx(e)}catch(p){pn(e,e.return,p)}}if(e===n){Ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function pC(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function mC(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Tg(4,e)}catch(l){pn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){pn(e,r,l)}}var s=e.return;try{kx(e)}catch(l){pn(e,s,l)}break;case 5:var o=e.return;try{kx(e)}catch(l){pn(e,o,l)}}}catch(l){pn(e,e.return,l)}if(e===n){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var lF=Math.ceil,qm=ro.ReactCurrentDispatcher,K1=ro.ReactCurrentOwner,xr=ro.ReactCurrentBatchConfig,It=0,Vn=null,Cn=null,Kn=0,Gi=0,xc=ia(0),Rn=0,nd=null,fl=0,Pg=0,Y1=0,Tf=null,Ei=null,q1=0,Wc=1/0,Fs=null,Qm=!1,zx=null,Go=null,fp=!1,Lo=null,Zm=0,Pf=0,Gx=null,vm=-1,ym=0;function vi(){return It&6?yn():vm!==-1?vm:vm=yn()}function Ho(n){return n.mode&1?It&2&&Kn!==0?Kn&-Kn:jN.transition!==null?(ym===0&&(ym=x2()),ym):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:E2(n.type)),n):1}function Vr(n,e,t,i){if(50<Pf)throw Pf=0,Gx=null,Error(Se(185));Md(n,t,i),(!(It&2)||n!==Vn)&&(n===Vn&&(!(It&2)&&(Pg|=t),Rn===4&&Bo(n,Kn)),Ri(n,i),t===1&&It===0&&!(e.mode&1)&&(Wc=yn()+500,Cg&&ra()))}function Ri(n,e){var t=n.callbackNode;jD(n,e);var i=Nm(n,n===Vn?Kn:0);if(i===0)t!==null&&SS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&SS(t),e===1)n.tag===0?WN(gC.bind(null,n)):j2(gC.bind(null,n)),zN(function(){!(It&6)&&ra()}),t=null;else{switch(A2(i)){case 1:t=w1;break;case 4:t=v2;break;case 16:t=Dm;break;case 536870912:t=y2;break;default:t=Dm}t=WP(t,kP.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function kP(n,e){if(vm=-1,ym=0,It&6)throw Error(Se(327));var t=n.callbackNode;if(Ic()&&n.callbackNode!==t)return null;var i=Nm(n,n===Vn?Kn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=$m(n,i);else{e=i;var r=It;It|=2;var s=UP();(Vn!==n||Kn!==e)&&(Fs=null,Wc=yn()+500,$a(n,e));do try{fF();break}catch(a){OP(n,a)}while(1);N1(),qm.current=s,It=r,Cn!==null?e=0:(Vn=null,Kn=0,e=Rn)}if(e!==0){if(e===2&&(r=px(n),r!==0&&(i=r,e=Hx(n,r))),e===1)throw t=nd,$a(n,0),Bo(n,i),Ri(n,yn()),t;if(e===6)Bo(n,i);else{if(r=n.current.alternate,!(i&30)&&!cF(r)&&(e=$m(n,i),e===2&&(s=px(n),s!==0&&(i=s,e=Hx(n,s))),e===1))throw t=nd,$a(n,0),Bo(n,i),Ri(n,yn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Se(345));case 2:Fa(n,Ei,Fs);break;case 3:if(Bo(n,i),(i&130023424)===i&&(e=q1+500-yn(),10<e)){if(Nm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){vi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=wx(Fa.bind(null,n,Ei,Fs),e);break}Fa(n,Ei,Fs);break;case 4:if(Bo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Hr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=yn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*lF(i/1960))-i,10<i){n.timeoutHandle=wx(Fa.bind(null,n,Ei,Fs),i);break}Fa(n,Ei,Fs);break;case 5:Fa(n,Ei,Fs);break;default:throw Error(Se(329))}}}return Ri(n,yn()),n.callbackNode===t?kP.bind(null,n):null}function Hx(n,e){var t=Tf;return n.current.memoizedState.isDehydrated&&($a(n,e).flags|=256),n=$m(n,e),n!==2&&(e=Ei,Ei=t,e!==null&&Vx(e)),n}function Vx(n){Ei===null?Ei=n:Ei.push.apply(Ei,n)}function cF(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!jr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bo(n,e){for(e&=~Y1,e&=~Pg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hr(e),i=1<<t;n[t]=-1,e&=~i}}function gC(n){if(It&6)throw Error(Se(327));Ic();var e=Nm(n,0);if(!(e&1))return Ri(n,yn()),null;var t=$m(n,e);if(n.tag!==0&&t===2){var i=px(n);i!==0&&(e=i,t=Hx(n,i))}if(t===1)throw t=nd,$a(n,0),Bo(n,e),Ri(n,yn()),t;if(t===6)throw Error(Se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Fa(n,Ei,Fs),Ri(n,yn()),null}function Q1(n,e){var t=It;It|=1;try{return n(e)}finally{It=t,It===0&&(Wc=yn()+500,Cg&&ra())}}function dl(n){Lo!==null&&Lo.tag===0&&!(It&6)&&Ic();var e=It;It|=1;var t=xr.transition,i=Gt;try{if(xr.transition=null,Gt=1,n)return n()}finally{Gt=i,xr.transition=t,It=e,!(It&6)&&ra()}}function Z1(){Gi=xc.current,Yt(xc)}function $a(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,UN(t)),Cn!==null)for(t=Cn.return;t!==null;){var i=t;switch(L1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zm();break;case 3:Hc(),Yt(Pi),Yt(ai),G1();break;case 5:z1(i);break;case 4:Hc();break;case 13:Yt(rn);break;case 19:Yt(rn);break;case 10:F1(i.type._context);break;case 22:case 23:Z1()}t=t.return}if(Vn=n,Cn=n=Vo(n.current,null),Kn=Gi=e,Rn=0,nd=null,Y1=Pg=fl=0,Ei=Tf=null,ja!==null){for(e=0;e<ja.length;e++)if(t=ja[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}ja=null}return n}function OP(n,e){do{var t=Cn;try{if(N1(),pm.current=Ym,Km){for(var i=ln.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Km=!1}if(ul=0,Hn=Bn=ln=null,Ef=!1,$f=0,K1.current=null,t===null||t.return===null){Rn=1,nd=e,Cn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=iC(o);if(m!==null){m.flags&=-257,rC(m,o,a,s,e),m.mode&1&&nC(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){nC(s,u,e),$1();break e}l=Error(Se(426))}}else if($t&&a.mode&1){var x=iC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rC(x,o,a,s,e),I1(Vc(l,a));break e}}s=l=Vc(l,a),Rn!==4&&(Rn=2),Tf===null?Tf=[s]:Tf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=_P(s,l,e);YS(s,A);break e;case 1:a=l;var _=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Go===null||!Go.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=wP(s,a,e);YS(s,S);break e}}s=s.return}while(s!==null)}GP(t)}catch(E){e=E,Cn===t&&t!==null&&(Cn=t=t.return);continue}break}while(1)}function UP(){var n=qm.current;return qm.current=Ym,n===null?Ym:n}function $1(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Vn===null||!(fl&268435455)&&!(Pg&268435455)||Bo(Vn,Kn)}function $m(n,e){var t=It;It|=2;var i=UP();(Vn!==n||Kn!==e)&&(Fs=null,$a(n,e));do try{uF();break}catch(r){OP(n,r)}while(1);if(N1(),It=t,qm.current=i,Cn!==null)throw Error(Se(261));return Vn=null,Kn=0,Rn}function uF(){for(;Cn!==null;)zP(Cn)}function fF(){for(;Cn!==null&&!FD();)zP(Cn)}function zP(n){var e=VP(n.alternate,n,Gi);n.memoizedProps=n.pendingProps,e===null?GP(n):Cn=e,K1.current=null}function GP(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=rF(t,e),t!==null){t.flags&=32767,Cn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Rn=6,Cn=null;return}}else if(t=iF(t,e,Gi),t!==null){Cn=t;return}if(e=e.sibling,e!==null){Cn=e;return}Cn=e=n}while(e!==null);Rn===0&&(Rn=5)}function Fa(n,e,t){var i=Gt,r=xr.transition;try{xr.transition=null,Gt=1,dF(n,e,t,i)}finally{xr.transition=r,Gt=i}return null}function dF(n,e,t,i){do Ic();while(Lo!==null);if(It&6)throw Error(Se(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Se(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(JD(n,s),n===Vn&&(Cn=Vn=null,Kn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||fp||(fp=!0,WP(Dm,function(){return Ic(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=xr.transition,xr.transition=null;var o=Gt;Gt=1;var a=It;It|=4,K1.current=null,oF(n,t),NP(t,n),LN(Ax),Fm=!!xx,Ax=xx=null,n.current=t,aF(t),kD(),It=a,Gt=o,xr.transition=s}else n.current=t;if(fp&&(fp=!1,Lo=n,Zm=r),s=n.pendingLanes,s===0&&(Go=null),zD(t.stateNode),Ri(n,yn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Qm)throw Qm=!1,n=zx,zx=null,n;return Zm&1&&n.tag!==0&&Ic(),s=n.pendingLanes,s&1?n===Gx?Pf++:(Pf=0,Gx=n):Pf=0,ra(),null}function Ic(){if(Lo!==null){var n=A2(Zm),e=xr.transition,t=Gt;try{if(xr.transition=null,Gt=16>n?16:n,Lo===null)var i=!1;else{if(n=Lo,Lo=null,Zm=0,It&6)throw Error(Se(331));var r=It;for(It|=4,Ge=n.current;Ge!==null;){var s=Ge,o=s.child;if(Ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ge=u;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:bf(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ge=h;else for(;Ge!==null;){d=Ge;var p=d.sibling,m=d.return;if(LP(d),d===u){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bf(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,Ge=A;break e}Ge=s.return}}var _=n.current;for(Ge=_;Ge!==null;){o=Ge;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,Ge=M;else e:for(o=_;Ge!==null;){if(a=Ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tg(9,a)}}catch(E){pn(a,a.return,E)}if(a===o){Ge=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ge=S;break e}Ge=a.return}}if(It=r,ra(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Ag,n)}catch{}i=!0}return i}finally{Gt=t,xr.transition=e}}return!1}function vC(n,e,t){e=Vc(t,e),e=_P(n,e,1),n=zo(n,e,1),e=vi(),n!==null&&(Md(n,1,e),Ri(n,e))}function pn(n,e,t){if(n.tag===3)vC(n,n,t);else for(;e!==null;){if(e.tag===3){vC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Go===null||!Go.has(i))){n=Vc(t,n),n=wP(e,n,1),e=zo(e,n,1),n=vi(),e!==null&&(Md(e,1,n),Ri(e,n));break}}e=e.return}}function hF(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=vi(),n.pingedLanes|=n.suspendedLanes&t,Vn===n&&(Kn&t)===t&&(Rn===4||Rn===3&&(Kn&130023424)===Kn&&500>yn()-q1?$a(n,0):Y1|=t),Ri(n,e)}function HP(n,e){e===0&&(n.mode&1?(e=tp,tp<<=1,!(tp&130023424)&&(tp=4194304)):e=1);var t=vi();n=$s(n,e),n!==null&&(Md(n,e,t),Ri(n,t))}function pF(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),HP(n,t)}function mF(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Se(314))}i!==null&&i.delete(e),HP(n,t)}var VP;VP=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Pi.current)Ti=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ti=!1,nF(n,e,t);Ti=!!(n.flags&131072)}else Ti=!1,$t&&e.flags&1048576&&J2(e,Vm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;gm(n,e),n=e.pendingProps;var r=Uc(e,ai.current);Lc(e,t),r=V1(null,e,i,n,r,t);var s=W1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bi(i)?(s=!0,Gm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,O1(e),r.updater=Eg,e.stateNode=r,r._reactInternals=e,Px(e,i,n,t),e=Lx(null,e,i,!0,s,t)):(e.tag=0,$t&&s&&R1(e),mi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(gm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=vF(i),n=Fr(i,n),r){case 0:e=Rx(null,e,i,n,t);break e;case 1:e=aC(null,e,i,n,t);break e;case 11:e=sC(null,e,i,n,t);break e;case 14:e=oC(null,e,i,Fr(i.type,n),t);break e}throw Error(Se(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fr(i,r),Rx(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fr(i,r),aC(n,e,i,r,t);case 3:e:{if(EP(e),n===null)throw Error(Se(387));i=e.pendingProps,s=e.memoizedState,r=s.element,q2(n,e),Jm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Vc(Error(Se(423)),e),e=lC(n,e,i,t,r);break e}else if(i!==r){r=Vc(Error(Se(424)),e),e=lC(n,e,i,t,r);break e}else for(Vi=Uo(e.stateNode.containerInfo.firstChild),ji=e,$t=!0,Ur=null,t=eP(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zc(),i===r){e=eo(n,e,t);break e}mi(n,e,i,t)}e=e.child}return e;case 5:return tP(e),n===null&&Ex(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,_x(i,r)?o=null:s!==null&&_x(i,s)&&(e.flags|=32),CP(n,e),mi(n,e,o,t),e.child;case 6:return n===null&&Ex(e),null;case 13:return bP(n,e,t);case 4:return U1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Gc(e,null,i,t):mi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fr(i,r),sC(n,e,i,r,t);case 7:return mi(n,e,e.pendingProps,t),e.child;case 8:return mi(n,e,e.pendingProps.children,t),e.child;case 12:return mi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Jt(Wm,i._currentValue),i._currentValue=o,s!==null)if(jr(s.value,o)){if(s.children===r.children&&!Pi.current){e=eo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Xs(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),bx(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),bx(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Lc(e,t),r=_r(r),i=i(r),e.flags|=1,mi(n,e,i,t),e.child;case 14:return i=e.type,r=Fr(i,e.pendingProps),r=Fr(i.type,r),oC(n,e,i,r,t);case 15:return MP(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Fr(i,r),gm(n,e),e.tag=1,Bi(i)?(n=!0,Gm(e)):n=!1,Lc(e,t),Z2(e,i,r),Px(e,i,r,t),Lx(null,e,i,!0,n,t);case 19:return TP(n,e,t);case 22:return SP(n,e,t)}throw Error(Se(156,e.tag))};function WP(n,e){return g2(n,e)}function gF(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(n,e,t,i){return new gF(n,e,t,i)}function e_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vF(n){if(typeof n=="function")return e_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===x1)return 11;if(n===A1)return 14}return 2}function Vo(n,e){var t=n.alternate;return t===null?(t=vr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function xm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")e_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case cc:return el(t.children,r,s,e);case y1:o=8,r|=8;break;case $y:return n=vr(12,t,e,r|2),n.elementType=$y,n.lanes=s,n;case ex:return n=vr(13,t,e,r),n.elementType=ex,n.lanes=s,n;case tx:return n=vr(19,t,e,r),n.elementType=tx,n.lanes=s,n;case $T:return Bg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case QT:o=10;break e;case ZT:o=9;break e;case x1:o=11;break e;case A1:o=14;break e;case Co:o=16,i=null;break e}throw Error(Se(130,n==null?n:typeof n,""))}return e=vr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function el(n,e,t,i){return n=vr(7,n,i,e),n.lanes=t,n}function Bg(n,e,t,i){return n=vr(22,n,i,e),n.elementType=$T,n.lanes=t,n.stateNode={isHidden:!1},n}function zv(n,e,t){return n=vr(6,n,null,e),n.lanes=t,n}function Gv(n,e,t){return e=vr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function yF(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function t_(n,e,t,i,r,s,o,a,l){return n=new yF(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},O1(s),n}function xF(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function jP(n){if(!n)return Ko;n=n._reactInternals;e:{if(yl(n)!==n||n.tag!==1)throw Error(Se(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Se(171))}if(n.tag===1){var t=n.type;if(Bi(t))return W2(n,t,e)}return e}function JP(n,e,t,i,r,s,o,a,l){return n=t_(t,i,!0,n,r,s,o,a,l),n.context=jP(null),t=n.current,i=vi(),r=Ho(t),s=Xs(i,r),s.callback=e??null,zo(t,s,r),n.current.lanes=r,Md(n,r,i),Ri(n,i),n}function Rg(n,e,t,i){var r=e.current,s=vi(),o=Ho(r);return t=jP(t),e.context===null?e.context=t:e.pendingContext=t,e=Xs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=zo(r,e,o),n!==null&&(Vr(n,r,o,s),hm(n,r,o)),o}function eg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function yC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function n_(n,e){yC(n,e),(n=n.alternate)&&yC(n,e)}function AF(){return null}var XP=typeof reportError=="function"?reportError:function(n){console.error(n)};function i_(n){this._internalRoot=n}Lg.prototype.render=i_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Se(409));Rg(n,e,null,null)};Lg.prototype.unmount=i_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;dl(function(){Rg(null,n,null,null)}),e[Zs]=null}};function Lg(n){this._internalRoot=n}Lg.prototype.unstable_scheduleHydration=function(n){if(n){var e=M2();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Po.length&&e!==0&&e<Po[t].priority;t++);Po.splice(t,0,n),t===0&&C2(n)}};function r_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ig(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function xC(){}function _F(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=eg(o);s.call(u)}}var o=JP(e,i,n,0,null,!1,!1,"",xC);return n._reactRootContainer=o,n[Zs]=o.current,Kf(n.nodeType===8?n.parentNode:n),dl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=eg(l);a.call(u)}}var l=t_(n,0,!1,null,null,!1,!1,"",xC);return n._reactRootContainer=l,n[Zs]=l.current,Kf(n.nodeType===8?n.parentNode:n),dl(function(){Rg(e,l,t,i)}),l}function Dg(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=eg(o);a.call(l)}}Rg(e,o,n,r)}else o=_F(t,e,n,r,i);return eg(o)}_2=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vf(e.pendingLanes);t!==0&&(M1(e,t|1),Ri(e,yn()),!(It&6)&&(Wc=yn()+500,ra()))}break;case 13:dl(function(){var i=$s(n,1);if(i!==null){var r=vi();Vr(i,n,1,r)}}),n_(n,1)}};S1=function(n){if(n.tag===13){var e=$s(n,134217728);if(e!==null){var t=vi();Vr(e,n,134217728,t)}n_(n,134217728)}};w2=function(n){if(n.tag===13){var e=Ho(n),t=$s(n,e);if(t!==null){var i=vi();Vr(t,n,e,i)}n_(n,e)}};M2=function(){return Gt};S2=function(n,e){var t=Gt;try{return Gt=n,e()}finally{Gt=t}};fx=function(n,e,t){switch(e){case"input":if(rx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Sg(i);if(!r)throw Error(Se(90));t2(i),rx(i,r)}}}break;case"textarea":i2(n,t);break;case"select":e=t.value,e!=null&&Tc(n,!!t.multiple,e,!1)}};u2=Q1;f2=dl;var wF={usingClientEntryPoint:!1,Events:[Cd,hc,Sg,l2,c2,Q1]},Ju={findFiberByHostInstance:Wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MF={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=p2(n),n===null?null:n.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||AF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{Ag=dp.inject(MF),as=dp}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wF;qi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r_(e))throw Error(Se(200));return xF(n,e,null,t)};qi.createRoot=function(n,e){if(!r_(n))throw Error(Se(299));var t=!1,i="",r=XP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=t_(n,1,!1,null,null,t,!1,i,r),n[Zs]=e.current,Kf(n.nodeType===8?n.parentNode:n),new i_(e)};qi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Se(188)):(n=Object.keys(n).join(","),Error(Se(268,n)));return n=p2(e),n=n===null?null:n.stateNode,n};qi.flushSync=function(n){return dl(n)};qi.hydrate=function(n,e,t){if(!Ig(e))throw Error(Se(200));return Dg(null,n,e,!0,t)};qi.hydrateRoot=function(n,e,t){if(!r_(n))throw Error(Se(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=XP;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=JP(e,null,n,1,t??null,r,!1,s,o),n[Zs]=e.current,Kf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Lg(e)};qi.render=function(n,e,t){if(!Ig(e))throw Error(Se(200));return Dg(null,n,e,!1,t)};qi.unmountComponentAtNode=function(n){if(!Ig(n))throw Error(Se(40));return n._reactRootContainer?(dl(function(){Dg(null,null,n,!1,function(){n._reactRootContainer=null,n[Zs]=null})}),!0):!1};qi.unstable_batchedUpdates=Q1;qi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Ig(t))throw Error(Se(200));if(n==null||n._reactInternals===void 0)throw Error(Se(38));return Dg(n,e,t,!1,i)};qi.version="18.2.0-next-9e3b772b8-20220608";function KP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KP)}catch(n){console.error(n)}}KP(),JT.exports=qi;var YP=JT.exports,qP,AC=YP;qP=Qy.createRoot=AC.createRoot,Qy.hydrateRoot=AC.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},id.apply(this,arguments)}var Io;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Io||(Io={}));const _C="popstate";function SF(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Wx("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:tg(r)}return EF(e,t,null,n)}function In(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function CF(){return Math.random().toString(36).substr(2,8)}function wC(n,e){return{usr:n.state,key:n.key,idx:e}}function Wx(n,e,t,i){return t===void 0&&(t=null),id({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ou(e):e,{state:t,key:e&&e.key||i||CF()})}function tg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ou(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function EF(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Io.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(id({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Io.Pop;let x=d(),A=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:A})}function p(x,A){a=Io.Push;let _=Wx(v.location,x,A);t&&t(_,x),u=d()+1;let M=wC(_,u),S=v.createHref(_);try{o.pushState(M,"",S)}catch{r.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function m(x,A){a=Io.Replace;let _=Wx(v.location,x,A);t&&t(_,x),u=d();let M=wC(_,u),S=v.createHref(_);o.replaceState(M,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function y(x){let A=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:tg(x);return In(A,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,A)}let v={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(_C,h),l=x,()=>{r.removeEventListener(_C,h),l=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let A=y(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:m,go(x){return o.go(x)}};return v}var MC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(MC||(MC={}));function bF(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?ou(e):e,r=$P(i.pathname||"/",t);if(r==null)return null;let s=QP(n);TF(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=kF(s[a],zF(r));return o}function QP(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(In(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Wo([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(In(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QP(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:NF(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of ZP(s.path))r(s,o,l)}),e}function ZP(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=ZP(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function TF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FF(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const PF=/^:\w+$/,BF=3,RF=2,LF=1,IF=10,DF=-2,SC=n=>n==="*";function NF(n,e){let t=n.split("/"),i=t.length;return t.some(SC)&&(i+=DF),e&&(i+=RF),t.filter(r=>!SC(r)).reduce((r,s)=>r+(PF.test(s)?BF:s===""?LF:IF),i)}function FF(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function kF(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=OF({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(i,d.params);let h=a.route;s.push({params:i,pathname:Wo([r,d.pathname]),pathnameBase:WF(Wo([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=Wo([r,d.pathnameBase]))}return s}function OF(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=UF(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,d,h)=>{if(d==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[d]=GF(a[h]||"",d),u},{}),pathname:s,pathnameBase:o,pattern:n}}function UF(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),s_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function zF(n){try{return decodeURI(n)}catch(e){return s_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function GF(n,e){try{return decodeURIComponent(n)}catch(t){return s_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function $P(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function s_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HF(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ou(n):n;return{pathname:t?t.startsWith("/")?t:VF(t,e):e,search:jF(i),hash:JF(r)}}function VF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Hv(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tB(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=ou(n):(r=id({},n),In(!r.pathname||!r.pathname.includes("?"),Hv("?","pathname","search",r)),In(!r.pathname||!r.pathname.includes("#"),Hv("#","pathname","hash",r)),In(!r.search||!r.search.includes("#"),Hv("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=HF(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Wo=n=>n.join("/").replace(/\/\/+/g,"/"),WF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nB=["post","put","patch","delete"];new Set(nB);const KF=["get",...nB];new Set(KF);/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jx(){return jx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jx.apply(this,arguments)}function YF(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const qF=typeof Object.is=="function"?Object.is:YF,{useState:QF,useEffect:ZF,useLayoutEffect:$F,useDebugValue:ek}=qy;function tk(n,e,t){const i=e(),[{inst:r},s]=QF({inst:{value:i,getSnapshot:e}});return $F(()=>{r.value=i,r.getSnapshot=e,Vv(r)&&s({inst:r})},[n,i,e]),ZF(()=>(Vv(r)&&s({inst:r}),n(()=>{Vv(r)&&s({inst:r})})),[n]),ek(i),i}function Vv(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!qF(t,i)}catch{return!0}}function nk(n,e,t){return e()}const ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rk=!ik,sk=rk?nk:tk;"useSyncExternalStore"in qy&&(n=>n.useSyncExternalStore)(qy);const iB=U.createContext(null),rB=U.createContext(null),Ng=U.createContext(null),Fg=U.createContext(null),au=U.createContext({outlet:null,matches:[]}),sB=U.createContext(null);function ok(n,e){let{relative:t}=e===void 0?{}:e;bd()||In(!1);let{basename:i,navigator:r}=U.useContext(Ng),{hash:s,pathname:o,search:a}=oB(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Wo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function bd(){return U.useContext(Fg)!=null}function kg(){return bd()||In(!1),U.useContext(Fg).location}function ak(){bd()||In(!1);let{basename:n,navigator:e}=U.useContext(Ng),{matches:t}=U.useContext(au),{pathname:i}=kg(),r=JSON.stringify(eB(t).map(a=>a.pathnameBase)),s=U.useRef(!1);return U.useEffect(()=>{s.current=!0}),U.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=tB(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(u.pathname=u.pathname==="/"?n:Wo([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[n,e,r,i])}function oB(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=U.useContext(au),{pathname:r}=kg(),s=JSON.stringify(eB(i).map(o=>o.pathnameBase));return U.useMemo(()=>tB(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function lk(n,e){bd()||In(!1);let{navigator:t}=U.useContext(Ng),i=U.useContext(rB),{matches:r}=U.useContext(au),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=kg(),u;if(e){var d;let v=typeof e=="string"?ou(e):e;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||In(!1),u=v}else u=l;let h=u.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",m=bF(n,{pathname:p}),y=dk(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Wo([a,t.encodeLocation?t.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Wo([a,t.encodeLocation?t.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),r,i||void 0);return e&&y?U.createElement(Fg.Provider,{value:{location:jx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Io.Pop}},y):y}function ck(){let n=gk(),e=XF(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,s)}class uk extends U.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?U.createElement(au.Provider,{value:this.props.routeContext},U.createElement(sB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fk(n){let{routeContext:e,match:t,children:i}=n,r=U.useContext(iB);return r&&r.static&&r.staticContext&&t.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(au.Provider,{value:e},i)}function dk(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let i=n,r=t==null?void 0:t.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||In(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,u=t?o.route.errorElement||U.createElement(ck,null):null,d=e.concat(i.slice(0,a+1)),h=()=>U.createElement(fk,{match:o,routeContext:{outlet:s,matches:d}},l?u:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?U.createElement(uk,{location:t.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var CC;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(CC||(CC={}));var ng;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(ng||(ng={}));function hk(n){let e=U.useContext(rB);return e||In(!1),e}function pk(n){let e=U.useContext(au);return e||In(!1),e}function mk(n){let e=pk(),t=e.matches[e.matches.length-1];return t.route.id||In(!1),t.route.id}function gk(){var n;let e=U.useContext(sB),t=hk(ng.UseRouteError),i=mk(ng.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function Nr(n){In(!1)}function vk(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Io.Pop,navigator:s,static:o=!1}=n;bd()&&In(!1);let a=e.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=ou(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,y=U.useMemo(()=>{let v=$P(u,a);return v==null?null:{pathname:v,search:d,hash:h,state:p,key:m}},[a,u,d,h,p,m]);return y==null?null:U.createElement(Ng.Provider,{value:l},U.createElement(Fg.Provider,{children:t,value:{location:y,navigationType:r}}))}function yk(n){let{children:e,location:t}=n,i=U.useContext(iB),r=i&&!e?i.router.routes:Jx(e);return lk(r,t)}var EC;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(EC||(EC={}));new Promise(()=>{});function Jx(n,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;if(i.type===U.Fragment){t.push.apply(t,Jx(i.props.children,e));return}i.type!==Nr&&In(!1),!i.props.index||!i.props.children||In(!1);let s=[...e,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=Jx(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xx(){return Xx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xx.apply(this,arguments)}function xk(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Ak(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _k(n,e){return n.button===0&&(!e||e==="_self")&&!Ak(n)}const wk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Mk(n){let{basename:e,children:t,window:i}=n,r=U.useRef();r.current==null&&(r.current=SF({window:i,v5Compat:!0}));let s=r.current,[o,a]=U.useState({action:s.action,location:s.location});return U.useLayoutEffect(()=>s.listen(a),[s]),U.createElement(vk,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const Sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oi=U.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,h=xk(e,wk),p,m=!1;if(Sk&&typeof u=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(u)){p=u;let A=new URL(window.location.href),_=u.startsWith("//")?new URL(A.protocol+u):new URL(u);_.origin===A.origin?u=_.pathname+_.search+_.hash:m=!0}let y=ok(u,{relative:r}),v=Ck(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r});function x(A){i&&i(A),A.defaultPrevented||v(A)}return U.createElement("a",Xx({},h,{href:p||y,onClick:m||s?i:x,ref:t,target:l}))});var bC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(bC||(bC={}));var TC;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TC||(TC={}));function Ck(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=ak(),l=kg(),u=oB(n,{relative:o});return U.useCallback(d=>{if(_k(d,t)){d.preventDefault();let h=i!==void 0?i:tg(l)===tg(u);a(n,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const lu="149",ka={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Oa={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},aB=0,Kx=1,lB=2,Ek=3,cB=0,Og=1,Bf=2,Xa=3,ds=0,Li=1,Gr=2,bk=2,Ks=0,tl=1,Yx=2,qx=3,Qx=4,uB=5,Ha=100,fB=101,dB=102,Zx=103,$x=104,hB=200,pB=201,mB=202,gB=203,o_=204,a_=205,vB=206,yB=207,xB=208,AB=209,_B=210,wB=0,MB=1,SB=2,ig=3,CB=4,EB=5,bB=6,TB=7,Td=0,PB=1,BB=2,Wr=0,RB=1,LB=2,IB=3,l_=4,DB=5,Ug=300,Yo=301,qo=302,rd=303,sd=304,cu=306,Qo=1e3,Xn=1001,jc=1002,mn=1003,od=1004,Tk=1004,Dc=1005,Pk=1005,sn=1006,zg=1007,Bk=1007,hs=1008,Rk=1008,to=1009,NB=1010,FB=1011,c_=1012,kB=1013,Do=1014,Vs=1015,Jc=1016,OB=1017,UB=1018,nl=1020,zB=1021,bi=1023,GB=1024,HB=1025,jo=1026,hl=1027,VB=1028,WB=1029,jB=1030,JB=1031,XB=1033,Am=33776,_m=33777,wm=33778,Mm=33779,eA=35840,tA=35841,nA=35842,iA=35843,KB=36196,rA=37492,sA=37496,oA=37808,aA=37809,lA=37810,cA=37811,uA=37812,fA=37813,dA=37814,hA=37815,pA=37816,mA=37817,gA=37818,vA=37819,yA=37820,xA=37821,Sm=36492,YB=36283,AA=36284,_A=36285,wA=36286,qB=2200,QB=2201,ZB=2202,Xc=2300,pl=2301,Cm=2302,Ka=2400,Ya=2401,ad=2402,Gg=2500,u_=2501,$B=0,f_=1,rg=2,no=3e3,Vt=3001,e3=3200,t3=3201,sa=0,n3=1,Lk="",Or="srgb",Kc="srgb-linear",Ik=0,Em=7680,Dk=7681,Nk=7682,Fk=7683,kk=34055,Ok=34056,Uk=5386,zk=512,Gk=513,Hk=514,Vk=515,Wk=516,jk=517,Jk=518,i3=519,ld=35044,il=35048,Xk=35040,Kk=35045,Yk=35049,qk=35041,Qk=35046,Zk=35050,$k=35042,eO="100",MA="300 es",sg=1035;class ms{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ii=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let PC=1234567;const rl=Math.PI/180,cd=180/Math.PI;function Ji(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ii[n&255]+ii[n>>8&255]+ii[n>>16&255]+ii[n>>24&255]+"-"+ii[e&255]+ii[e>>8&255]+"-"+ii[e>>16&15|64]+ii[e>>24&255]+"-"+ii[t&63|128]+ii[t>>8&255]+"-"+ii[t>>16&255]+ii[t>>24&255]+ii[i&255]+ii[i>>8&255]+ii[i>>16&255]+ii[i>>24&255]).toLowerCase()}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function d_(n,e){return(n%e+e)%e}function tO(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function nO(n,e,t){return n!==e?(t-n)/(e-n):0}function Rf(n,e,t){return(1-t)*n+t*e}function iO(n,e,t,i){return Rf(n,e,1-Math.exp(-t*i))}function rO(n,e=1){return e-Math.abs(d_(n,e*2)-e)}function sO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function oO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function aO(n,e){return n+Math.floor(Math.random()*(e-n+1))}function lO(n,e){return n+Math.random()*(e-n)}function cO(n){return n*(.5-Math.random())}function uO(n){n!==void 0&&(PC=n);let e=PC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function fO(n){return n*rl}function dO(n){return n*cd}function SA(n){return(n&n-1)===0&&n!==0}function r3(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function og(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function hO(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*d,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*d,a*u);break;case"XZX":n.set(a*d,l*y,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*y,a*u);break;case"ZYZ":n.set(l*y,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ws(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var h_=Object.freeze({__proto__:null,DEG2RAD:rl,RAD2DEG:cd,ceilPowerOfTwo:r3,clamp:xn,damp:iO,degToRad:fO,denormalize:Ws,euclideanModulo:d_,floorPowerOfTwo:og,generateUUID:Ji,inverseLerp:nO,isPowerOfTwo:SA,lerp:Rf,mapLinear:tO,normalize:jt,pingpong:rO,radToDeg:dO,randFloat:lO,randFloatSpread:cO,randInt:aO,seededRandom:uO,setQuaternionFromProperEuler:hO,smootherstep:oO,smoothstep:sO});class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class gi{constructor(){gi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],v=r[0],x=r[3],A=r[6],_=r[1],M=r[4],S=r[7],E=r[2],P=r[5],L=r[8];return s[0]=o*v+a*_+l*E,s[3]=o*x+a*M+l*P,s[6]=o*A+a*S+l*L,s[1]=u*v+d*_+h*E,s[4]=u*x+d*M+h*P,s[7]=u*A+d*S+h*L,s[2]=p*v+m*_+y*E,s[5]=p*x+m*M+y*P,s[8]=p*A+m*S+y*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-i*s*d+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*o-a*u,p=a*l-d*s,m=u*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/y;return e[0]=h*v,e[1]=(r*u-d*i)*v,e[2]=(a*i-r*o)*v,e[3]=p*v,e[4]=(d*t-r*l)*v,e[5]=(r*s-a*t)*v,e[6]=m*v,e[7]=(i*l-u*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Wv.makeScale(e,t)),this}rotate(e){return this.premultiply(Wv.makeRotation(-e)),this}translate(e,t){return this.premultiply(Wv.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Wv=new gi;function s3(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const pO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ac(n,e){return new pO[n](e)}function ud(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function sl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function bm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const jv={[Or]:{[Kc]:sl},[Kc]:{[Or]:bm}},ri={legacyMode:!0,get workingColorSpace(){return Kc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(jv[e]&&jv[e][t]!==void 0){const i=jv[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},o3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pn={r:0,g:0,b:0},Rr={h:0,s:0,l:0},hp={h:0,s:0,l:0};function Jv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function pp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class De{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Or){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ri.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ri.workingColorSpace){return this.r=e,this.g=t,this.b=i,ri.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ri.workingColorSpace){if(e=d_(e,1),t=xn(t,0,1),i=xn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Jv(o,s,e+1/3),this.g=Jv(o,s,e),this.b=Jv(o,s,e-1/3)}return ri.toWorkingColorSpace(this,r),this}setStyle(e,t=Or){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ri.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ri.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,u,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ri.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ri.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Or){const i=o3[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sl(e.r),this.g=sl(e.g),this.b=sl(e.b),this}copyLinearToSRGB(e){return this.r=bm(e.r),this.g=bm(e.g),this.b=bm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Or){return ri.fromWorkingColorSpace(pp(this,Pn),e),xn(Pn.r*255,0,255)<<16^xn(Pn.g*255,0,255)<<8^xn(Pn.b*255,0,255)<<0}getHexString(e=Or){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ri.workingColorSpace){ri.fromWorkingColorSpace(pp(this,Pn),t);const i=Pn.r,r=Pn.g,s=Pn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=ri.workingColorSpace){return ri.fromWorkingColorSpace(pp(this,Pn),t),e.r=Pn.r,e.g=Pn.g,e.b=Pn.b,e}getStyle(e=Or){return ri.fromWorkingColorSpace(pp(this,Pn),e),e!==Or?`color(${e} ${Pn.r} ${Pn.g} ${Pn.b})`:`rgb(${Pn.r*255|0},${Pn.g*255|0},${Pn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Rr),Rr.h+=e,Rr.s+=t,Rr.l+=i,this.setHSL(Rr.h,Rr.s,Rr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Rr),e.getHSL(hp);const i=Rf(Rr.h,hp.h,t),r=Rf(Rr.s,hp.s,t),s=Rf(Rr.l,hp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}De.NAMES=o3;let zl;class p_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{zl===void 0&&(zl=ud("canvas")),zl.width=e.width,zl.height=e.height;const i=zl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=zl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ud("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=sl(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(sl(t[i]/255)*255):t[i]=sl(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class qa{constructor(e=null){this.isSource=!0,this.uuid=Ji(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Xv(r[o].image)):s.push(Xv(r[o]))}else s=Xv(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Xv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?p_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mO=0;class en extends ms{constructor(e=en.DEFAULT_IMAGE,t=en.DEFAULT_MAPPING,i=Xn,r=Xn,s=sn,o=hs,a=bi,l=to,u=en.DEFAULT_ANISOTROPY,d=no){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mO++}),this.uuid=Ji(),this.name="",this.source=new qa(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ug)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Qo:e.x=e.x-Math.floor(e.x);break;case Xn:e.x=e.x<0?0:1;break;case jc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Qo:e.y=e.y-Math.floor(e.y);break;case Xn:e.y=e.y<0?0:1;break;case jc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}en.DEFAULT_IMAGE=null;en.DEFAULT_MAPPING=Ug;en.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,i=0,r=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],v=l[2],x=l[6],A=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-v)<.01&&Math.abs(y-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+v)<.1&&Math.abs(y+x)<.1&&Math.abs(u+m+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(u+1)/2,S=(m+1)/2,E=(A+1)/2,P=(d+p)/4,L=(h+v)/4,b=(y+x)/4;return M>S&&M>E?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=L/i):S>E?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=P/r,s=b/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=L/s,r=b/s),this.set(i,r,s,t),this}let _=Math.sqrt((x-y)*(x-y)+(h-v)*(h-v)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(x-y)/_,this.y=(h-v)/_,this.z=(p-d)/_,this.w=Math.acos((u+m+A-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Jr extends ms{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zt(0,0,e,t),this.scissorTest=!1,this.viewport=new zt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new en(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:sn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new qa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Hg extends en{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=mn,this.minFilter=mn,this.wrapR=Xn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gO extends Jr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Hg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class m_ extends en{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=mn,this.minFilter=mn,this.wrapR=Xn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vO extends Jr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new m_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class yO extends Jr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Wn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=v;return}if(h!==v||l!==p||u!==m||d!==y){let x=1-a;const A=l*p+u*m+d*y+h*v,_=A>=0?1:-1,M=1-A*A;if(M>Number.EPSILON){const E=Math.sqrt(M),P=Math.atan2(E,A*_);x=Math.sin(x*P)/E,a=Math.sin(a*P)/E}const S=a*_;if(l=l*x+p*S,u=u*x+m*S,d=d*x+y*S,h=h*x+v*S,x===1-a){const E=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=E,u*=E,d*=E,h*=E}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-u*p,e[t+1]=l*y+d*p+u*h-a*m,e[t+2]=u*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"YZX":this._x=p*d*h+u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h-p*m*y;break;case"XZY":this._x=p*d*h-u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=i*d+o*a+r*u-s*l,this._y=r*d+o*l+s*a-i*u,this._z=s*d+o*u+i*l-r*a,this._w=o*d-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-t)*d)/u,p=Math.sin(t*d)/u;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(BC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(BC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Kv.copy(this).projectOnVector(e),this.sub(Kv)}reflect(e){return this.sub(Kv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Kv=new N,BC=new Wn;class oa{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=wa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)wa.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(wa)}else i.boundingBox===null&&i.computeBoundingBox(),Yv.copy(i.boundingBox),Yv.applyMatrix4(e.matrixWorld),this.union(Yv);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,wa),wa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xu),mp.subVectors(this.max,Xu),Gl.subVectors(e.a,Xu),Hl.subVectors(e.b,Xu),Vl.subVectors(e.c,Xu),go.subVectors(Hl,Gl),vo.subVectors(Vl,Hl),Ma.subVectors(Gl,Vl);let t=[0,-go.z,go.y,0,-vo.z,vo.y,0,-Ma.z,Ma.y,go.z,0,-go.x,vo.z,0,-vo.x,Ma.z,0,-Ma.x,-go.y,go.x,0,-vo.y,vo.x,0,-Ma.y,Ma.x,0];return!qv(t,Gl,Hl,Vl,mp)||(t=[1,0,0,0,1,0,0,0,1],!qv(t,Gl,Hl,Vl,mp))?!1:(gp.crossVectors(go,vo),t=[gp.x,gp.y,gp.z],qv(t,Gl,Hl,Vl,mp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return wa.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(wa).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ts[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ts[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ts[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ts[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ts[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ts[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ts[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ts[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ts),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ts=[new N,new N,new N,new N,new N,new N,new N,new N],wa=new N,Yv=new oa,Gl=new N,Hl=new N,Vl=new N,go=new N,vo=new N,Ma=new N,Xu=new N,mp=new N,gp=new N,Sa=new N;function qv(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Sa.fromArray(n,s);const a=r.x*Math.abs(Sa.x)+r.y*Math.abs(Sa.y)+r.z*Math.abs(Sa.z),l=e.dot(Sa),u=t.dot(Sa),d=i.dot(Sa);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const xO=new oa,Ku=new N,Qv=new N;class aa{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):xO.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ku.subVectors(e,this.center);const t=Ku.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Ku,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Qv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ku.copy(e.center).add(Qv)),this.expandByPoint(Ku.copy(e.center).sub(Qv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ps=new N,Zv=new N,vp=new N,yo=new N,$v=new N,yp=new N,ey=new N;class uu{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ps)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ps.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ps.copy(this.direction).multiplyScalar(t).add(this.origin),Ps.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Zv.copy(e).add(t).multiplyScalar(.5),vp.copy(t).sub(e).normalize(),yo.copy(this.origin).sub(Zv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(vp),a=yo.dot(this.direction),l=-yo.dot(vp),u=yo.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const v=1/d;h*=v,p*=v,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(vp).multiplyScalar(p).add(Zv),m}intersectSphere(e,t){Ps.subVectors(e.center,this.origin);const i=Ps.dot(this.direction),r=Ps.dot(Ps)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ps)!==null}intersectTriangle(e,t,i,r,s){$v.subVectors(t,e),yp.subVectors(i,e),ey.crossVectors($v,yp);let o=this.direction.dot(ey),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;yo.subVectors(this.origin,e);const l=a*this.direction.dot(yp.crossVectors(yo,yp));if(l<0)return null;const u=a*this.direction.dot($v.cross(yo));if(u<0||l+u>o)return null;const d=-a*yo.dot(ey);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ot{constructor(){ot.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,u,d,h,p,m,y,v,x){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=r,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=u,A[6]=d,A[10]=h,A[14]=p,A[3]=m,A[7]=y,A[11]=v,A[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ot().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Wl.setFromMatrixColumn(e,0).length(),s=1/Wl.setFromMatrixColumn(e,1).length(),o=1/Wl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,v=a*h;t[0]=l*d,t[4]=-l*h,t[8]=u,t[1]=m+y*u,t[5]=p-v*u,t[9]=-a*l,t[2]=v-p*u,t[6]=y+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=u*d,v=u*h;t[0]=p+v*a,t[4]=y*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=u*d,v=u*h;t[0]=p-v*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=v-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,v=a*h;t[0]=l*d,t[4]=y*u-m,t[8]=p*u+v,t[1]=l*h,t[5]=v*u+p,t[9]=m*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,v=a*u;t[0]=l*d,t[4]=v-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*h+y,t[10]=p-v*h}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,v=a*u;t[0]=l*d,t[4]=-h,t[8]=u*d,t[1]=p*h+v,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=v*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(AO,e,_O)}lookAt(e,t,i){const r=this.elements;return Ui.subVectors(e,t),Ui.lengthSq()===0&&(Ui.z=1),Ui.normalize(),xo.crossVectors(i,Ui),xo.lengthSq()===0&&(Math.abs(i.z)===1?Ui.x+=1e-4:Ui.z+=1e-4,Ui.normalize(),xo.crossVectors(i,Ui)),xo.normalize(),xp.crossVectors(Ui,xo),r[0]=xo.x,r[4]=xp.x,r[8]=Ui.x,r[1]=xo.y,r[5]=xp.y,r[9]=Ui.y,r[2]=xo.z,r[6]=xp.z,r[10]=Ui.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],v=i[6],x=i[10],A=i[14],_=i[3],M=i[7],S=i[11],E=i[15],P=r[0],L=r[4],b=r[8],R=r[12],I=r[1],G=r[5],ee=r[9],W=r[13],V=r[2],q=r[6],ie=r[10],ce=r[14],k=r[3],j=r[7],Y=r[11],oe=r[15];return s[0]=o*P+a*I+l*V+u*k,s[4]=o*L+a*G+l*q+u*j,s[8]=o*b+a*ee+l*ie+u*Y,s[12]=o*R+a*W+l*ce+u*oe,s[1]=d*P+h*I+p*V+m*k,s[5]=d*L+h*G+p*q+m*j,s[9]=d*b+h*ee+p*ie+m*Y,s[13]=d*R+h*W+p*ce+m*oe,s[2]=y*P+v*I+x*V+A*k,s[6]=y*L+v*G+x*q+A*j,s[10]=y*b+v*ee+x*ie+A*Y,s[14]=y*R+v*W+x*ce+A*oe,s[3]=_*P+M*I+S*V+E*k,s[7]=_*L+M*G+S*q+E*j,s[11]=_*b+M*ee+S*ie+E*Y,s[15]=_*R+M*W+S*ce+E*oe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],v=e[7],x=e[11],A=e[15];return y*(+s*l*h-r*u*h-s*a*p+i*u*p+r*a*m-i*l*m)+v*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*d-s*l*d)+x*(+t*u*h-t*a*m-s*o*h+i*o*m+s*a*d-i*u*d)+A*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],v=e[13],x=e[14],A=e[15],_=h*x*u-v*p*u+v*l*m-a*x*m-h*l*A+a*p*A,M=y*p*u-d*x*u-y*l*m+o*x*m+d*l*A-o*p*A,S=d*v*u-y*h*u+y*a*m-o*v*m-d*a*A+o*h*A,E=y*h*l-d*v*l-y*a*p+o*v*p+d*a*x-o*h*x,P=t*_+i*M+r*S+s*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=_*L,e[1]=(v*p*s-h*x*s-v*r*m+i*x*m+h*r*A-i*p*A)*L,e[2]=(a*x*s-v*l*s+v*r*u-i*x*u-a*r*A+i*l*A)*L,e[3]=(h*l*s-a*p*s-h*r*u+i*p*u+a*r*m-i*l*m)*L,e[4]=M*L,e[5]=(d*x*s-y*p*s+y*r*m-t*x*m-d*r*A+t*p*A)*L,e[6]=(y*l*s-o*x*s-y*r*u+t*x*u+o*r*A-t*l*A)*L,e[7]=(o*p*s-d*l*s+d*r*u-t*p*u-o*r*m+t*l*m)*L,e[8]=S*L,e[9]=(y*h*s-d*v*s-y*i*m+t*v*m+d*i*A-t*h*A)*L,e[10]=(o*v*s-y*a*s+y*i*u-t*v*u-o*i*A+t*a*A)*L,e[11]=(d*a*s-o*h*s-d*i*u+t*h*u+o*i*m-t*a*m)*L,e[12]=E*L,e[13]=(d*v*r-y*h*r+y*i*p-t*v*p-d*i*x+t*h*x)*L,e[14]=(y*a*r-o*v*r-y*i*l+t*v*l+o*i*x-t*a*x)*L,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,d*a+i,d*l-r*o,0,u*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,h=a+a,p=s*u,m=s*d,y=s*h,v=o*d,x=o*h,A=a*h,_=l*u,M=l*d,S=l*h,E=i.x,P=i.y,L=i.z;return r[0]=(1-(v+A))*E,r[1]=(m+S)*E,r[2]=(y-M)*E,r[3]=0,r[4]=(m-S)*P,r[5]=(1-(p+A))*P,r[6]=(x+_)*P,r[7]=0,r[8]=(y+M)*L,r[9]=(x-_)*L,r[10]=(1-(p+v))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Wl.set(r[0],r[1],r[2]).length();const o=Wl.set(r[4],r[5],r[6]).length(),a=Wl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Lr.copy(this);const u=1/s,d=1/o,h=1/a;return Lr.elements[0]*=u,Lr.elements[1]*=u,Lr.elements[2]*=u,Lr.elements[4]*=d,Lr.elements[5]*=d,Lr.elements[6]*=d,Lr.elements[8]*=h,Lr.elements[9]*=h,Lr.elements[10]*=h,t.setFromRotationMatrix(Lr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),u=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*u,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Wl=new N,Lr=new ot,AO=new N(0,0,0),_O=new N(1,1,1),xo=new N,xp=new N,Ui=new N,RC=new ot,LC=new Wn;class xl{constructor(e=0,t=0,i=0,r=xl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-xn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return RC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return LC.setFromEuler(this),this.setFromQuaternion(LC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xl.DEFAULT_ORDER="XYZ";class ol{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wO=0;const IC=new N,jl=new Wn,Bs=new ot,Ap=new N,Yu=new N,MO=new N,SO=new Wn,DC=new N(1,0,0),NC=new N(0,1,0),FC=new N(0,0,1),CO={type:"added"},kC={type:"removed"};class Pt extends ms{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wO++}),this.uuid=Ji(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pt.DEFAULT_UP.clone();const e=new N,t=new xl,i=new Wn,r=new N(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ot},normalMatrix:{value:new gi}}),this.matrix=new ot,this.matrixWorld=new ot,this.matrixAutoUpdate=Pt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Pt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ol,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return jl.setFromAxisAngle(e,t),this.quaternion.multiply(jl),this}rotateOnWorldAxis(e,t){return jl.setFromAxisAngle(e,t),this.quaternion.premultiply(jl),this}rotateX(e){return this.rotateOnAxis(DC,e)}rotateY(e){return this.rotateOnAxis(NC,e)}rotateZ(e){return this.rotateOnAxis(FC,e)}translateOnAxis(e,t){return IC.copy(e).applyQuaternion(this.quaternion),this.position.add(IC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(DC,e)}translateY(e){return this.translateOnAxis(NC,e)}translateZ(e){return this.translateOnAxis(FC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Bs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Ap.copy(e):Ap.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Yu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bs.lookAt(Yu,Ap,this.up):Bs.lookAt(Ap,Yu,this.up),this.quaternion.setFromRotationMatrix(Bs),r&&(Bs.extractRotation(r.matrixWorld),jl.setFromRotationMatrix(Bs),this.quaternion.premultiply(jl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(CO)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(kC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(kC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Bs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Bs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Bs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yu,e,MO),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yu,SO,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Pt.DEFAULT_UP=new N(0,1,0);Pt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ir=new N,Rs=new N,ty=new N,Ls=new N,Jl=new N,Xl=new N,OC=new N,ny=new N,iy=new N,ry=new N;class gr{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ir.subVectors(e,t),r.cross(Ir);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ir.subVectors(r,t),Rs.subVectors(i,t),ty.subVectors(e,t);const o=Ir.dot(Ir),a=Ir.dot(Rs),l=Ir.dot(ty),u=Rs.dot(Rs),d=Rs.dot(ty),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ls),Ls.x>=0&&Ls.y>=0&&Ls.x+Ls.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Ls),l.set(0,0),l.addScaledVector(s,Ls.x),l.addScaledVector(o,Ls.y),l.addScaledVector(a,Ls.z),l}static isFrontFacing(e,t,i,r){return Ir.subVectors(i,t),Rs.subVectors(e,t),Ir.cross(Rs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ir.subVectors(this.c,this.b),Rs.subVectors(this.a,this.b),Ir.cross(Rs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return gr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return gr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return gr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Jl.subVectors(r,i),Xl.subVectors(s,i),ny.subVectors(e,i);const l=Jl.dot(ny),u=Xl.dot(ny);if(l<=0&&u<=0)return t.copy(i);iy.subVectors(e,r);const d=Jl.dot(iy),h=Xl.dot(iy);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Jl,o);ry.subVectors(e,s);const m=Jl.dot(ry),y=Xl.dot(ry);if(y>=0&&m<=y)return t.copy(s);const v=m*u-l*y;if(v<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(i).addScaledVector(Xl,a);const x=d*y-m*h;if(x<=0&&h-d>=0&&m-y>=0)return OC.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(OC,a);const A=1/(x+v+p);return o=v*A,a=p*A,t.copy(i).addScaledVector(Jl,o).addScaledVector(Xl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let EO=0;class En extends ms{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EO++}),this.uuid=Ji(),this.name="",this.type="Material",this.blending=tl,this.side=ds,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=o_,this.blendDst=a_,this.blendEquation=Ha,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ig,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=i3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Em,this.stencilZFail=Em,this.stencilZPass=Em,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==tl&&(i.blending=this.blending),this.side!==ds&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wi extends En{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Td,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Mn=new N,_p=new pe;class kt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=ld,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)_p.fromBufferAttribute(this,t),_p.applyMatrix3(e),this.setXY(t,_p.x,_p.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Mn.fromBufferAttribute(this,t),Mn.applyMatrix3(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Mn.fromBufferAttribute(this,t),Mn.applyMatrix4(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Mn.fromBufferAttribute(this,t),Mn.applyNormalMatrix(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Mn.fromBufferAttribute(this,t),Mn.transformDirection(e),this.setXYZ(t,Mn.x,Mn.y,Mn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ws(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ws(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ws(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ws(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ld&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class bO extends kt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class TO extends kt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class PO extends kt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class BO extends kt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class g_ extends kt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class RO extends kt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class v_ extends kt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class LO extends kt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class We extends kt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class IO extends kt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let DO=0;const cr=new ot,sy=new Pt,Kl=new N,zi=new oa,qu=new oa,Gn=new N;class ft extends ms{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:DO++}),this.uuid=Ji(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(s3(e)?v_:g_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new gi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return cr.makeRotationFromQuaternion(e),this.applyMatrix4(cr),this}rotateX(e){return cr.makeRotationX(e),this.applyMatrix4(cr),this}rotateY(e){return cr.makeRotationY(e),this.applyMatrix4(cr),this}rotateZ(e){return cr.makeRotationZ(e),this.applyMatrix4(cr),this}translate(e,t,i){return cr.makeTranslation(e,t,i),this.applyMatrix4(cr),this}scale(e,t,i){return cr.makeScale(e,t,i),this.applyMatrix4(cr),this}lookAt(e){return sy.lookAt(e),sy.updateMatrix(),this.applyMatrix4(sy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kl).negate(),this.translate(Kl.x,Kl.y,Kl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new We(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];zi.setFromBufferAttribute(s),this.morphTargetsRelative?(Gn.addVectors(this.boundingBox.min,zi.min),this.boundingBox.expandByPoint(Gn),Gn.addVectors(this.boundingBox.max,zi.max),this.boundingBox.expandByPoint(Gn)):(this.boundingBox.expandByPoint(zi.min),this.boundingBox.expandByPoint(zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new aa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const i=this.boundingSphere.center;if(zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];qu.setFromBufferAttribute(a),this.morphTargetsRelative?(Gn.addVectors(zi.min,qu.min),zi.expandByPoint(Gn),Gn.addVectors(zi.max,qu.max),zi.expandByPoint(Gn)):(zi.expandByPoint(qu.min),zi.expandByPoint(qu.max))}zi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Gn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Gn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)Gn.fromBufferAttribute(a,u),l&&(Kl.fromBufferAttribute(e,u),Gn.add(Kl)),r=Math.max(r,i.distanceToSquared(Gn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],d=[];for(let I=0;I<a;I++)u[I]=new N,d[I]=new N;const h=new N,p=new N,m=new N,y=new pe,v=new pe,x=new pe,A=new N,_=new N;function M(I,G,ee){h.fromArray(r,I*3),p.fromArray(r,G*3),m.fromArray(r,ee*3),y.fromArray(o,I*2),v.fromArray(o,G*2),x.fromArray(o,ee*2),p.sub(h),m.sub(h),v.sub(y),x.sub(y);const W=1/(v.x*x.y-x.x*v.y);isFinite(W)&&(A.copy(p).multiplyScalar(x.y).addScaledVector(m,-v.y).multiplyScalar(W),_.copy(m).multiplyScalar(v.x).addScaledVector(p,-x.x).multiplyScalar(W),u[I].add(A),u[G].add(A),u[ee].add(A),d[I].add(_),d[G].add(_),d[ee].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let I=0,G=S.length;I<G;++I){const ee=S[I],W=ee.start,V=ee.count;for(let q=W,ie=W+V;q<ie;q+=3)M(i[q+0],i[q+1],i[q+2])}const E=new N,P=new N,L=new N,b=new N;function R(I){L.fromArray(s,I*3),b.copy(L);const G=u[I];E.copy(G),E.sub(L.multiplyScalar(L.dot(G))).normalize(),P.crossVectors(b,G);const W=P.dot(d[I])<0?-1:1;l[I*4]=E.x,l[I*4+1]=E.y,l[I*4+2]=E.z,l[I*4+3]=W}for(let I=0,G=S.length;I<G;++I){const ee=S[I],W=ee.start,V=ee.count;for(let q=W,ie=W+V;q<ie;q+=3)R(i[q+0]),R(i[q+1]),R(i[q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new kt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new N,s=new N,o=new N,a=new N,l=new N,u=new N,d=new N,h=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),v=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,v),u.fromBufferAttribute(i,x),a.add(d),l.add(d),u.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Gn.fromBufferAttribute(e,t),Gn.normalize(),e.setXYZ(t,Gn.x,Gn.y,Gn.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,y=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*d;for(let A=0;A<d;A++)p[y++]=u[m++]}return new kt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ft,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const UC=new ot,Yl=new uu,oy=new aa,Qu=new N,Zu=new N,$u=new N,ay=new N,wp=new N,Mp=new pe,Sp=new pe,Cp=new pe,ly=new N,Ep=new N;class Ln extends Pt{constructor(e=new ft,t=new Wi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){wp.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=a[l],h=s[l];d!==0&&(ay.fromBufferAttribute(h,e),o?wp.addScaledVector(ay,d):wp.addScaledVector(ay.sub(t),d))}t.add(wp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),oy.copy(i.boundingSphere),oy.applyMatrix4(s),e.ray.intersectsSphere(oy)===!1)||(UC.copy(s).invert(),Yl.copy(e.ray).applyMatrix4(UC),i.boundingBox!==null&&Yl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,u=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const v=h[m],x=r[v.materialIndex],A=Math.max(v.start,p.start),_=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let M=A,S=_;M<S;M+=3){const E=a.getX(M),P=a.getX(M+1),L=a.getX(M+2);o=bp(this,x,e,Yl,u,d,E,P,L),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let v=m,x=y;v<x;v+=3){const A=a.getX(v),_=a.getX(v+1),M=a.getX(v+2);o=bp(this,r,e,Yl,u,d,A,_,M),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const v=h[m],x=r[v.materialIndex],A=Math.max(v.start,p.start),_=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let M=A,S=_;M<S;M+=3){const E=M,P=M+1,L=M+2;o=bp(this,x,e,Yl,u,d,E,P,L),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let v=m,x=y;v<x;v+=3){const A=v,_=v+1,M=v+2;o=bp(this,r,e,Yl,u,d,A,_,M),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function NO(n,e,t,i,r,s,o,a){let l;if(e.side===Li?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===ds,a),l===null)return null;Ep.copy(a),Ep.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Ep);return u<t.near||u>t.far?null:{distance:u,point:Ep.clone(),object:n}}function bp(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,Qu),n.getVertexPosition(a,Zu),n.getVertexPosition(l,$u);const u=NO(n,e,t,i,Qu,Zu,$u,ly);if(u){r&&(Mp.fromBufferAttribute(r,o),Sp.fromBufferAttribute(r,a),Cp.fromBufferAttribute(r,l),u.uv=gr.getUV(ly,Qu,Zu,$u,Mp,Sp,Cp,new pe)),s&&(Mp.fromBufferAttribute(s,o),Sp.fromBufferAttribute(s,a),Cp.fromBufferAttribute(s,l),u.uv2=gr.getUV(ly,Qu,Zu,$u,Mp,Sp,Cp,new pe));const d={a:o,b:a,c:l,normal:new N,materialIndex:0};gr.getNormal(Qu,Zu,$u,d.normal),u.face=d}return u}class la extends ft{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new We(u,3)),this.setAttribute("normal",new We(d,3)),this.setAttribute("uv",new We(h,2));function y(v,x,A,_,M,S,E,P,L,b,R){const I=S/L,G=E/b,ee=S/2,W=E/2,V=P/2,q=L+1,ie=b+1;let ce=0,k=0;const j=new N;for(let Y=0;Y<ie;Y++){const oe=Y*G-W;for(let X=0;X<q;X++){const re=X*I-ee;j[v]=re*_,j[x]=oe*M,j[A]=V,u.push(j.x,j.y,j.z),j[v]=0,j[x]=0,j[A]=P>0?1:-1,d.push(j.x,j.y,j.z),h.push(X/L),h.push(1-Y/b),ce+=1}}for(let Y=0;Y<b;Y++)for(let oe=0;oe<L;oe++){const X=p+oe+q*Y,re=p+oe+q*(Y+1),ye=p+(oe+1)+q*(Y+1),_e=p+(oe+1)+q*Y;l.push(X,re,_e),l.push(re,ye,_e),k+=6}a.addGroup(m,k,R),m+=k,p+=ce}}static fromJSON(e){return new la(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function hi(n){const e={};for(let t=0;t<n.length;t++){const i=Yc(n[t]);for(const r in i)e[r]=i[r]}return e}function FO(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function a3(n){return n.getRenderTarget()===null&&n.outputEncoding===Vt?Or:Kc}const l3={clone:Yc,merge:hi};var kO=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,OO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ps extends En{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kO,this.fragmentShader=OO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yc(e.uniforms),this.uniformsGroups=FO(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Pd extends Pt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ot,this.projectionMatrix=new ot,this.projectionMatrixInverse=new ot}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Kt extends Pd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=cd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return cd*2*Math.atan(Math.tan(rl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ql=-90,Ql=1;class y_ extends Pt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Kt(ql,Ql,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Kt(ql,Ql,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Kt(ql,Ql,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Kt(ql,Ql,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Kt(ql,Ql,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Kt(ql,Ql,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,u]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Wr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Bd extends en{constructor(e,t,i,r,s,o,a,l,u,d){e=e!==void 0?e:[],t=t!==void 0?t:Yo,super(e,t,i,r,s,o,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class x_ extends Jr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Bd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:sn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new la(5,5,5),s=new ps({name:"CubemapFromEquirect",uniforms:Yc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Li,blending:Ks});s.uniforms.tEquirect.value=t;const o=new Ln(r,s),a=t.minFilter;return t.minFilter===hs&&(t.minFilter=sn),new y_(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const cy=new N,UO=new N,zO=new gi;class Os{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=cy.subVectors(i,t).cross(UO.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(cy),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||zO.getNormalMatrix(e),r=this.coplanarPoint(cy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zl=new aa,Tp=new N;class Vg{constructor(e=new Os,t=new Os,i=new Os,r=new Os,s=new Os,o=new Os){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],v=i[11],x=i[12],A=i[13],_=i[14],M=i[15];return t[0].setComponents(a-r,h-l,v-p,M-x).normalize(),t[1].setComponents(a+r,h+l,v+p,M+x).normalize(),t[2].setComponents(a+s,h+u,v+m,M+A).normalize(),t[3].setComponents(a-s,h-u,v-m,M-A).normalize(),t[4].setComponents(a-o,h-d,v-y,M-_).normalize(),t[5].setComponents(a+o,h+d,v+y,M+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Zl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Zl)}intersectsSprite(e){return Zl.center.set(0,0,0),Zl.radius=.7071067811865476,Zl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Tp.x=r.normal.x>0?e.max.x:e.min.x,Tp.y=r.normal.y>0?e.max.y:e.min.y,Tp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Tp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function c3(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function GO(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,d){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),u.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d&&(n.deleteBuffer(d.buffer),i.delete(u))}function l(u,d){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h===void 0?i.set(u,r(u,d)):h.version<u.version&&(s(h.buffer,u,d),h.version=u.version)}return{get:o,remove:a,update:l}}class fu extends ft{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],v=[],x=[];for(let A=0;A<d;A++){const _=A*p-o;for(let M=0;M<u;M++){const S=M*h-s;y.push(S,-_,0),v.push(0,0,1),x.push(M/a),x.push(1-A/l)}}for(let A=0;A<l;A++)for(let _=0;_<a;_++){const M=_+u*A,S=_+u*(A+1),E=_+1+u*(A+1),P=_+1+u*A;m.push(M,S,P),m.push(S,E,P)}this.setIndex(m),this.setAttribute("position",new We(y,3)),this.setAttribute("normal",new We(v,3)),this.setAttribute("uv",new We(x,2))}static fromJSON(e){return new fu(e.width,e.height,e.widthSegments,e.heightSegments)}}var HO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,VO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WO=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,jO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,JO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,XO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KO="vec3 transformed = vec3( position );",YO=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qO=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,QO=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ZO=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$O=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,eU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,tU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,nU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,rU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,oU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,aU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,lU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,uU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,dU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,hU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,pU="gl_FragColor = linearToOutputTexel( gl_FragColor );",mU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,gU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,vU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,yU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,_U=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,MU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,SU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,EU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,bU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,TU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,PU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,BU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,RU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,LU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,IU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,DU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,NU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,FU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,kU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,OU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,UU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,zU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,GU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,HU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,WU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,jU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,JU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,XU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,KU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,QU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ZU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,$U=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,e4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,t4=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,n4=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,i4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,r4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s4=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,o4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,a4=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,l4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,c4=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,u4=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,f4=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,d4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,h4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,p4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,m4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,g4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,v4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,y4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,x4=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,A4=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,_4=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,w4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,M4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,S4=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,C4=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,E4=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,b4=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,T4=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,P4=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,B4=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,R4=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,L4=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,I4=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,D4=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,N4=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,F4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,k4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,O4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,U4=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const z4=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,G4=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,H4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,V4=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,W4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,j4=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,J4=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,X4=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,K4=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Y4=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,q4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Q4=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Z4=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$4=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ez=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,sz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,az=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gz=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gt={alphamap_fragment:HO,alphamap_pars_fragment:VO,alphatest_fragment:WO,alphatest_pars_fragment:jO,aomap_fragment:JO,aomap_pars_fragment:XO,begin_vertex:KO,beginnormal_vertex:YO,bsdfs:qO,iridescence_fragment:QO,bumpmap_pars_fragment:ZO,clipping_planes_fragment:$O,clipping_planes_pars_fragment:eU,clipping_planes_pars_vertex:tU,clipping_planes_vertex:nU,color_fragment:iU,color_pars_fragment:rU,color_pars_vertex:sU,color_vertex:oU,common:aU,cube_uv_reflection_fragment:lU,defaultnormal_vertex:cU,displacementmap_pars_vertex:uU,displacementmap_vertex:fU,emissivemap_fragment:dU,emissivemap_pars_fragment:hU,encodings_fragment:pU,encodings_pars_fragment:mU,envmap_fragment:gU,envmap_common_pars_fragment:vU,envmap_pars_fragment:yU,envmap_pars_vertex:xU,envmap_physical_pars_fragment:RU,envmap_vertex:AU,fog_vertex:_U,fog_pars_vertex:wU,fog_fragment:MU,fog_pars_fragment:SU,gradientmap_pars_fragment:CU,lightmap_fragment:EU,lightmap_pars_fragment:bU,lights_lambert_fragment:TU,lights_lambert_pars_fragment:PU,lights_pars_begin:BU,lights_toon_fragment:LU,lights_toon_pars_fragment:IU,lights_phong_fragment:DU,lights_phong_pars_fragment:NU,lights_physical_fragment:FU,lights_physical_pars_fragment:kU,lights_fragment_begin:OU,lights_fragment_maps:UU,lights_fragment_end:zU,logdepthbuf_fragment:GU,logdepthbuf_pars_fragment:HU,logdepthbuf_pars_vertex:VU,logdepthbuf_vertex:WU,map_fragment:jU,map_pars_fragment:JU,map_particle_fragment:XU,map_particle_pars_fragment:KU,metalnessmap_fragment:YU,metalnessmap_pars_fragment:qU,morphcolor_vertex:QU,morphnormal_vertex:ZU,morphtarget_pars_vertex:$U,morphtarget_vertex:e4,normal_fragment_begin:t4,normal_fragment_maps:n4,normal_pars_fragment:i4,normal_pars_vertex:r4,normal_vertex:s4,normalmap_pars_fragment:o4,clearcoat_normal_fragment_begin:a4,clearcoat_normal_fragment_maps:l4,clearcoat_pars_fragment:c4,iridescence_pars_fragment:u4,output_fragment:f4,packing:d4,premultiplied_alpha_fragment:h4,project_vertex:p4,dithering_fragment:m4,dithering_pars_fragment:g4,roughnessmap_fragment:v4,roughnessmap_pars_fragment:y4,shadowmap_pars_fragment:x4,shadowmap_pars_vertex:A4,shadowmap_vertex:_4,shadowmask_pars_fragment:w4,skinbase_vertex:M4,skinning_pars_vertex:S4,skinning_vertex:C4,skinnormal_vertex:E4,specularmap_fragment:b4,specularmap_pars_fragment:T4,tonemapping_fragment:P4,tonemapping_pars_fragment:B4,transmission_fragment:R4,transmission_pars_fragment:L4,uv_pars_fragment:I4,uv_pars_vertex:D4,uv_vertex:N4,uv2_pars_fragment:F4,uv2_pars_vertex:k4,uv2_vertex:O4,worldpos_vertex:U4,background_vert:z4,background_frag:G4,backgroundCube_vert:H4,backgroundCube_frag:V4,cube_vert:W4,cube_frag:j4,depth_vert:J4,depth_frag:X4,distanceRGBA_vert:K4,distanceRGBA_frag:Y4,equirect_vert:q4,equirect_frag:Q4,linedashed_vert:Z4,linedashed_frag:$4,meshbasic_vert:ez,meshbasic_frag:tz,meshlambert_vert:nz,meshlambert_frag:iz,meshmatcap_vert:rz,meshmatcap_frag:sz,meshnormal_vert:oz,meshnormal_frag:az,meshphong_vert:lz,meshphong_frag:cz,meshphysical_vert:uz,meshphysical_frag:fz,meshtoon_vert:dz,meshtoon_frag:hz,points_vert:pz,points_frag:mz,shadow_vert:gz,shadow_frag:vz,sprite_vert:yz,sprite_frag:xz},Be={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new gi},uv2Transform:{value:new gi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gi}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gi}}},zr={basic:{uniforms:hi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:hi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new De(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:hi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:hi([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:hi([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new De(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:hi([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:hi([Be.points,Be.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:hi([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:hi([Be.common,Be.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:hi([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:hi([Be.sprite,Be.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new gi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:hi([Be.common,Be.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:hi([Be.lights,Be.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};zr.physical={uniforms:hi([zr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const Pp={r:0,b:0,g:0};function Az(n,e,t,i,r,s,o){const a=new De(0);let l=s===!0?0:1,u,d,h=null,p=0,m=null;function y(x,A){let _=!1,M=A.isScene===!0?A.background:null;M&&M.isTexture&&(M=(A.backgroundBlurriness>0?t:e).get(M));const S=n.xr,E=S.getSession&&S.getSession();E&&E.environmentBlendMode==="additive"&&(M=null),M===null?v(a,l):M&&M.isColor&&(v(M,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===cu)?(d===void 0&&(d=new Ln(new la(1,1,1),new ps({name:"BackgroundCubeMaterial",uniforms:Yc(zr.backgroundCube.uniforms),vertexShader:zr.backgroundCube.vertexShader,fragmentShader:zr.backgroundCube.fragmentShader,side:Li,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,L,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,d.material.toneMapped=M.encoding!==Vt,(h!==M||p!==M.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=M,p=M.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new Ln(new fu(2,2),new ps({name:"BackgroundMaterial",uniforms:Yc(zr.background.uniforms),vertexShader:zr.background.vertexShader,fragmentShader:zr.background.fragmentShader,side:ds,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=M,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=M.encoding!==Vt,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(h!==M||p!==M.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=M,p=M.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function v(x,A){x.getRGB(Pp,a3(n)),i.buffers.color.setClear(Pp.r,Pp.g,Pp.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(x,A=1){a.set(x),l=A,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:y}}function _z(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let u=l,d=!1;function h(V,q,ie,ce,k){let j=!1;if(o){const Y=v(ce,ie,q);u!==Y&&(u=Y,m(u.object)),j=A(V,ce,ie,k),j&&_(V,ce,ie,k)}else{const Y=q.wireframe===!0;(u.geometry!==ce.id||u.program!==ie.id||u.wireframe!==Y)&&(u.geometry=ce.id,u.program=ie.id,u.wireframe=Y,j=!0)}k!==null&&t.update(k,34963),(j||d)&&(d=!1,b(V,q,ie,ce),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(V){return i.isWebGL2?n.bindVertexArray(V):s.bindVertexArrayOES(V)}function y(V){return i.isWebGL2?n.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function v(V,q,ie){const ce=ie.wireframe===!0;let k=a[V.id];k===void 0&&(k={},a[V.id]=k);let j=k[q.id];j===void 0&&(j={},k[q.id]=j);let Y=j[ce];return Y===void 0&&(Y=x(p()),j[ce]=Y),Y}function x(V){const q=[],ie=[],ce=[];for(let k=0;k<r;k++)q[k]=0,ie[k]=0,ce[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:ie,attributeDivisors:ce,object:V,attributes:{},index:null}}function A(V,q,ie,ce){const k=u.attributes,j=q.attributes;let Y=0;const oe=ie.getAttributes();for(const X in oe)if(oe[X].location>=0){const ye=k[X];let _e=j[X];if(_e===void 0&&(X==="instanceMatrix"&&V.instanceMatrix&&(_e=V.instanceMatrix),X==="instanceColor"&&V.instanceColor&&(_e=V.instanceColor)),ye===void 0||ye.attribute!==_e||_e&&ye.data!==_e.data)return!0;Y++}return u.attributesNum!==Y||u.index!==ce}function _(V,q,ie,ce){const k={},j=q.attributes;let Y=0;const oe=ie.getAttributes();for(const X in oe)if(oe[X].location>=0){let ye=j[X];ye===void 0&&(X==="instanceMatrix"&&V.instanceMatrix&&(ye=V.instanceMatrix),X==="instanceColor"&&V.instanceColor&&(ye=V.instanceColor));const _e={};_e.attribute=ye,ye&&ye.data&&(_e.data=ye.data),k[X]=_e,Y++}u.attributes=k,u.attributesNum=Y,u.index=ce}function M(){const V=u.newAttributes;for(let q=0,ie=V.length;q<ie;q++)V[q]=0}function S(V){E(V,0)}function E(V,q){const ie=u.newAttributes,ce=u.enabledAttributes,k=u.attributeDivisors;ie[V]=1,ce[V]===0&&(n.enableVertexAttribArray(V),ce[V]=1),k[V]!==q&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,q),k[V]=q)}function P(){const V=u.newAttributes,q=u.enabledAttributes;for(let ie=0,ce=q.length;ie<ce;ie++)q[ie]!==V[ie]&&(n.disableVertexAttribArray(ie),q[ie]=0)}function L(V,q,ie,ce,k,j){i.isWebGL2===!0&&(ie===5124||ie===5125)?n.vertexAttribIPointer(V,q,ie,k,j):n.vertexAttribPointer(V,q,ie,ce,k,j)}function b(V,q,ie,ce){if(i.isWebGL2===!1&&(V.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const k=ce.attributes,j=ie.getAttributes(),Y=q.defaultAttributeValues;for(const oe in j){const X=j[oe];if(X.location>=0){let re=k[oe];if(re===void 0&&(oe==="instanceMatrix"&&V.instanceMatrix&&(re=V.instanceMatrix),oe==="instanceColor"&&V.instanceColor&&(re=V.instanceColor)),re!==void 0){const ye=re.normalized,_e=re.itemSize,$=t.get(re);if($===void 0)continue;const ke=$.buffer,Oe=$.type,Ve=$.bytesPerElement;if(re.isInterleavedBufferAttribute){const we=re.data,Re=we.stride,de=re.offset;if(we.isInstancedInterleavedBuffer){for(let le=0;le<X.locationSize;le++)E(X.location+le,we.meshPerAttribute);V.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let le=0;le<X.locationSize;le++)S(X.location+le);n.bindBuffer(34962,ke);for(let le=0;le<X.locationSize;le++)L(X.location+le,_e/X.locationSize,Oe,ye,Re*Ve,(de+_e/X.locationSize*le)*Ve)}else{if(re.isInstancedBufferAttribute){for(let we=0;we<X.locationSize;we++)E(X.location+we,re.meshPerAttribute);V.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let we=0;we<X.locationSize;we++)S(X.location+we);n.bindBuffer(34962,ke);for(let we=0;we<X.locationSize;we++)L(X.location+we,_e/X.locationSize,Oe,ye,_e*Ve,_e/X.locationSize*we*Ve)}}else if(Y!==void 0){const ye=Y[oe];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(X.location,ye);break;case 3:n.vertexAttrib3fv(X.location,ye);break;case 4:n.vertexAttrib4fv(X.location,ye);break;default:n.vertexAttrib1fv(X.location,ye)}}}}P()}function R(){ee();for(const V in a){const q=a[V];for(const ie in q){const ce=q[ie];for(const k in ce)y(ce[k].object),delete ce[k];delete q[ie]}delete a[V]}}function I(V){if(a[V.id]===void 0)return;const q=a[V.id];for(const ie in q){const ce=q[ie];for(const k in ce)y(ce[k].object),delete ce[k];delete q[ie]}delete a[V.id]}function G(V){for(const q in a){const ie=a[q];if(ie[V.id]===void 0)continue;const ce=ie[V.id];for(const k in ce)y(ce[k].object),delete ce[k];delete ie[V.id]}}function ee(){W(),d=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:ee,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:I,releaseStatesOfProgram:G,initAttributes:M,enableAttribute:S,disableUnusedAttributes:P}}function wz(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,d){n.drawArrays(s,u,d),t.update(d,s,1)}function l(u,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function Mz(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),v=n.getParameter(34921),x=n.getParameter(36347),A=n.getParameter(36348),_=n.getParameter(36349),M=p>0,S=o||e.has("OES_texture_float"),E=M&&S,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:x,maxVaryings:A,maxFragmentUniforms:_,vertexTextures:M,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:P}}function Sz(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Os,a=new gi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,v=h.clipIntersection,x=h.clipShadows,A=n.get(h);if(!r||y===null||y.length===0||s&&!x)s?d(null):u();else{const _=s?0:i,M=_*4;let S=A.clippingState||null;l.value=S,S=d(y,p,M,m);for(let E=0;E!==M;++E)S[E]=t[E];A.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const v=h!==null?h.length:0;let x=null;if(v!==0){if(x=l.value,y!==!0||x===null){const A=m+v*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<A)&&(x=new Float32Array(A));for(let M=0,S=m;M!==v;++M,S+=4)o.copy(h[M]).applyMatrix4(_,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function Cz(n){let e=new WeakMap;function t(o,a){return a===rd?o.mapping=Yo:a===sd&&(o.mapping=qo),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===rd||a===sd)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new x_(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class yr extends Pd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const _c=4,zC=[.125,.215,.35,.446,.526,.582],Va=20,uy=new yr,GC=new De;let fy=null;const Ua=(1+Math.sqrt(5))/2,$l=1/Ua,HC=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Ua,$l),new N(0,Ua,-$l),new N($l,0,Ua),new N(-$l,0,Ua),new N(Ua,$l,0),new N(-Ua,$l,0)];class CA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){fy=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=WC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(fy),e.scissorTest=!1,Bp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yo||e.mapping===qo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),fy=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:sn,minFilter:sn,generateMipmaps:!1,type:Jc,format:bi,encoding:no,depthBuffer:!1},r=VC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=VC(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ez(s)),this._blurMaterial=bz(s,e,t)}return r}_compileMaterial(e){const t=new Ln(this._lodPlanes[0],e);this._renderer.compile(t,uy)}_sceneToCubeUV(e,t,i,r){const a=new Kt(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(GC),d.toneMapping=Wr,d.autoClear=!1;const m=new Wi({name:"PMREM.Background",side:Li,depthWrite:!1,depthTest:!1}),y=new Ln(new la,m);let v=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,v=!0):(m.color.copy(GC),v=!0);for(let A=0;A<6;A++){const _=A%3;_===0?(a.up.set(0,l[A],0),a.lookAt(u[A],0,0)):_===1?(a.up.set(0,0,l[A]),a.lookAt(0,u[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,u[A]));const M=this._cubeSize;Bp(r,_*M,A>2?M:0,M,M),d.setRenderTarget(r),v&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Yo||e.mapping===qo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=jC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=WC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Ln(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Bp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,uy)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=HC[(r-1)%HC.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Ln(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Va-1),v=s/y,x=isFinite(s)?1+Math.floor(d*v):Va;x>Va&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Va}`);const A=[];let _=0;for(let L=0;L<Va;++L){const b=L/v,R=Math.exp(-b*b/2);A.push(R),L===0?_+=R:L<x&&(_+=2*R)}for(let L=0;L<A.length;L++)A[L]=A[L]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=A,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=y,p.mipInt.value=M-i;const S=this._sizeLods[r],E=3*S*(r>M-_c?r-M+_c:0),P=4*(this._cubeSize-S);Bp(t,E,P,3*S,2*S),l.setRenderTarget(t),l.render(h,uy)}}function Ez(n){const e=[],t=[],i=[];let r=n;const s=n-_c+1+zC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-_c?l=zC[o-n+_c-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),d=-u,h=1+u,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,v=3,x=2,A=1,_=new Float32Array(v*y*m),M=new Float32Array(x*y*m),S=new Float32Array(A*y*m);for(let P=0;P<m;P++){const L=P%3*2/3-1,b=P>2?0:-1,R=[L,b,0,L+2/3,b,0,L+2/3,b+1,0,L,b,0,L+2/3,b+1,0,L,b+1,0];_.set(R,v*y*P),M.set(p,x*y*P);const I=[P,P,P,P,P,P];S.set(I,A*y*P)}const E=new ft;E.setAttribute("position",new kt(_,v)),E.setAttribute("uv",new kt(M,x)),E.setAttribute("faceIndex",new kt(S,A)),e.push(E),r>_c&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function VC(n,e,t){const i=new Jr(n,e,t);return i.texture.mapping=cu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Bp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function bz(n,e,t){const i=new Float32Array(Va),r=new N(0,1,0);return new ps({name:"SphericalGaussianBlur",defines:{n:Va,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:A_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ks,depthTest:!1,depthWrite:!1})}function WC(){return new ps({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:A_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ks,depthTest:!1,depthWrite:!1})}function jC(){return new ps({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:A_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ks,depthTest:!1,depthWrite:!1})}function A_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Tz(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===rd||l===sd,d=l===Yo||l===qo;if(u||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new CA(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new CA(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Pz(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Bz(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const v=m[y];for(let x=0,A=v.length;x<A;x++)e.update(v[x],34962)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let M=0,S=_.length;M<S;M+=3){const E=_[M+0],P=_[M+1],L=_[M+2];p.push(E,P,P,L,L,E)}}else{const _=y.array;v=y.version;for(let M=0,S=_.length/3-1;M<S;M+=3){const E=M+0,P=M+1,L=M+2;p.push(E,P,P,L,L,E)}}const x=new(s3(p)?v_:g_)(p,1);x.version=v;const A=s.get(h);A&&e.remove(A),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function Rz(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let v,x;if(r)v=n,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=d,this.renderInstances=h}function Lz(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Iz(n,e){return n[0]-e[0]}function Dz(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Nz(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new zt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,d,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=v!==void 0?v.length:0;let A=s.get(d);if(A===void 0||A.count!==x){let ie=function(){V.dispose(),s.delete(d),d.removeEventListener("dispose",ie)};var y=ie;A!==void 0&&A.texture.dispose();const S=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,P=d.morphAttributes.color!==void 0,L=d.morphAttributes.position||[],b=d.morphAttributes.normal||[],R=d.morphAttributes.color||[];let I=0;S===!0&&(I=1),E===!0&&(I=2),P===!0&&(I=3);let G=d.attributes.position.count*I,ee=1;G>e.maxTextureSize&&(ee=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const W=new Float32Array(G*ee*4*x),V=new Hg(W,G,ee,x);V.type=Vs,V.needsUpdate=!0;const q=I*4;for(let ce=0;ce<x;ce++){const k=L[ce],j=b[ce],Y=R[ce],oe=G*ee*4*ce;for(let X=0;X<k.count;X++){const re=X*q;S===!0&&(o.fromBufferAttribute(k,X),W[oe+re+0]=o.x,W[oe+re+1]=o.y,W[oe+re+2]=o.z,W[oe+re+3]=0),E===!0&&(o.fromBufferAttribute(j,X),W[oe+re+4]=o.x,W[oe+re+5]=o.y,W[oe+re+6]=o.z,W[oe+re+7]=0),P===!0&&(o.fromBufferAttribute(Y,X),W[oe+re+8]=o.x,W[oe+re+9]=o.y,W[oe+re+10]=o.z,W[oe+re+11]=Y.itemSize===4?o.w:1)}}A={count:x,texture:V,size:new pe(G,ee)},s.set(d,A),d.addEventListener("dispose",ie)}let _=0;for(let S=0;S<m.length;S++)_+=m[S];const M=d.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const v=m===void 0?0:m.length;let x=i[d.id];if(x===void 0||x.length!==v){x=[];for(let E=0;E<v;E++)x[E]=[E,0];i[d.id]=x}for(let E=0;E<v;E++){const P=x[E];P[0]=E,P[1]=m[E]}x.sort(Dz);for(let E=0;E<8;E++)E<v&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Iz);const A=d.morphAttributes.position,_=d.morphAttributes.normal;let M=0;for(let E=0;E<8;E++){const P=a[E],L=P[0],b=P[1];L!==Number.MAX_SAFE_INTEGER&&b?(A&&d.getAttribute("morphTarget"+E)!==A[L]&&d.setAttribute("morphTarget"+E,A[L]),_&&d.getAttribute("morphNormal"+E)!==_[L]&&d.setAttribute("morphNormal"+E,_[L]),r[E]=b,M+=b):(A&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),_&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),r[E]=0)}const S=d.morphTargetsRelative?1:1-M;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Fz(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==u&&(e.update(h),r.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const u3=new en,f3=new Hg,d3=new m_,h3=new Bd,JC=[],XC=[],KC=new Float32Array(16),YC=new Float32Array(9),qC=new Float32Array(4);function du(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=JC[r];if(s===void 0&&(s=new Float32Array(r),JC[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Dn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Nn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Wg(n,e){let t=XC[e];t===void 0&&(t=new Int32Array(e),XC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function kz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Oz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dn(t,e))return;n.uniform2fv(this.addr,e),Nn(t,e)}}function Uz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Dn(t,e))return;n.uniform3fv(this.addr,e),Nn(t,e)}}function zz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dn(t,e))return;n.uniform4fv(this.addr,e),Nn(t,e)}}function Gz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Nn(t,e)}else{if(Dn(t,i))return;qC.set(i),n.uniformMatrix2fv(this.addr,!1,qC),Nn(t,i)}}function Hz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Nn(t,e)}else{if(Dn(t,i))return;YC.set(i),n.uniformMatrix3fv(this.addr,!1,YC),Nn(t,i)}}function Vz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Dn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Nn(t,e)}else{if(Dn(t,i))return;KC.set(i),n.uniformMatrix4fv(this.addr,!1,KC),Nn(t,i)}}function Wz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function jz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dn(t,e))return;n.uniform2iv(this.addr,e),Nn(t,e)}}function Jz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dn(t,e))return;n.uniform3iv(this.addr,e),Nn(t,e)}}function Xz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dn(t,e))return;n.uniform4iv(this.addr,e),Nn(t,e)}}function Kz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Yz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Dn(t,e))return;n.uniform2uiv(this.addr,e),Nn(t,e)}}function qz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Dn(t,e))return;n.uniform3uiv(this.addr,e),Nn(t,e)}}function Qz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Dn(t,e))return;n.uniform4uiv(this.addr,e),Nn(t,e)}}function Zz(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||u3,r)}function $z(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||d3,r)}function eG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||h3,r)}function tG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||f3,r)}function nG(n){switch(n){case 5126:return kz;case 35664:return Oz;case 35665:return Uz;case 35666:return zz;case 35674:return Gz;case 35675:return Hz;case 35676:return Vz;case 5124:case 35670:return Wz;case 35667:case 35671:return jz;case 35668:case 35672:return Jz;case 35669:case 35673:return Xz;case 5125:return Kz;case 36294:return Yz;case 36295:return qz;case 36296:return Qz;case 35678:case 36198:case 36298:case 36306:case 35682:return Zz;case 35679:case 36299:case 36307:return $z;case 35680:case 36300:case 36308:case 36293:return eG;case 36289:case 36303:case 36311:case 36292:return tG}}function iG(n,e){n.uniform1fv(this.addr,e)}function rG(n,e){const t=du(e,this.size,2);n.uniform2fv(this.addr,t)}function sG(n,e){const t=du(e,this.size,3);n.uniform3fv(this.addr,t)}function oG(n,e){const t=du(e,this.size,4);n.uniform4fv(this.addr,t)}function aG(n,e){const t=du(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function lG(n,e){const t=du(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function cG(n,e){const t=du(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function uG(n,e){n.uniform1iv(this.addr,e)}function fG(n,e){n.uniform2iv(this.addr,e)}function dG(n,e){n.uniform3iv(this.addr,e)}function hG(n,e){n.uniform4iv(this.addr,e)}function pG(n,e){n.uniform1uiv(this.addr,e)}function mG(n,e){n.uniform2uiv(this.addr,e)}function gG(n,e){n.uniform3uiv(this.addr,e)}function vG(n,e){n.uniform4uiv(this.addr,e)}function yG(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||u3,s[o])}function xG(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||d3,s[o])}function AG(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||h3,s[o])}function _G(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);Dn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||f3,s[o])}function wG(n){switch(n){case 5126:return iG;case 35664:return rG;case 35665:return sG;case 35666:return oG;case 35674:return aG;case 35675:return lG;case 35676:return cG;case 5124:case 35670:return uG;case 35667:case 35671:return fG;case 35668:case 35672:return dG;case 35669:case 35673:return hG;case 5125:return pG;case 36294:return mG;case 36295:return gG;case 36296:return vG;case 35678:case 36198:case 36298:case 36306:case 35682:return yG;case 35679:case 36299:case 36307:return xG;case 35680:case 36300:case 36308:case 36293:return AG;case 36289:case 36303:case 36311:case 36292:return _G}}class MG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=nG(t.type)}}class SG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=wG(t.type)}}class CG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const dy=/(\w+)(\])?(\[|\.)?/g;function QC(n,e){n.seq.push(e),n.map[e.id]=e}function EG(n,e,t){const i=n.name,r=i.length;for(dy.lastIndex=0;;){const s=dy.exec(i),o=dy.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){QC(t,u===void 0?new MG(a,n,e):new SG(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new CG(a),QC(t,h)),t=h}}}class Tm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);EG(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function ZC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let bG=0;function TG(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function PG(n){switch(n){case no:return["Linear","( value )"];case Vt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function $C(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+TG(n.getShaderSource(e),o)}else return r}function BG(n,e){const t=PG(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function RG(n,e){let t;switch(e){case RB:t="Linear";break;case LB:t="Reinhard";break;case IB:t="OptimizedCineon";break;case l_:t="ACESFilmic";break;case DB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function LG(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(xf).join(`
`)}function IG(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function DG(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function xf(n){return n!==""}function eE(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function tE(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const NG=/^[ \t]*#include +<([\w\d./]+)>/gm;function EA(n){return n.replace(NG,FG)}function FG(n,e){const t=gt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return EA(t)}const kG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nE(n){return n.replace(kG,OG)}function OG(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function iE(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function UG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Og?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Bf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Xa&&(e="SHADOWMAP_TYPE_VSM"),e}function zG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Yo:case qo:e="ENVMAP_TYPE_CUBE";break;case cu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function GG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case qo:e="ENVMAP_MODE_REFRACTION";break}return e}function HG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Td:e="ENVMAP_BLENDING_MULTIPLY";break;case PB:e="ENVMAP_BLENDING_MIX";break;case BB:e="ENVMAP_BLENDING_ADD";break}return e}function VG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function WG(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=UG(t),u=zG(t),d=GG(t),h=HG(t),p=VG(t),m=t.isWebGL2?"":LG(t),y=IG(s),v=r.createProgram();let x,A,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(xf).join(`
`),x.length>0&&(x+=`
`),A=[m,y].filter(xf).join(`
`),A.length>0&&(A+=`
`)):(x=[iE(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xf).join(`
`),A=[m,iE(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Wr?"#define TONE_MAPPING":"",t.toneMapping!==Wr?gt.tonemapping_pars_fragment:"",t.toneMapping!==Wr?RG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gt.encodings_pars_fragment,BG("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(xf).join(`
`)),o=EA(o),o=eE(o,t),o=tE(o,t),a=EA(a),a=eE(a,t),a=tE(a,t),o=nE(o),a=nE(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,A=["#define varying in",t.glslVersion===MA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===MA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const M=_+x+o,S=_+A+a,E=ZC(r,35633,M),P=ZC(r,35632,S);if(r.attachShader(v,E),r.attachShader(v,P),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const R=r.getProgramInfoLog(v).trim(),I=r.getShaderInfoLog(E).trim(),G=r.getShaderInfoLog(P).trim();let ee=!0,W=!0;if(r.getProgramParameter(v,35714)===!1){ee=!1;const V=$C(r,E,"vertex"),q=$C(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+V+`
`+q)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(I===""||G==="")&&(W=!1);W&&(this.diagnostics={runnable:ee,programLog:R,vertexShader:{log:I,prefix:x},fragmentShader:{log:G,prefix:A}})}r.deleteShader(E),r.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new Tm(r,v)),L};let b;return this.getAttributes=function(){return b===void 0&&(b=DG(r,v)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=bG++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=P,this}let jG=0;class JG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new XG(e),t.set(e,i)),i}}class XG{constructor(e){this.id=jG++,this.code=e,this.usedTimes=0}}function KG(n,e,t,i,r,s,o){const a=new ol,l=new JG,u=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(b,R,I,G,ee){const W=G.fog,V=ee.geometry,q=b.isMeshStandardMaterial?G.environment:null,ie=(b.isMeshStandardMaterial?t:e).get(b.envMap||q),ce=ie&&ie.mapping===cu?ie.image.height:null,k=y[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const j=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,Y=j!==void 0?j.length:0;let oe=0;V.morphAttributes.position!==void 0&&(oe=1),V.morphAttributes.normal!==void 0&&(oe=2),V.morphAttributes.color!==void 0&&(oe=3);let X,re,ye,_e;if(k){const Re=zr[k];X=Re.vertexShader,re=Re.fragmentShader}else X=b.vertexShader,re=b.fragmentShader,l.update(b),ye=l.getVertexShaderID(b),_e=l.getFragmentShaderID(b);const $=n.getRenderTarget(),ke=b.alphaTest>0,Oe=b.clearcoat>0,Ve=b.iridescence>0;return{isWebGL2:d,shaderID:k,shaderName:b.type,vertexShader:X,fragmentShader:re,defines:b.defines,customVertexShaderID:ye,customFragmentShaderID:_e,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:ee.isInstancedMesh===!0,instancingColor:ee.isInstancedMesh===!0&&ee.instanceColor!==null,supportsVertexTextures:p,outputEncoding:$===null?n.outputEncoding:$.isXRRenderTarget===!0?$.texture.encoding:no,map:!!b.map,matcap:!!b.matcap,envMap:!!ie,envMapMode:ie&&ie.mapping,envMapCubeUVHeight:ce,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===n3,tangentSpaceNormalMap:b.normalMapType===sa,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===Vt,clearcoat:Oe,clearcoatMap:Oe&&!!b.clearcoatMap,clearcoatRoughnessMap:Oe&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:Oe&&!!b.clearcoatNormalMap,iridescence:Ve,iridescenceMap:Ve&&!!b.iridescenceMap,iridescenceThicknessMap:Ve&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===tl,alphaMap:!!b.alphaMap,alphaTest:ke,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!V.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!W,useFog:b.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:h,skinning:ee.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:oe,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:Wr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Gr,flipSided:b.side===Li,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function x(b){const R=[];if(b.shaderID?R.push(b.shaderID):(R.push(b.customVertexShaderID),R.push(b.customFragmentShaderID)),b.defines!==void 0)for(const I in b.defines)R.push(I),R.push(b.defines[I]);return b.isRawShaderMaterial===!1&&(A(R,b),_(R,b),R.push(n.outputEncoding)),R.push(b.customProgramCacheKey),R.join()}function A(b,R){b.push(R.precision),b.push(R.outputEncoding),b.push(R.envMapMode),b.push(R.envMapCubeUVHeight),b.push(R.combine),b.push(R.vertexUvs),b.push(R.fogExp2),b.push(R.sizeAttenuation),b.push(R.morphTargetsCount),b.push(R.morphAttributeCount),b.push(R.numDirLights),b.push(R.numPointLights),b.push(R.numSpotLights),b.push(R.numSpotLightMaps),b.push(R.numHemiLights),b.push(R.numRectAreaLights),b.push(R.numDirLightShadows),b.push(R.numPointLightShadows),b.push(R.numSpotLightShadows),b.push(R.numSpotLightShadowsWithMaps),b.push(R.shadowMapType),b.push(R.toneMapping),b.push(R.numClippingPlanes),b.push(R.numClipIntersection),b.push(R.depthPacking)}function _(b,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),b.push(a.mask)}function M(b){const R=y[b.type];let I;if(R){const G=zr[R];I=l3.clone(G.uniforms)}else I=b.uniforms;return I}function S(b,R){let I;for(let G=0,ee=u.length;G<ee;G++){const W=u[G];if(W.cacheKey===R){I=W,++I.usedTimes;break}}return I===void 0&&(I=new WG(n,R,b,s),u.push(I)),I}function E(b){if(--b.usedTimes===0){const R=u.indexOf(b);u[R]=u[u.length-1],u.pop(),b.destroy()}}function P(b){l.remove(b)}function L(){l.dispose()}return{getParameters:v,getProgramCacheKey:x,getUniforms:M,acquireProgram:S,releaseProgram:E,releaseShaderCache:P,programs:u,dispose:L}}function YG(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function qG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function rE(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function sE(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,v,x){let A=n[e];return A===void 0?(A={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:v,group:x},n[e]=A):(A.id=h.id,A.object=h,A.geometry=p,A.material=m,A.groupOrder=y,A.renderOrder=h.renderOrder,A.z=v,A.group=x),e++,A}function a(h,p,m,y,v,x){const A=o(h,p,m,y,v,x);m.transmission>0?i.push(A):m.transparent===!0?r.push(A):t.push(A)}function l(h,p,m,y,v,x){const A=o(h,p,m,y,v,x);m.transmission>0?i.unshift(A):m.transparent===!0?r.unshift(A):t.unshift(A)}function u(h,p){t.length>1&&t.sort(h||qG),i.length>1&&i.sort(p||rE),r.length>1&&r.sort(p||rE)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:u}}function QG(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new sE,n.set(i,[o])):r>=s.length?(o=new sE,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ZG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new De};break;case"SpotLight":t={position:new N,direction:new N,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new N,halfWidth:new N,halfHeight:new N};break}return n[e.id]=t,t}}}function $G(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let eH=0;function tH(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function nH(n,e){const t=new ZG,i=$G(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new N);const s=new N,o=new ot,a=new ot;function l(d,h){let p=0,m=0,y=0;for(let G=0;G<9;G++)r.probe[G].set(0,0,0);let v=0,x=0,A=0,_=0,M=0,S=0,E=0,P=0,L=0,b=0;d.sort(tH);const R=h!==!0?Math.PI:1;for(let G=0,ee=d.length;G<ee;G++){const W=d[G],V=W.color,q=W.intensity,ie=W.distance,ce=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=V.r*q*R,m+=V.g*q*R,y+=V.b*q*R;else if(W.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(W.sh.coefficients[k],q);else if(W.isDirectionalLight){const k=t.get(W);if(k.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const j=W.shadow,Y=i.get(W);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,r.directionalShadow[v]=Y,r.directionalShadowMap[v]=ce,r.directionalShadowMatrix[v]=W.shadow.matrix,S++}r.directional[v]=k,v++}else if(W.isSpotLight){const k=t.get(W);k.position.setFromMatrixPosition(W.matrixWorld),k.color.copy(V).multiplyScalar(q*R),k.distance=ie,k.coneCos=Math.cos(W.angle),k.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),k.decay=W.decay,r.spot[A]=k;const j=W.shadow;if(W.map&&(r.spotLightMap[L]=W.map,L++,j.updateMatrices(W),W.castShadow&&b++),r.spotLightMatrix[A]=j.matrix,W.castShadow){const Y=i.get(W);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,r.spotShadow[A]=Y,r.spotShadowMap[A]=ce,P++}A++}else if(W.isRectAreaLight){const k=t.get(W);k.color.copy(V).multiplyScalar(q),k.halfWidth.set(W.width*.5,0,0),k.halfHeight.set(0,W.height*.5,0),r.rectArea[_]=k,_++}else if(W.isPointLight){const k=t.get(W);if(k.color.copy(W.color).multiplyScalar(W.intensity*R),k.distance=W.distance,k.decay=W.decay,W.castShadow){const j=W.shadow,Y=i.get(W);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,Y.shadowCameraNear=j.camera.near,Y.shadowCameraFar=j.camera.far,r.pointShadow[x]=Y,r.pointShadowMap[x]=ce,r.pointShadowMatrix[x]=W.shadow.matrix,E++}r.point[x]=k,x++}else if(W.isHemisphereLight){const k=t.get(W);k.skyColor.copy(W.color).multiplyScalar(q*R),k.groundColor.copy(W.groundColor).multiplyScalar(q*R),r.hemi[M]=k,M++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_FLOAT_1,r.rectAreaLTC2=Be.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_HALF_1,r.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const I=r.hash;(I.directionalLength!==v||I.pointLength!==x||I.spotLength!==A||I.rectAreaLength!==_||I.hemiLength!==M||I.numDirectionalShadows!==S||I.numPointShadows!==E||I.numSpotShadows!==P||I.numSpotMaps!==L)&&(r.directional.length=v,r.spot.length=A,r.rectArea.length=_,r.point.length=x,r.hemi.length=M,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=P+L-b,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=b,I.directionalLength=v,I.pointLength=x,I.spotLength=A,I.rectAreaLength=_,I.hemiLength=M,I.numDirectionalShadows=S,I.numPointShadows=E,I.numSpotShadows=P,I.numSpotMaps=L,r.version=eH++)}function u(d,h){let p=0,m=0,y=0,v=0,x=0;const A=h.matrixWorldInverse;for(let _=0,M=d.length;_<M;_++){const S=d[_];if(S.isDirectionalLight){const E=r.directional[p];E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(A),p++}else if(S.isSpotLight){const E=r.spot[y];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(A),E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(A),y++}else if(S.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(A),a.identity(),o.copy(S.matrixWorld),o.premultiply(A),a.extractRotation(o),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const E=r.point[m];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(A),m++}else if(S.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(A),x++}}}return{setup:l,setupView:u,state:r}}function oE(n,e){const t=new nH(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function u(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function iH(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new oE(n,e),t.set(s,[l])):o>=a.length?(l=new oE(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class __ extends En{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class w_ extends En{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new N,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const rH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,sH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function oH(n,e,t){let i=new Vg;const r=new pe,s=new pe,o=new zt,a=new __({depthPacking:t3}),l=new w_,u={},d=t.maxTextureSize,h={[ds]:Li,[Li]:ds,[Gr]:Gr},p=new ps({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:rH,fragmentShader:sH}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new ft;y.setAttribute("position",new kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Ln(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Og,this.render=function(S,E,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const L=n.getRenderTarget(),b=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Ks),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let G=0,ee=S.length;G<ee;G++){const W=S[G],V=W.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;r.copy(V.mapSize);const q=V.getFrameExtents();if(r.multiply(q),s.copy(V.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/q.x),r.x=s.x*q.x,V.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/q.y),r.y=s.y*q.y,V.mapSize.y=s.y)),V.map===null){const ce=this.type!==Xa?{minFilter:mn,magFilter:mn}:{};V.map=new Jr(r.x,r.y,ce),V.map.texture.name=W.name+".shadowMap",V.camera.updateProjectionMatrix()}n.setRenderTarget(V.map),n.clear();const ie=V.getViewportCount();for(let ce=0;ce<ie;ce++){const k=V.getViewport(ce);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),I.viewport(o),V.updateMatrices(W,ce),i=V.getFrustum(),M(E,P,V.camera,W,this.type)}V.isPointLightShadow!==!0&&this.type===Xa&&A(V,P),V.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(L,b,R)};function A(S,E){const P=e.update(v);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new Jr(r.x,r.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(E,null,P,p,v,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(E,null,P,m,v,null)}function _(S,E,P,L,b,R){let I=null;const G=P.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(G!==void 0)I=G;else if(I=P.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const ee=I.uuid,W=E.uuid;let V=u[ee];V===void 0&&(V={},u[ee]=V);let q=V[W];q===void 0&&(q=I.clone(),V[W]=q),I=q}return I.visible=E.visible,I.wireframe=E.wireframe,R===Xa?I.side=E.shadowSide!==null?E.shadowSide:E.side:I.side=E.shadowSide!==null?E.shadowSide:h[E.side],I.alphaMap=E.alphaMap,I.alphaTest=E.alphaTest,I.map=E.map,I.clipShadows=E.clipShadows,I.clippingPlanes=E.clippingPlanes,I.clipIntersection=E.clipIntersection,I.displacementMap=E.displacementMap,I.displacementScale=E.displacementScale,I.displacementBias=E.displacementBias,I.wireframeLinewidth=E.wireframeLinewidth,I.linewidth=E.linewidth,P.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(P.matrixWorld),I.nearDistance=L,I.farDistance=b),I}function M(S,E,P,L,b){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&b===Xa)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,S.matrixWorld);const G=e.update(S),ee=S.material;if(Array.isArray(ee)){const W=G.groups;for(let V=0,q=W.length;V<q;V++){const ie=W[V],ce=ee[ie.materialIndex];if(ce&&ce.visible){const k=_(S,ce,L,P.near,P.far,b);n.renderBufferDirect(P,null,G,k,S,ie)}}}else if(ee.visible){const W=_(S,ee,L,P.near,P.far,b);n.renderBufferDirect(P,null,G,W,S,null)}}const I=S.children;for(let G=0,ee=I.length;G<ee;G++)M(I[G],E,P,L,b)}}function aH(n,e,t){const i=t.isWebGL2;function r(){let H=!1;const se=new zt;let xe=null;const Le=new zt(0,0,0,0);return{setMask:function(Ke){xe!==Ke&&!H&&(n.colorMask(Ke,Ke,Ke,Ke),xe=Ke)},setLocked:function(Ke){H=Ke},setClear:function(Ke,Mt,Ot,Ht,qn){qn===!0&&(Ke*=Ht,Mt*=Ht,Ot*=Ht),se.set(Ke,Mt,Ot,Ht),Le.equals(se)===!1&&(n.clearColor(Ke,Mt,Ot,Ht),Le.copy(se))},reset:function(){H=!1,xe=null,Le.set(-1,0,0,0)}}}function s(){let H=!1,se=null,xe=null,Le=null;return{setTest:function(Ke){Ke?ke(2929):Oe(2929)},setMask:function(Ke){se!==Ke&&!H&&(n.depthMask(Ke),se=Ke)},setFunc:function(Ke){if(xe!==Ke){switch(Ke){case wB:n.depthFunc(512);break;case MB:n.depthFunc(519);break;case SB:n.depthFunc(513);break;case ig:n.depthFunc(515);break;case CB:n.depthFunc(514);break;case EB:n.depthFunc(518);break;case bB:n.depthFunc(516);break;case TB:n.depthFunc(517);break;default:n.depthFunc(515)}xe=Ke}},setLocked:function(Ke){H=Ke},setClear:function(Ke){Le!==Ke&&(n.clearDepth(Ke),Le=Ke)},reset:function(){H=!1,se=null,xe=null,Le=null}}}function o(){let H=!1,se=null,xe=null,Le=null,Ke=null,Mt=null,Ot=null,Ht=null,qn=null;return{setTest:function(Lt){H||(Lt?ke(2960):Oe(2960))},setMask:function(Lt){se!==Lt&&!H&&(n.stencilMask(Lt),se=Lt)},setFunc:function(Lt,Fn,bn){(xe!==Lt||Le!==Fn||Ke!==bn)&&(n.stencilFunc(Lt,Fn,bn),xe=Lt,Le=Fn,Ke=bn)},setOp:function(Lt,Fn,bn){(Mt!==Lt||Ot!==Fn||Ht!==bn)&&(n.stencilOp(Lt,Fn,bn),Mt=Lt,Ot=Fn,Ht=bn)},setLocked:function(Lt){H=Lt},setClear:function(Lt){qn!==Lt&&(n.clearStencil(Lt),qn=Lt)},reset:function(){H=!1,se=null,xe=null,Le=null,Ke=null,Mt=null,Ot=null,Ht=null,qn=null}}}const a=new r,l=new s,u=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,v=[],x=null,A=!1,_=null,M=null,S=null,E=null,P=null,L=null,b=null,R=!1,I=null,G=null,ee=null,W=null,V=null;const q=n.getParameter(35661);let ie=!1,ce=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL (\d)/.exec(k)[1]),ie=ce>=1):k.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),ie=ce>=2);let j=null,Y={};const oe=n.getParameter(3088),X=n.getParameter(2978),re=new zt().fromArray(oe),ye=new zt().fromArray(X);function _e(H,se,xe){const Le=new Uint8Array(4),Ke=n.createTexture();n.bindTexture(H,Ke),n.texParameteri(H,10241,9728),n.texParameteri(H,10240,9728);for(let Mt=0;Mt<xe;Mt++)n.texImage2D(se+Mt,0,6408,1,1,0,6408,5121,Le);return Ke}const $={};$[3553]=_e(3553,3553,1),$[34067]=_e(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ke(2929),l.setFunc(ig),Pe(!1),$e(Kx),ke(2884),Ce(Ks);function ke(H){p[H]!==!0&&(n.enable(H),p[H]=!0)}function Oe(H){p[H]!==!1&&(n.disable(H),p[H]=!1)}function Ve(H,se){return m[H]!==se?(n.bindFramebuffer(H,se),m[H]=se,i&&(H===36009&&(m[36160]=se),H===36160&&(m[36009]=se)),!0):!1}function we(H,se){let xe=v,Le=!1;if(H)if(xe=y.get(se),xe===void 0&&(xe=[],y.set(se,xe)),H.isWebGLMultipleRenderTargets){const Ke=H.texture;if(xe.length!==Ke.length||xe[0]!==36064){for(let Mt=0,Ot=Ke.length;Mt<Ot;Mt++)xe[Mt]=36064+Mt;xe.length=Ke.length,Le=!0}}else xe[0]!==36064&&(xe[0]=36064,Le=!0);else xe[0]!==1029&&(xe[0]=1029,Le=!0);Le&&(t.isWebGL2?n.drawBuffers(xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))}function Re(H){return x!==H?(n.useProgram(H),x=H,!0):!1}const de={[Ha]:32774,[fB]:32778,[dB]:32779};if(i)de[Zx]=32775,de[$x]=32776;else{const H=e.get("EXT_blend_minmax");H!==null&&(de[Zx]=H.MIN_EXT,de[$x]=H.MAX_EXT)}const le={[hB]:0,[pB]:1,[mB]:768,[o_]:770,[_B]:776,[xB]:774,[vB]:772,[gB]:769,[a_]:771,[AB]:775,[yB]:773};function Ce(H,se,xe,Le,Ke,Mt,Ot,Ht){if(H===Ks){A===!0&&(Oe(3042),A=!1);return}if(A===!1&&(ke(3042),A=!0),H!==uB){if(H!==_||Ht!==R){if((M!==Ha||P!==Ha)&&(n.blendEquation(32774),M=Ha,P=Ha),Ht)switch(H){case tl:n.blendFuncSeparate(1,771,1,771);break;case Yx:n.blendFunc(1,1);break;case qx:n.blendFuncSeparate(0,769,0,1);break;case Qx:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",H);break}else switch(H){case tl:n.blendFuncSeparate(770,771,1,771);break;case Yx:n.blendFunc(770,1);break;case qx:n.blendFuncSeparate(0,769,0,1);break;case Qx:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",H);break}S=null,E=null,L=null,b=null,_=H,R=Ht}return}Ke=Ke||se,Mt=Mt||xe,Ot=Ot||Le,(se!==M||Ke!==P)&&(n.blendEquationSeparate(de[se],de[Ke]),M=se,P=Ke),(xe!==S||Le!==E||Mt!==L||Ot!==b)&&(n.blendFuncSeparate(le[xe],le[Le],le[Mt],le[Ot]),S=xe,E=Le,L=Mt,b=Ot),_=H,R=!1}function ze(H,se){H.side===Gr?Oe(2884):ke(2884);let xe=H.side===Li;se&&(xe=!xe),Pe(xe),H.blending===tl&&H.transparent===!1?Ce(Ks):Ce(H.blending,H.blendEquation,H.blendSrc,H.blendDst,H.blendEquationAlpha,H.blendSrcAlpha,H.blendDstAlpha,H.premultipliedAlpha),l.setFunc(H.depthFunc),l.setTest(H.depthTest),l.setMask(H.depthWrite),a.setMask(H.colorWrite);const Le=H.stencilWrite;u.setTest(Le),Le&&(u.setMask(H.stencilWriteMask),u.setFunc(H.stencilFunc,H.stencilRef,H.stencilFuncMask),u.setOp(H.stencilFail,H.stencilZFail,H.stencilZPass)),Je(H.polygonOffset,H.polygonOffsetFactor,H.polygonOffsetUnits),H.alphaToCoverage===!0?ke(32926):Oe(32926)}function Pe(H){I!==H&&(H?n.frontFace(2304):n.frontFace(2305),I=H)}function $e(H){H!==aB?(ke(2884),H!==G&&(H===Kx?n.cullFace(1029):H===lB?n.cullFace(1028):n.cullFace(1032))):Oe(2884),G=H}function qe(H){H!==ee&&(ie&&n.lineWidth(H),ee=H)}function Je(H,se,xe){H?(ke(32823),(W!==se||V!==xe)&&(n.polygonOffset(se,xe),W=se,V=xe)):Oe(32823)}function _t(H){H?ke(3089):Oe(3089)}function wt(H){H===void 0&&(H=33984+q-1),j!==H&&(n.activeTexture(H),j=H)}function z(H,se,xe){xe===void 0&&(j===null?xe=33984+q-1:xe=j);let Le=Y[xe];Le===void 0&&(Le={type:void 0,texture:void 0},Y[xe]=Le),(Le.type!==H||Le.texture!==se)&&(j!==xe&&(n.activeTexture(xe),j=xe),n.bindTexture(H,se||$[H]),Le.type=H,Le.texture=se)}function D(){const H=Y[j];H!==void 0&&H.type!==void 0&&(n.bindTexture(H.type,null),H.type=void 0,H.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Me(){try{n.compressedTexImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Ee(){try{n.texSubImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Te(){try{n.texSubImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function it(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Ne(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function Qe(){try{n.texStorage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function rt(){try{n.texImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function je(){try{n.texImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}}function et(H){re.equals(H)===!1&&(n.scissor(H.x,H.y,H.z,H.w),re.copy(H))}function Xe(H){ye.equals(H)===!1&&(n.viewport(H.x,H.y,H.z,H.w),ye.copy(H))}function J(H,se){let xe=h.get(se);xe===void 0&&(xe=new WeakMap,h.set(se,xe));let Le=xe.get(H);Le===void 0&&(Le=n.getUniformBlockIndex(se,H.name),xe.set(H,Le))}function ve(H,se){const Le=h.get(se).get(H);d.get(se)!==Le&&(n.uniformBlockBinding(se,Le,H.__bindingPointIndex),d.set(se,Le))}function Ue(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},j=null,Y={},m={},y=new WeakMap,v=[],x=null,A=!1,_=null,M=null,S=null,E=null,P=null,L=null,b=null,R=!1,I=null,G=null,ee=null,W=null,V=null,re.set(0,0,n.canvas.width,n.canvas.height),ye.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ke,disable:Oe,bindFramebuffer:Ve,drawBuffers:we,useProgram:Re,setBlending:Ce,setMaterial:ze,setFlipSided:Pe,setCullFace:$e,setLineWidth:qe,setPolygonOffset:Je,setScissorTest:_t,activeTexture:wt,bindTexture:z,unbindTexture:D,compressedTexImage2D:ae,compressedTexImage3D:Me,texImage2D:rt,texImage3D:je,updateUBOMapping:J,uniformBlockBinding:ve,texStorage2D:ge,texStorage3D:Qe,texSubImage2D:Ee,texSubImage3D:Te,compressedTexSubImage2D:it,compressedTexSubImage3D:Ne,scissor:et,viewport:Xe,reset:Ue}}function lH(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let v;const x=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(z,D){return A?new OffscreenCanvas(z,D):ud("canvas")}function M(z,D,ae,Me){let Ee=1;if((z.width>Me||z.height>Me)&&(Ee=Me/Math.max(z.width,z.height)),Ee<1||D===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const Te=D?og:Math.floor,it=Te(Ee*z.width),Ne=Te(Ee*z.height);v===void 0&&(v=_(it,Ne));const ge=ae?_(it,Ne):v;return ge.width=it,ge.height=Ne,ge.getContext("2d").drawImage(z,0,0,it,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+it+"x"+Ne+")."),ge}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function S(z){return SA(z.width)&&SA(z.height)}function E(z){return a?!1:z.wrapS!==Xn||z.wrapT!==Xn||z.minFilter!==mn&&z.minFilter!==sn}function P(z,D){return z.generateMipmaps&&D&&z.minFilter!==mn&&z.minFilter!==sn}function L(z){n.generateMipmap(z)}function b(z,D,ae,Me,Ee=!1){if(a===!1)return D;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Te=D;return D===6403&&(ae===5126&&(Te=33326),ae===5131&&(Te=33325),ae===5121&&(Te=33321)),D===33319&&(ae===5126&&(Te=33328),ae===5131&&(Te=33327),ae===5121&&(Te=33323)),D===6408&&(ae===5126&&(Te=34836),ae===5131&&(Te=34842),ae===5121&&(Te=Me===Vt&&Ee===!1?35907:32856),ae===32819&&(Te=32854),ae===32820&&(Te=32855)),(Te===33325||Te===33326||Te===33327||Te===33328||Te===34842||Te===34836)&&e.get("EXT_color_buffer_float"),Te}function R(z,D,ae){return P(z,ae)===!0||z.isFramebufferTexture&&z.minFilter!==mn&&z.minFilter!==sn?Math.log2(Math.max(D.width,D.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?D.mipmaps.length:1}function I(z){return z===mn||z===od||z===Dc?9728:9729}function G(z){const D=z.target;D.removeEventListener("dispose",G),W(D),D.isVideoTexture&&y.delete(D)}function ee(z){const D=z.target;D.removeEventListener("dispose",ee),q(D)}function W(z){const D=i.get(z);if(D.__webglInit===void 0)return;const ae=z.source,Me=x.get(ae);if(Me){const Ee=Me[D.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&V(z),Object.keys(Me).length===0&&x.delete(ae)}i.remove(z)}function V(z){const D=i.get(z);n.deleteTexture(D.__webglTexture);const ae=z.source,Me=x.get(ae);delete Me[D.__cacheKey],o.memory.textures--}function q(z){const D=z.texture,ae=i.get(z),Me=i.get(D);if(Me.__webglTexture!==void 0&&(n.deleteTexture(Me.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++)n.deleteFramebuffer(ae.__webglFramebuffer[Ee]),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[Ee]);else{if(n.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Ee=0;Ee<ae.__webglColorRenderbuffer.length;Ee++)ae.__webglColorRenderbuffer[Ee]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[Ee]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let Ee=0,Te=D.length;Ee<Te;Ee++){const it=i.get(D[Ee]);it.__webglTexture&&(n.deleteTexture(it.__webglTexture),o.memory.textures--),i.remove(D[Ee])}i.remove(D),i.remove(z)}let ie=0;function ce(){ie=0}function k(){const z=ie;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),ie+=1,z}function j(z){const D=[];return D.push(z.wrapS),D.push(z.wrapT),D.push(z.wrapR||0),D.push(z.magFilter),D.push(z.minFilter),D.push(z.anisotropy),D.push(z.internalFormat),D.push(z.format),D.push(z.type),D.push(z.generateMipmaps),D.push(z.premultiplyAlpha),D.push(z.flipY),D.push(z.unpackAlignment),D.push(z.encoding),D.join()}function Y(z,D){const ae=i.get(z);if(z.isVideoTexture&&_t(z),z.isRenderTargetTexture===!1&&z.version>0&&ae.__version!==z.version){const Me=z.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(ae,z,D);return}}t.bindTexture(3553,ae.__webglTexture,33984+D)}function oe(z,D){const ae=i.get(z);if(z.version>0&&ae.__version!==z.version){Oe(ae,z,D);return}t.bindTexture(35866,ae.__webglTexture,33984+D)}function X(z,D){const ae=i.get(z);if(z.version>0&&ae.__version!==z.version){Oe(ae,z,D);return}t.bindTexture(32879,ae.__webglTexture,33984+D)}function re(z,D){const ae=i.get(z);if(z.version>0&&ae.__version!==z.version){Ve(ae,z,D);return}t.bindTexture(34067,ae.__webglTexture,33984+D)}const ye={[Qo]:10497,[Xn]:33071,[jc]:33648},_e={[mn]:9728,[od]:9984,[Dc]:9986,[sn]:9729,[zg]:9985,[hs]:9987};function $(z,D,ae){if(ae?(n.texParameteri(z,10242,ye[D.wrapS]),n.texParameteri(z,10243,ye[D.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,ye[D.wrapR]),n.texParameteri(z,10240,_e[D.magFilter]),n.texParameteri(z,10241,_e[D.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(D.wrapS!==Xn||D.wrapT!==Xn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,I(D.magFilter)),n.texParameteri(z,10241,I(D.minFilter)),D.minFilter!==mn&&D.minFilter!==sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Me=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===mn||D.minFilter!==Dc&&D.minFilter!==hs||D.type===Vs&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Jc&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(z,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function ke(z,D){let ae=!1;z.__webglInit===void 0&&(z.__webglInit=!0,D.addEventListener("dispose",G));const Me=D.source;let Ee=x.get(Me);Ee===void 0&&(Ee={},x.set(Me,Ee));const Te=j(D);if(Te!==z.__cacheKey){Ee[Te]===void 0&&(Ee[Te]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Ee[Te].usedTimes++;const it=Ee[z.__cacheKey];it!==void 0&&(Ee[z.__cacheKey].usedTimes--,it.usedTimes===0&&V(D)),z.__cacheKey=Te,z.__webglTexture=Ee[Te].texture}return ae}function Oe(z,D,ae){let Me=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Me=35866),D.isData3DTexture&&(Me=32879);const Ee=ke(z,D),Te=D.source;t.bindTexture(Me,z.__webglTexture,33984+ae);const it=i.get(Te);if(Te.version!==it.__version||Ee===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const Ne=E(D)&&S(D.image)===!1;let ge=M(D.image,Ne,!1,d);ge=wt(D,ge);const Qe=S(ge)||a,rt=s.convert(D.format,D.encoding);let je=s.convert(D.type),et=b(D.internalFormat,rt,je,D.encoding,D.isVideoTexture);$(Me,D,Qe);let Xe;const J=D.mipmaps,ve=a&&D.isVideoTexture!==!0,Ue=it.__version===void 0||Ee===!0,H=R(D,ge,Qe);if(D.isDepthTexture)et=6402,a?D.type===Vs?et=36012:D.type===Do?et=33190:D.type===nl?et=35056:et=33189:D.type===Vs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===jo&&et===6402&&D.type!==c_&&D.type!==Do&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Do,je=s.convert(D.type)),D.format===hl&&et===6402&&(et=34041,D.type!==nl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=nl,je=s.convert(D.type))),Ue&&(ve?t.texStorage2D(3553,1,et,ge.width,ge.height):t.texImage2D(3553,0,et,ge.width,ge.height,0,rt,je,null));else if(D.isDataTexture)if(J.length>0&&Qe){ve&&Ue&&t.texStorage2D(3553,H,et,J[0].width,J[0].height);for(let se=0,xe=J.length;se<xe;se++)Xe=J[se],ve?t.texSubImage2D(3553,se,0,0,Xe.width,Xe.height,rt,je,Xe.data):t.texImage2D(3553,se,et,Xe.width,Xe.height,0,rt,je,Xe.data);D.generateMipmaps=!1}else ve?(Ue&&t.texStorage2D(3553,H,et,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,rt,je,ge.data)):t.texImage2D(3553,0,et,ge.width,ge.height,0,rt,je,ge.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){ve&&Ue&&t.texStorage3D(35866,H,et,J[0].width,J[0].height,ge.depth);for(let se=0,xe=J.length;se<xe;se++)Xe=J[se],D.format!==bi?rt!==null?ve?t.compressedTexSubImage3D(35866,se,0,0,0,Xe.width,Xe.height,ge.depth,rt,Xe.data,0,0):t.compressedTexImage3D(35866,se,et,Xe.width,Xe.height,ge.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ve?t.texSubImage3D(35866,se,0,0,0,Xe.width,Xe.height,ge.depth,rt,je,Xe.data):t.texImage3D(35866,se,et,Xe.width,Xe.height,ge.depth,0,rt,je,Xe.data)}else{ve&&Ue&&t.texStorage2D(3553,H,et,J[0].width,J[0].height);for(let se=0,xe=J.length;se<xe;se++)Xe=J[se],D.format!==bi?rt!==null?ve?t.compressedTexSubImage2D(3553,se,0,0,Xe.width,Xe.height,rt,Xe.data):t.compressedTexImage2D(3553,se,et,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ve?t.texSubImage2D(3553,se,0,0,Xe.width,Xe.height,rt,je,Xe.data):t.texImage2D(3553,se,et,Xe.width,Xe.height,0,rt,je,Xe.data)}else if(D.isDataArrayTexture)ve?(Ue&&t.texStorage3D(35866,H,et,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,rt,je,ge.data)):t.texImage3D(35866,0,et,ge.width,ge.height,ge.depth,0,rt,je,ge.data);else if(D.isData3DTexture)ve?(Ue&&t.texStorage3D(32879,H,et,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,rt,je,ge.data)):t.texImage3D(32879,0,et,ge.width,ge.height,ge.depth,0,rt,je,ge.data);else if(D.isFramebufferTexture){if(Ue)if(ve)t.texStorage2D(3553,H,et,ge.width,ge.height);else{let se=ge.width,xe=ge.height;for(let Le=0;Le<H;Le++)t.texImage2D(3553,Le,et,se,xe,0,rt,je,null),se>>=1,xe>>=1}}else if(J.length>0&&Qe){ve&&Ue&&t.texStorage2D(3553,H,et,J[0].width,J[0].height);for(let se=0,xe=J.length;se<xe;se++)Xe=J[se],ve?t.texSubImage2D(3553,se,0,0,rt,je,Xe):t.texImage2D(3553,se,et,rt,je,Xe);D.generateMipmaps=!1}else ve?(Ue&&t.texStorage2D(3553,H,et,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,rt,je,ge)):t.texImage2D(3553,0,et,rt,je,ge);P(D,Qe)&&L(Me),it.__version=Te.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function Ve(z,D,ae){if(D.image.length!==6)return;const Me=ke(z,D),Ee=D.source;t.bindTexture(34067,z.__webglTexture,33984+ae);const Te=i.get(Ee);if(Ee.version!==Te.__version||Me===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const it=D.isCompressedTexture||D.image[0].isCompressedTexture,Ne=D.image[0]&&D.image[0].isDataTexture,ge=[];for(let se=0;se<6;se++)!it&&!Ne?ge[se]=M(D.image[se],!1,!0,u):ge[se]=Ne?D.image[se].image:D.image[se],ge[se]=wt(D,ge[se]);const Qe=ge[0],rt=S(Qe)||a,je=s.convert(D.format,D.encoding),et=s.convert(D.type),Xe=b(D.internalFormat,je,et,D.encoding),J=a&&D.isVideoTexture!==!0,ve=Te.__version===void 0||Me===!0;let Ue=R(D,Qe,rt);$(34067,D,rt);let H;if(it){J&&ve&&t.texStorage2D(34067,Ue,Xe,Qe.width,Qe.height);for(let se=0;se<6;se++){H=ge[se].mipmaps;for(let xe=0;xe<H.length;xe++){const Le=H[xe];D.format!==bi?je!==null?J?t.compressedTexSubImage2D(34069+se,xe,0,0,Le.width,Le.height,je,Le.data):t.compressedTexImage2D(34069+se,xe,Xe,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):J?t.texSubImage2D(34069+se,xe,0,0,Le.width,Le.height,je,et,Le.data):t.texImage2D(34069+se,xe,Xe,Le.width,Le.height,0,je,et,Le.data)}}}else{H=D.mipmaps,J&&ve&&(H.length>0&&Ue++,t.texStorage2D(34067,Ue,Xe,ge[0].width,ge[0].height));for(let se=0;se<6;se++)if(Ne){J?t.texSubImage2D(34069+se,0,0,0,ge[se].width,ge[se].height,je,et,ge[se].data):t.texImage2D(34069+se,0,Xe,ge[se].width,ge[se].height,0,je,et,ge[se].data);for(let xe=0;xe<H.length;xe++){const Ke=H[xe].image[se].image;J?t.texSubImage2D(34069+se,xe+1,0,0,Ke.width,Ke.height,je,et,Ke.data):t.texImage2D(34069+se,xe+1,Xe,Ke.width,Ke.height,0,je,et,Ke.data)}}else{J?t.texSubImage2D(34069+se,0,0,0,je,et,ge[se]):t.texImage2D(34069+se,0,Xe,je,et,ge[se]);for(let xe=0;xe<H.length;xe++){const Le=H[xe];J?t.texSubImage2D(34069+se,xe+1,0,0,je,et,Le.image[se]):t.texImage2D(34069+se,xe+1,Xe,je,et,Le.image[se])}}}P(D,rt)&&L(34067),Te.__version=Ee.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function we(z,D,ae,Me,Ee){const Te=s.convert(ae.format,ae.encoding),it=s.convert(ae.type),Ne=b(ae.internalFormat,Te,it,ae.encoding);i.get(D).__hasExternalTextures||(Ee===32879||Ee===35866?t.texImage3D(Ee,0,Ne,D.width,D.height,D.depth,0,Te,it,null):t.texImage2D(Ee,0,Ne,D.width,D.height,0,Te,it,null)),t.bindFramebuffer(36160,z),Je(D)?p.framebufferTexture2DMultisampleEXT(36160,Me,Ee,i.get(ae).__webglTexture,0,qe(D)):(Ee===3553||Ee>=34069&&Ee<=34074)&&n.framebufferTexture2D(36160,Me,Ee,i.get(ae).__webglTexture,0),t.bindFramebuffer(36160,null)}function Re(z,D,ae){if(n.bindRenderbuffer(36161,z),D.depthBuffer&&!D.stencilBuffer){let Me=33189;if(ae||Je(D)){const Ee=D.depthTexture;Ee&&Ee.isDepthTexture&&(Ee.type===Vs?Me=36012:Ee.type===Do&&(Me=33190));const Te=qe(D);Je(D)?p.renderbufferStorageMultisampleEXT(36161,Te,Me,D.width,D.height):n.renderbufferStorageMultisample(36161,Te,Me,D.width,D.height)}else n.renderbufferStorage(36161,Me,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(D.depthBuffer&&D.stencilBuffer){const Me=qe(D);ae&&Je(D)===!1?n.renderbufferStorageMultisample(36161,Me,35056,D.width,D.height):Je(D)?p.renderbufferStorageMultisampleEXT(36161,Me,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const Me=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Ee=0;Ee<Me.length;Ee++){const Te=Me[Ee],it=s.convert(Te.format,Te.encoding),Ne=s.convert(Te.type),ge=b(Te.internalFormat,it,Ne,Te.encoding),Qe=qe(D);ae&&Je(D)===!1?n.renderbufferStorageMultisample(36161,Qe,ge,D.width,D.height):Je(D)?p.renderbufferStorageMultisampleEXT(36161,Qe,ge,D.width,D.height):n.renderbufferStorage(36161,ge,D.width,D.height)}}n.bindRenderbuffer(36161,null)}function de(z,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),Y(D.depthTexture,0);const Me=i.get(D.depthTexture).__webglTexture,Ee=qe(D);if(D.depthTexture.format===jo)Je(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Me,0,Ee):n.framebufferTexture2D(36160,36096,3553,Me,0);else if(D.depthTexture.format===hl)Je(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Me,0,Ee):n.framebufferTexture2D(36160,33306,3553,Me,0);else throw new Error("Unknown depthTexture format")}function le(z){const D=i.get(z),ae=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!D.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");de(D.__webglFramebuffer,z)}else if(ae){D.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)t.bindFramebuffer(36160,D.__webglFramebuffer[Me]),D.__webglDepthbuffer[Me]=n.createRenderbuffer(),Re(D.__webglDepthbuffer[Me],z,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Re(D.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function Ce(z,D,ae){const Me=i.get(z);D!==void 0&&we(Me.__webglFramebuffer,z,z.texture,36064,3553),ae!==void 0&&le(z)}function ze(z){const D=z.texture,ae=i.get(z),Me=i.get(D);z.addEventListener("dispose",ee),z.isWebGLMultipleRenderTargets!==!0&&(Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture()),Me.__version=D.version,o.memory.textures++);const Ee=z.isWebGLCubeRenderTarget===!0,Te=z.isWebGLMultipleRenderTargets===!0,it=S(z)||a;if(Ee){ae.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)ae.__webglFramebuffer[Ne]=n.createFramebuffer()}else{if(ae.__webglFramebuffer=n.createFramebuffer(),Te)if(r.drawBuffers){const Ne=z.texture;for(let ge=0,Qe=Ne.length;ge<Qe;ge++){const rt=i.get(Ne[ge]);rt.__webglTexture===void 0&&(rt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&Je(z)===!1){const Ne=Te?D:[D];ae.__webglMultisampledFramebuffer=n.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let ge=0;ge<Ne.length;ge++){const Qe=Ne[ge];ae.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[ge]);const rt=s.convert(Qe.format,Qe.encoding),je=s.convert(Qe.type),et=b(Qe.internalFormat,rt,je,Qe.encoding,z.isXRRenderTarget===!0),Xe=qe(z);n.renderbufferStorageMultisample(36161,Xe,et,z.width,z.height),n.framebufferRenderbuffer(36160,36064+ge,36161,ae.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),z.depthBuffer&&(ae.__webglDepthRenderbuffer=n.createRenderbuffer(),Re(ae.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}}if(Ee){t.bindTexture(34067,Me.__webglTexture),$(34067,D,it);for(let Ne=0;Ne<6;Ne++)we(ae.__webglFramebuffer[Ne],z,D,36064,34069+Ne);P(D,it)&&L(34067),t.unbindTexture()}else if(Te){const Ne=z.texture;for(let ge=0,Qe=Ne.length;ge<Qe;ge++){const rt=Ne[ge],je=i.get(rt);t.bindTexture(3553,je.__webglTexture),$(3553,rt,it),we(ae.__webglFramebuffer,z,rt,36064+ge,3553),P(rt,it)&&L(3553)}t.unbindTexture()}else{let Ne=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?Ne=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ne,Me.__webglTexture),$(Ne,D,it),we(ae.__webglFramebuffer,z,D,36064,Ne),P(D,it)&&L(Ne),t.unbindTexture()}z.depthBuffer&&le(z)}function Pe(z){const D=S(z)||a,ae=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Me=0,Ee=ae.length;Me<Ee;Me++){const Te=ae[Me];if(P(Te,D)){const it=z.isWebGLCubeRenderTarget?34067:3553,Ne=i.get(Te).__webglTexture;t.bindTexture(it,Ne),L(it),t.unbindTexture()}}}function $e(z){if(a&&z.samples>0&&Je(z)===!1){const D=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],ae=z.width,Me=z.height;let Ee=16384;const Te=[],it=z.stencilBuffer?33306:36096,Ne=i.get(z),ge=z.isWebGLMultipleRenderTargets===!0;if(ge)for(let Qe=0;Qe<D.length;Qe++)t.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Qe,36161,null),t.bindFramebuffer(36160,Ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Qe,3553,null,0);t.bindFramebuffer(36008,Ne.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ne.__webglFramebuffer);for(let Qe=0;Qe<D.length;Qe++){Te.push(36064+Qe),z.depthBuffer&&Te.push(it);const rt=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(rt===!1&&(z.depthBuffer&&(Ee|=256),z.stencilBuffer&&(Ee|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,Ne.__webglColorRenderbuffer[Qe]),rt===!0&&(n.invalidateFramebuffer(36008,[it]),n.invalidateFramebuffer(36009,[it])),ge){const je=i.get(D[Qe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,je,0)}n.blitFramebuffer(0,0,ae,Me,0,0,ae,Me,Ee,9728),m&&n.invalidateFramebuffer(36008,Te)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let Qe=0;Qe<D.length;Qe++){t.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Qe,36161,Ne.__webglColorRenderbuffer[Qe]);const rt=i.get(D[Qe]).__webglTexture;t.bindFramebuffer(36160,Ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Qe,3553,rt,0)}t.bindFramebuffer(36009,Ne.__webglMultisampledFramebuffer)}}function qe(z){return Math.min(h,z.samples)}function Je(z){const D=i.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function _t(z){const D=o.render.frame;y.get(z)!==D&&(y.set(z,D),z.update())}function wt(z,D){const ae=z.encoding,Me=z.format,Ee=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===sg||ae!==no&&(ae===Vt?a===!1?e.has("EXT_sRGB")===!0&&Me===bi?(z.format=sg,z.minFilter=sn,z.generateMipmaps=!1):D=p_.sRGBToLinear(D):(Me!==bi||Ee!==to)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),D}this.allocateTextureUnit=k,this.resetTextureUnits=ce,this.setTexture2D=Y,this.setTexture2DArray=oe,this.setTexture3D=X,this.setTextureCube=re,this.rebindTextures=Ce,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=we,this.useMultisampledRTT=Je}function p3(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===to)return 5121;if(s===OB)return 32819;if(s===UB)return 32820;if(s===NB)return 5120;if(s===FB)return 5122;if(s===c_)return 5123;if(s===kB)return 5124;if(s===Do)return 5125;if(s===Vs)return 5126;if(s===Jc)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===zB)return 6406;if(s===bi)return 6408;if(s===GB)return 6409;if(s===HB)return 6410;if(s===jo)return 6402;if(s===hl)return 34041;if(s===sg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===VB)return 6403;if(s===WB)return 36244;if(s===jB)return 33319;if(s===JB)return 33320;if(s===XB)return 36249;if(s===Am||s===_m||s===wm||s===Mm)if(o===Vt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Am)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===_m)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Mm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Am)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===_m)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Mm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===eA||s===tA||s===nA||s===iA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===eA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===tA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===nA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===iA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===KB)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===rA||s===sA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===rA)return o===Vt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===sA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===oA||s===aA||s===lA||s===cA||s===uA||s===fA||s===dA||s===hA||s===pA||s===mA||s===gA||s===vA||s===yA||s===xA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===oA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===aA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===lA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===cA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===uA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===fA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===dA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===hA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===pA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===mA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===gA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===vA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===yA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===xA)return o===Vt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Sm)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Sm)return o===Vt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===YB||s===AA||s===_A||s===wA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Sm)return a.COMPRESSED_RED_RGTC1_EXT;if(s===AA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===_A)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===wA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===nl?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class m3 extends Kt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class js extends Pt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cH={type:"move"};class hy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new js,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new js,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new js,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,i),A=this._getHandJoint(u,v);x!==null&&(A.matrix.fromArray(x.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.jointRadius=x.radius),A.visible=x!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(cH)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new js;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class g3 extends en{constructor(e,t,i,r,s,o,a,l,u,d){if(d=d!==void 0?d:jo,d!==jo&&d!==hl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===jo&&(i=Do),i===void 0&&d===hl&&(i=nl),super(null,r,s,o,a,l,d,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:mn,this.minFilter=l!==void 0?l:mn,this.flipY=!1,this.generateMipmaps=!1}}class uH extends ms{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,d=null,h=null,p=null,m=null,y=null;const v=t.getContextAttributes();let x=null,A=null;const _=[],M=[],S=new Set,E=new Map,P=new Kt;P.layers.enable(1),P.viewport=new zt;const L=new Kt;L.layers.enable(2),L.viewport=new zt;const b=[P,L],R=new m3;R.layers.enable(1),R.layers.enable(2);let I=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let re=_[X];return re===void 0&&(re=new hy,_[X]=re),re.getTargetRaySpace()},this.getControllerGrip=function(X){let re=_[X];return re===void 0&&(re=new hy,_[X]=re),re.getGripSpace()},this.getHand=function(X){let re=_[X];return re===void 0&&(re=new hy,_[X]=re),re.getHandSpace()};function ee(X){const re=M.indexOf(X.inputSource);if(re===-1)return;const ye=_[re];ye!==void 0&&ye.dispatchEvent({type:X.type,data:X.inputSource})}function W(){r.removeEventListener("select",ee),r.removeEventListener("selectstart",ee),r.removeEventListener("selectend",ee),r.removeEventListener("squeeze",ee),r.removeEventListener("squeezestart",ee),r.removeEventListener("squeezeend",ee),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",V);for(let X=0;X<_.length;X++){const re=M[X];re!==null&&(M[X]=null,_[X].disconnect(re))}I=null,G=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,A=null,oe.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(X){u=X},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(X){if(r=X,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",ee),r.addEventListener("selectstart",ee),r.addEventListener("selectend",ee),r.addEventListener("squeeze",ee),r.addEventListener("squeezestart",ee),r.addEventListener("squeezeend",ee),r.addEventListener("end",W),r.addEventListener("inputsourceschange",V),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const re={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,re),r.updateRenderState({baseLayer:m}),A=new Jr(m.framebufferWidth,m.framebufferHeight,{format:bi,type:to,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let re=null,ye=null,_e=null;v.depth&&(_e=v.stencil?35056:33190,re=v.stencil?hl:jo,ye=v.stencil?nl:Do);const $={colorFormat:32856,depthFormat:_e,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer($),r.updateRenderState({layers:[p]}),A=new Jr(p.textureWidth,p.textureHeight,{format:bi,type:to,depthTexture:new g3(p.textureWidth,p.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const ke=e.properties.get(A);ke.__ignoreDepthValues=p.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),oe.setContext(r),oe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function V(X){for(let re=0;re<X.removed.length;re++){const ye=X.removed[re],_e=M.indexOf(ye);_e>=0&&(M[_e]=null,_[_e].disconnect(ye))}for(let re=0;re<X.added.length;re++){const ye=X.added[re];let _e=M.indexOf(ye);if(_e===-1){for(let ke=0;ke<_.length;ke++)if(ke>=M.length){M.push(ye),_e=ke;break}else if(M[ke]===null){M[ke]=ye,_e=ke;break}if(_e===-1)break}const $=_[_e];$&&$.connect(ye)}}const q=new N,ie=new N;function ce(X,re,ye){q.setFromMatrixPosition(re.matrixWorld),ie.setFromMatrixPosition(ye.matrixWorld);const _e=q.distanceTo(ie),$=re.projectionMatrix.elements,ke=ye.projectionMatrix.elements,Oe=$[14]/($[10]-1),Ve=$[14]/($[10]+1),we=($[9]+1)/$[5],Re=($[9]-1)/$[5],de=($[8]-1)/$[0],le=(ke[8]+1)/ke[0],Ce=Oe*de,ze=Oe*le,Pe=_e/(-de+le),$e=Pe*-de;re.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX($e),X.translateZ(Pe),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const qe=Oe+Pe,Je=Ve+Pe,_t=Ce-$e,wt=ze+(_e-$e),z=we*Ve/Je*qe,D=Re*Ve/Je*qe;X.projectionMatrix.makePerspective(_t,wt,z,D,qe,Je)}function k(X,re){re===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(re.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(r===null)return;R.near=L.near=P.near=X.near,R.far=L.far=P.far=X.far,(I!==R.near||G!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,G=R.far);const re=X.parent,ye=R.cameras;k(R,re);for(let $=0;$<ye.length;$++)k(ye[$],re);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),X.matrix.copy(R.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale);const _e=X.children;for(let $=0,ke=_e.length;$<ke;$++)_e[$].updateMatrixWorld(!0);ye.length===2?ce(R,P,L):R.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(X){l=X,p!==null&&(p.fixedFoveation=X),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=X)},this.getPlanes=function(){return S};let j=null;function Y(X,re){if(d=re.getViewerPose(u||o),y=re,d!==null){const ye=d.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let _e=!1;ye.length!==R.cameras.length&&(R.cameras.length=0,_e=!0);for(let $=0;$<ye.length;$++){const ke=ye[$];let Oe=null;if(m!==null)Oe=m.getViewport(ke);else{const we=h.getViewSubImage(p,ke);Oe=we.viewport,$===0&&(e.setRenderTargetTextures(A,we.colorTexture,p.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(A))}let Ve=b[$];Ve===void 0&&(Ve=new Kt,Ve.layers.enable($),Ve.viewport=new zt,b[$]=Ve),Ve.matrix.fromArray(ke.transform.matrix),Ve.projectionMatrix.fromArray(ke.projectionMatrix),Ve.viewport.set(Oe.x,Oe.y,Oe.width,Oe.height),$===0&&R.matrix.copy(Ve.matrix),_e===!0&&R.cameras.push(Ve)}}for(let ye=0;ye<_.length;ye++){const _e=M[ye],$=_[ye];_e!==null&&$!==void 0&&$.update(_e,re,u||o)}if(j&&j(X,re),re.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:re.detectedPlanes});let ye=null;for(const _e of S)re.detectedPlanes.has(_e)||(ye===null&&(ye=[]),ye.push(_e));if(ye!==null)for(const _e of ye)S.delete(_e),E.delete(_e),i.dispatchEvent({type:"planeremoved",data:_e});for(const _e of re.detectedPlanes)if(!S.has(_e))S.add(_e),E.set(_e,re.lastChangedTime),i.dispatchEvent({type:"planeadded",data:_e});else{const $=E.get(_e);_e.lastChangedTime>$&&(E.set(_e,_e.lastChangedTime),i.dispatchEvent({type:"planechanged",data:_e}))}}y=null}const oe=new c3;oe.setAnimationLoop(Y),this.setAnimationLoop=function(X){j=X},this.dispose=function(){}}}function fH(n,e){function t(v,x){x.color.getRGB(v.fogColor.value,a3(n)),x.isFog?(v.fogNear.value=x.near,v.fogFar.value=x.far):x.isFogExp2&&(v.fogDensity.value=x.density)}function i(v,x,A,_,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(v,x):x.isMeshToonMaterial?(r(v,x),d(v,x)):x.isMeshPhongMaterial?(r(v,x),u(v,x)):x.isMeshStandardMaterial?(r(v,x),h(v,x),x.isMeshPhysicalMaterial&&p(v,x,M)):x.isMeshMatcapMaterial?(r(v,x),m(v,x)):x.isMeshDepthMaterial?r(v,x):x.isMeshDistanceMaterial?(r(v,x),y(v,x)):x.isMeshNormalMaterial?r(v,x):x.isLineBasicMaterial?(s(v,x),x.isLineDashedMaterial&&o(v,x)):x.isPointsMaterial?a(v,x,A,_):x.isSpriteMaterial?l(v,x):x.isShadowMaterial?(v.color.value.copy(x.color),v.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(v,x){v.opacity.value=x.opacity,x.color&&v.diffuse.value.copy(x.color),x.emissive&&v.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.bumpMap&&(v.bumpMap.value=x.bumpMap,v.bumpScale.value=x.bumpScale,x.side===Li&&(v.bumpScale.value*=-1)),x.displacementMap&&(v.displacementMap.value=x.displacementMap,v.displacementScale.value=x.displacementScale,v.displacementBias.value=x.displacementBias),x.emissiveMap&&(v.emissiveMap.value=x.emissiveMap),x.normalMap&&(v.normalMap.value=x.normalMap,v.normalScale.value.copy(x.normalScale),x.side===Li&&v.normalScale.value.negate()),x.specularMap&&(v.specularMap.value=x.specularMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);const A=e.get(x).envMap;if(A&&(v.envMap.value=A,v.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=x.reflectivity,v.ior.value=x.ior,v.refractionRatio.value=x.refractionRatio),x.lightMap){v.lightMap.value=x.lightMap;const S=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=x.lightMapIntensity*S}x.aoMap&&(v.aoMap.value=x.aoMap,v.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let M;x.aoMap?M=x.aoMap:x.lightMap&&(M=x.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uv2Transform.value.copy(M.matrix))}function s(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity}function o(v,x){v.dashSize.value=x.dashSize,v.totalSize.value=x.dashSize+x.gapSize,v.scale.value=x.scale}function a(v,x,A,_){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.size.value=x.size*A,v.scale.value=_*.5,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let M;x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uvTransform.value.copy(M.matrix))}function l(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.rotation.value=x.rotation,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let A;x.map?A=x.map:x.alphaMap&&(A=x.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),v.uvTransform.value.copy(A.matrix))}function u(v,x){v.specular.value.copy(x.specular),v.shininess.value=Math.max(x.shininess,1e-4)}function d(v,x){x.gradientMap&&(v.gradientMap.value=x.gradientMap)}function h(v,x){v.roughness.value=x.roughness,v.metalness.value=x.metalness,x.roughnessMap&&(v.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(v.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(v.envMapIntensity.value=x.envMapIntensity)}function p(v,x,A){v.ior.value=x.ior,x.sheen>0&&(v.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),v.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(v.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(v.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(v.clearcoat.value=x.clearcoat,v.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(v.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),v.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Li&&v.clearcoatNormalScale.value.negate())),x.iridescence>0&&(v.iridescence.value=x.iridescence,v.iridescenceIOR.value=x.iridescenceIOR,v.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(v.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(v.transmission.value=x.transmission,v.transmissionSamplerMap.value=A.texture,v.transmissionSamplerSize.value.set(A.width,A.height),x.transmissionMap&&(v.transmissionMap.value=x.transmissionMap),v.thickness.value=x.thickness,x.thicknessMap&&(v.thicknessMap.value=x.thicknessMap),v.attenuationDistance.value=x.attenuationDistance,v.attenuationColor.value.copy(x.attenuationColor)),v.specularIntensity.value=x.specularIntensity,v.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(v.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(v.specularColorMap.value=x.specularColorMap)}function m(v,x){x.matcap&&(v.matcap.value=x.matcap)}function y(v,x){v.referencePosition.value.copy(x.referencePosition),v.nearDistance.value=x.nearDistance,v.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function dH(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,M){const S=M.program;i.uniformBlockBinding(_,S)}function u(_,M){let S=r[_.id];S===void 0&&(y(_),S=d(_),r[_.id]=S,_.addEventListener("dispose",x));const E=M.program;i.updateUBOMapping(_,E);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function d(_){const M=h();_.__bindingPointIndex=M;const S=n.createBuffer(),E=_.__size,P=_.usage;return n.bindBuffer(35345,S),n.bufferData(35345,E,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,M,S),S}function h(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const M=r[_.id],S=_.uniforms,E=_.__cache;n.bindBuffer(35345,M);for(let P=0,L=S.length;P<L;P++){const b=S[P];if(m(b,P,E)===!0){const R=b.__offset,I=Array.isArray(b.value)?b.value:[b.value];let G=0;for(let ee=0;ee<I.length;ee++){const W=I[ee],V=v(W);typeof W=="number"?(b.__data[0]=W,n.bufferSubData(35345,R+G,b.__data)):W.isMatrix3?(b.__data[0]=W.elements[0],b.__data[1]=W.elements[1],b.__data[2]=W.elements[2],b.__data[3]=W.elements[0],b.__data[4]=W.elements[3],b.__data[5]=W.elements[4],b.__data[6]=W.elements[5],b.__data[7]=W.elements[0],b.__data[8]=W.elements[6],b.__data[9]=W.elements[7],b.__data[10]=W.elements[8],b.__data[11]=W.elements[0]):(W.toArray(b.__data,G),G+=V.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,b.__data)}}n.bindBuffer(35345,null)}function m(_,M,S){const E=_.value;if(S[M]===void 0){if(typeof E=="number")S[M]=E;else{const P=Array.isArray(E)?E:[E],L=[];for(let b=0;b<P.length;b++)L.push(P[b].clone());S[M]=L}return!0}else if(typeof E=="number"){if(S[M]!==E)return S[M]=E,!0}else{const P=Array.isArray(S[M])?S[M]:[S[M]],L=Array.isArray(E)?E:[E];for(let b=0;b<P.length;b++){const R=P[b];if(R.equals(L[b])===!1)return R.copy(L[b]),!0}}return!1}function y(_){const M=_.uniforms;let S=0;const E=16;let P=0;for(let L=0,b=M.length;L<b;L++){const R=M[L],I={boundary:0,storage:0},G=Array.isArray(R.value)?R.value:[R.value];for(let ee=0,W=G.length;ee<W;ee++){const V=G[ee],q=v(V);I.boundary+=q.boundary,I.storage+=q.storage}if(R.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=S,L>0){P=S%E;const ee=E-P;P!==0&&ee-I.boundary<0&&(S+=E-P,R.__offset=S)}S+=I.storage}return P=S%E,P>0&&(S+=E-P),_.__size=S,_.__cache={},this}function v(_){const M={boundary:0,storage:0};return typeof _=="number"?(M.boundary=4,M.storage=4):_.isVector2?(M.boundary=8,M.storage=8):_.isVector3||_.isColor?(M.boundary=16,M.storage=12):_.isVector4?(M.boundary=16,M.storage=16):_.isMatrix3?(M.boundary=48,M.storage=48):_.isMatrix4?(M.boundary=64,M.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),M}function x(_){const M=_.target;M.removeEventListener("dispose",x);const S=o.indexOf(M.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function A(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:u,dispose:A}}function hH(){const n=ud("canvas");return n.style.display="block",n}function M_(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:hH(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=no,this.physicallyCorrectLights=!1,this.toneMapping=Wr,this.toneMappingExposure=1;const v=this;let x=!1,A=0,_=0,M=null,S=-1,E=null;const P=new zt,L=new zt;let b=null,R=e.width,I=e.height,G=1,ee=null,W=null;const V=new zt(0,0,R,I),q=new zt(0,0,R,I);let ie=!1;const ce=new Vg;let k=!1,j=!1,Y=null;const oe=new ot,X=new pe,re=new N,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return M===null?G:1}let $=t;function ke(F,te){for(let he=0;he<F.length;he++){const Z=F[he],me=e.getContext(Z,te);if(me!==null)return me}return null}try{const F={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${lu}`),e.addEventListener("webglcontextlost",et,!1),e.addEventListener("webglcontextrestored",Xe,!1),e.addEventListener("webglcontextcreationerror",J,!1),$===null){const te=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&te.shift(),$=ke(te,F),$===null)throw ke(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let Oe,Ve,we,Re,de,le,Ce,ze,Pe,$e,qe,Je,_t,wt,z,D,ae,Me,Ee,Te,it,Ne,ge,Qe;function rt(){Oe=new Pz($),Ve=new Mz($,Oe,n),Oe.init(Ve),Ne=new p3($,Oe,Ve),we=new aH($,Oe,Ve),Re=new Lz,de=new YG,le=new lH($,Oe,we,de,Ve,Ne,Re),Ce=new Cz(v),ze=new Tz(v),Pe=new GO($,Ve),ge=new _z($,Oe,Pe,Ve),$e=new Bz($,Pe,Re,ge),qe=new Fz($,$e,Pe,Re),Ee=new Nz($,Ve,le),D=new Sz(de),Je=new KG(v,Ce,ze,Oe,Ve,ge,D),_t=new fH(v,de),wt=new QG,z=new iH(Oe,Ve),Me=new Az(v,Ce,ze,we,qe,d,o),ae=new oH(v,qe,Ve),Qe=new dH($,Re,Ve,we),Te=new wz($,Oe,Re,Ve),it=new Rz($,Oe,Re,Ve),Re.programs=Je.programs,v.capabilities=Ve,v.extensions=Oe,v.properties=de,v.renderLists=wt,v.shadowMap=ae,v.state=we,v.info=Re}rt();const je=new uH(v,$);this.xr=je,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const F=Oe.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=Oe.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(F){F!==void 0&&(G=F,this.setSize(R,I,!1))},this.getSize=function(F){return F.set(R,I)},this.setSize=function(F,te,he){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=F,I=te,e.width=Math.floor(F*G),e.height=Math.floor(te*G),he!==!1&&(e.style.width=F+"px",e.style.height=te+"px"),this.setViewport(0,0,F,te)},this.getDrawingBufferSize=function(F){return F.set(R*G,I*G).floor()},this.setDrawingBufferSize=function(F,te,he){R=F,I=te,G=he,e.width=Math.floor(F*he),e.height=Math.floor(te*he),this.setViewport(0,0,F,te)},this.getCurrentViewport=function(F){return F.copy(P)},this.getViewport=function(F){return F.copy(V)},this.setViewport=function(F,te,he,Z){F.isVector4?V.set(F.x,F.y,F.z,F.w):V.set(F,te,he,Z),we.viewport(P.copy(V).multiplyScalar(G).floor())},this.getScissor=function(F){return F.copy(q)},this.setScissor=function(F,te,he,Z){F.isVector4?q.set(F.x,F.y,F.z,F.w):q.set(F,te,he,Z),we.scissor(L.copy(q).multiplyScalar(G).floor())},this.getScissorTest=function(){return ie},this.setScissorTest=function(F){we.setScissorTest(ie=F)},this.setOpaqueSort=function(F){ee=F},this.setTransparentSort=function(F){W=F},this.getClearColor=function(F){return F.copy(Me.getClearColor())},this.setClearColor=function(){Me.setClearColor.apply(Me,arguments)},this.getClearAlpha=function(){return Me.getClearAlpha()},this.setClearAlpha=function(){Me.setClearAlpha.apply(Me,arguments)},this.clear=function(F=!0,te=!0,he=!0){let Z=0;F&&(Z|=16384),te&&(Z|=256),he&&(Z|=1024),$.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",et,!1),e.removeEventListener("webglcontextrestored",Xe,!1),e.removeEventListener("webglcontextcreationerror",J,!1),wt.dispose(),z.dispose(),de.dispose(),Ce.dispose(),ze.dispose(),qe.dispose(),ge.dispose(),Qe.dispose(),Je.dispose(),je.dispose(),je.removeEventListener("sessionstart",Le),je.removeEventListener("sessionend",Ke),Y&&(Y.dispose(),Y=null),Mt.stop()};function et(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const F=Re.autoReset,te=ae.enabled,he=ae.autoUpdate,Z=ae.needsUpdate,me=ae.type;rt(),Re.autoReset=F,ae.enabled=te,ae.autoUpdate=he,ae.needsUpdate=Z,ae.type=me}function J(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function ve(F){const te=F.target;te.removeEventListener("dispose",ve),Ue(te)}function Ue(F){H(F),de.remove(F)}function H(F){const te=de.get(F).programs;te!==void 0&&(te.forEach(function(he){Je.releaseProgram(he)}),F.isShaderMaterial&&Je.releaseShaderCache(F))}this.renderBufferDirect=function(F,te,he,Z,me,tt){te===null&&(te=ye);const lt=me.isMesh&&me.matrixWorld.determinant()<0,ht=f0(F,te,he,Z,me);we.setMaterial(Z,lt);let vt=he.index,bt=1;Z.wireframe===!0&&(vt=$e.getWireframeAttribute(he),bt=2);const St=he.drawRange,Ct=he.attributes.position;let un=St.start*bt,ci=(St.start+St.count)*bt;tt!==null&&(un=Math.max(un,tt.start*bt),ci=Math.min(ci,(tt.start+tt.count)*bt)),vt!==null?(un=Math.max(un,0),ci=Math.min(ci,vt.count)):Ct!=null&&(un=Math.max(un,0),ci=Math.min(ci,Ct.count));const Er=ci-un;if(Er<0||Er===1/0)return;ge.setup(me,Z,ht,he,vt);let ys,qt=Te;if(vt!==null&&(ys=Pe.get(vt),qt=it,qt.setIndex(ys)),me.isMesh)Z.wireframe===!0?(we.setLineWidth(Z.wireframeLinewidth*_e()),qt.setMode(1)):qt.setMode(4);else if(me.isLine){let pt=Z.linewidth;pt===void 0&&(pt=1),we.setLineWidth(pt*_e()),me.isLineSegments?qt.setMode(1):me.isLineLoop?qt.setMode(2):qt.setMode(3)}else me.isPoints?qt.setMode(0):me.isSprite&&qt.setMode(4);if(me.isInstancedMesh)qt.renderInstances(un,Er,me.count);else if(he.isInstancedBufferGeometry){const pt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,da=Math.min(he.instanceCount,pt);qt.renderInstances(un,Er,da)}else qt.render(un,Er)},this.compile=function(F,te){function he(Z,me,tt){Z.transparent===!0&&Z.side===Gr&&Z.forceSinglePass===!1?(Z.side=Li,Z.needsUpdate=!0,bn(Z,me,tt),Z.side=ds,Z.needsUpdate=!0,bn(Z,me,tt),Z.side=Gr):bn(Z,me,tt)}p=z.get(F),p.init(),y.push(p),F.traverseVisible(function(Z){Z.isLight&&Z.layers.test(te.layers)&&(p.pushLight(Z),Z.castShadow&&p.pushShadow(Z))}),p.setupLights(v.physicallyCorrectLights),F.traverse(function(Z){const me=Z.material;if(me)if(Array.isArray(me))for(let tt=0;tt<me.length;tt++){const lt=me[tt];he(lt,F,Z)}else he(me,F,Z)}),y.pop(),p=null};let se=null;function xe(F){se&&se(F)}function Le(){Mt.stop()}function Ke(){Mt.start()}const Mt=new c3;Mt.setAnimationLoop(xe),typeof self<"u"&&Mt.setContext(self),this.setAnimationLoop=function(F){se=F,je.setAnimationLoop(F),F===null?Mt.stop():Mt.start()},je.addEventListener("sessionstart",Le),je.addEventListener("sessionend",Ke),this.render=function(F,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(te),te=je.getCamera()),F.isScene===!0&&F.onBeforeRender(v,F,te,M),p=z.get(F,y.length),p.init(),y.push(p),oe.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),ce.setFromProjectionMatrix(oe),j=this.localClippingEnabled,k=D.init(this.clippingPlanes,j),h=wt.get(F,m.length),h.init(),m.push(h),Ot(F,te,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(ee,W),k===!0&&D.beginShadows();const he=p.state.shadowsArray;if(ae.render(he,F,te),k===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),Me.render(h,F),p.setupLights(v.physicallyCorrectLights),te.isArrayCamera){const Z=te.cameras;for(let me=0,tt=Z.length;me<tt;me++){const lt=Z[me];Ht(h,F,lt,lt.viewport)}}else Ht(h,F,te);M!==null&&(le.updateMultisampleRenderTarget(M),le.updateRenderTargetMipmap(M)),F.isScene===!0&&F.onAfterRender(v,F,te),ge.resetDefaultState(),S=-1,E=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Ot(F,te,he,Z){if(F.visible===!1)return;if(F.layers.test(te.layers)){if(F.isGroup)he=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(te);else if(F.isLight)p.pushLight(F),F.castShadow&&p.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||ce.intersectsSprite(F)){Z&&re.setFromMatrixPosition(F.matrixWorld).applyMatrix4(oe);const lt=qe.update(F),ht=F.material;ht.visible&&h.push(F,lt,ht,he,re.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==Re.render.frame&&(F.skeleton.update(),F.skeleton.frame=Re.render.frame),!F.frustumCulled||ce.intersectsObject(F))){Z&&re.setFromMatrixPosition(F.matrixWorld).applyMatrix4(oe);const lt=qe.update(F),ht=F.material;if(Array.isArray(ht)){const vt=lt.groups;for(let bt=0,St=vt.length;bt<St;bt++){const Ct=vt[bt],un=ht[Ct.materialIndex];un&&un.visible&&h.push(F,lt,un,he,re.z,Ct)}}else ht.visible&&h.push(F,lt,ht,he,re.z,null)}}const tt=F.children;for(let lt=0,ht=tt.length;lt<ht;lt++)Ot(tt[lt],te,he,Z)}function Ht(F,te,he,Z){const me=F.opaque,tt=F.transmissive,lt=F.transparent;p.setupLightsView(he),k===!0&&D.setGlobalState(v.clippingPlanes,he),tt.length>0&&qn(me,te,he),Z&&we.viewport(P.copy(Z)),me.length>0&&Lt(me,te,he),tt.length>0&&Lt(tt,te,he),lt.length>0&&Lt(lt,te,he),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function qn(F,te,he){const Z=Ve.isWebGL2;Y===null&&(Y=new Jr(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")?Jc:to,minFilter:hs,samples:Z&&s===!0?4:0})),v.getDrawingBufferSize(X),Z?Y.setSize(X.x,X.y):Y.setSize(og(X.x),og(X.y));const me=v.getRenderTarget();v.setRenderTarget(Y),v.clear();const tt=v.toneMapping;v.toneMapping=Wr,Lt(F,te,he),v.toneMapping=tt,le.updateMultisampleRenderTarget(Y),le.updateRenderTargetMipmap(Y),v.setRenderTarget(me)}function Lt(F,te,he){const Z=te.isScene===!0?te.overrideMaterial:null;for(let me=0,tt=F.length;me<tt;me++){const lt=F[me],ht=lt.object,vt=lt.geometry,bt=Z===null?lt.material:Z,St=lt.group;ht.layers.test(he.layers)&&Fn(ht,te,he,vt,bt,St)}}function Fn(F,te,he,Z,me,tt){F.onBeforeRender(v,te,he,Z,me,tt),F.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),me.onBeforeRender(v,te,he,Z,F,tt),me.transparent===!0&&me.side===Gr&&me.forceSinglePass===!1?(me.side=Li,me.needsUpdate=!0,v.renderBufferDirect(he,te,Z,me,F,tt),me.side=ds,me.needsUpdate=!0,v.renderBufferDirect(he,te,Z,me,F,tt),me.side=Gr):v.renderBufferDirect(he,te,Z,me,F,tt),F.onAfterRender(v,te,he,Z,me,tt)}function bn(F,te,he){te.isScene!==!0&&(te=ye);const Z=de.get(F),me=p.state.lights,tt=p.state.shadowsArray,lt=me.state.version,ht=Je.getParameters(F,me.state,tt,te,he),vt=Je.getProgramCacheKey(ht);let bt=Z.programs;Z.environment=F.isMeshStandardMaterial?te.environment:null,Z.fog=te.fog,Z.envMap=(F.isMeshStandardMaterial?ze:Ce).get(F.envMap||Z.environment),bt===void 0&&(F.addEventListener("dispose",ve),bt=new Map,Z.programs=bt);let St=bt.get(vt);if(St!==void 0){if(Z.currentProgram===St&&Z.lightsStateVersion===lt)return eh(F,ht),St}else ht.uniforms=Je.getUniforms(F),F.onBuild(he,ht,v),F.onBeforeCompile(ht,v),St=Je.acquireProgram(ht,vt),bt.set(vt,St),Z.uniforms=ht.uniforms;const Ct=Z.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Ct.clippingPlanes=D.uniform),eh(F,ht),Z.needsLights=xu(F),Z.lightsStateVersion=lt,Z.needsLights&&(Ct.ambientLightColor.value=me.state.ambient,Ct.lightProbe.value=me.state.probe,Ct.directionalLights.value=me.state.directional,Ct.directionalLightShadows.value=me.state.directionalShadow,Ct.spotLights.value=me.state.spot,Ct.spotLightShadows.value=me.state.spotShadow,Ct.rectAreaLights.value=me.state.rectArea,Ct.ltc_1.value=me.state.rectAreaLTC1,Ct.ltc_2.value=me.state.rectAreaLTC2,Ct.pointLights.value=me.state.point,Ct.pointLightShadows.value=me.state.pointShadow,Ct.hemisphereLights.value=me.state.hemi,Ct.directionalShadowMap.value=me.state.directionalShadowMap,Ct.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Ct.spotShadowMap.value=me.state.spotShadowMap,Ct.spotLightMatrix.value=me.state.spotLightMatrix,Ct.spotLightMap.value=me.state.spotLightMap,Ct.pointShadowMap.value=me.state.pointShadowMap,Ct.pointShadowMatrix.value=me.state.pointShadowMatrix);const un=St.getUniforms(),ci=Tm.seqWithValue(un.seq,Ct);return Z.currentProgram=St,Z.uniformsList=ci,St}function eh(F,te){const he=de.get(F);he.outputEncoding=te.outputEncoding,he.instancing=te.instancing,he.skinning=te.skinning,he.morphTargets=te.morphTargets,he.morphNormals=te.morphNormals,he.morphColors=te.morphColors,he.morphTargetsCount=te.morphTargetsCount,he.numClippingPlanes=te.numClippingPlanes,he.numIntersection=te.numClipIntersection,he.vertexAlphas=te.vertexAlphas,he.vertexTangents=te.vertexTangents,he.toneMapping=te.toneMapping}function f0(F,te,he,Z,me){te.isScene!==!0&&(te=ye),le.resetTextureUnits();const tt=te.fog,lt=Z.isMeshStandardMaterial?te.environment:null,ht=M===null?v.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:no,vt=(Z.isMeshStandardMaterial?ze:Ce).get(Z.envMap||lt),bt=Z.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,St=!!Z.normalMap&&!!he.attributes.tangent,Ct=!!he.morphAttributes.position,un=!!he.morphAttributes.normal,ci=!!he.morphAttributes.color,Er=Z.toneMapped?v.toneMapping:Wr,ys=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,qt=ys!==void 0?ys.length:0,pt=de.get(Z),da=p.state.lights;if(k===!0&&(j===!0||F!==E)){const Ut=F===E&&Z.id===S;D.setState(Z,F,Ut)}let fn=!1;Z.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==da.state.version||pt.outputEncoding!==ht||me.isInstancedMesh&&pt.instancing===!1||!me.isInstancedMesh&&pt.instancing===!0||me.isSkinnedMesh&&pt.skinning===!1||!me.isSkinnedMesh&&pt.skinning===!0||pt.envMap!==vt||Z.fog===!0&&pt.fog!==tt||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==D.numPlanes||pt.numIntersection!==D.numIntersection)||pt.vertexAlphas!==bt||pt.vertexTangents!==St||pt.morphTargets!==Ct||pt.morphNormals!==un||pt.morphColors!==ci||pt.toneMapping!==Er||Ve.isWebGL2===!0&&pt.morphTargetsCount!==qt)&&(fn=!0):(fn=!0,pt.__version=Z.version);let xs=pt.currentProgram;fn===!0&&(xs=bn(Z,te,me));let El=!1,Zi=!1,$i=!1;const dt=xs.getUniforms(),Bt=pt.uniforms;if(we.useProgram(xs.program)&&(El=!0,Zi=!0,$i=!0),Z.id!==S&&(S=Z.id,Zi=!0),El||E!==F){if(dt.setValue($,"projectionMatrix",F.projectionMatrix),Ve.logarithmicDepthBuffer&&dt.setValue($,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),E!==F&&(E=F,Zi=!0,$i=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshStandardMaterial||Z.envMap){const Ut=dt.map.cameraPosition;Ut!==void 0&&Ut.setValue($,re.setFromMatrixPosition(F.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&dt.setValue($,"isOrthographic",F.isOrthographicCamera===!0),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.isShadowMaterial||me.isSkinnedMesh)&&dt.setValue($,"viewMatrix",F.matrixWorldInverse)}if(me.isSkinnedMesh){dt.setOptional($,me,"bindMatrix"),dt.setOptional($,me,"bindMatrixInverse");const Ut=me.skeleton;Ut&&(Ve.floatVertexTextures?(Ut.boneTexture===null&&Ut.computeBoneTexture(),dt.setValue($,"boneTexture",Ut.boneTexture,le),dt.setValue($,"boneTextureSize",Ut.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const er=he.morphAttributes;if((er.position!==void 0||er.normal!==void 0||er.color!==void 0&&Ve.isWebGL2===!0)&&Ee.update(me,he,Z,xs),(Zi||pt.receiveShadow!==me.receiveShadow)&&(pt.receiveShadow=me.receiveShadow,dt.setValue($,"receiveShadow",me.receiveShadow)),Z.isMeshGouraudMaterial&&Z.envMap!==null&&(Bt.envMap.value=vt,Bt.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),Zi&&(dt.setValue($,"toneMappingExposure",v.toneMappingExposure),pt.needsLights&&th(Bt,$i),tt&&Z.fog===!0&&_t.refreshFogUniforms(Bt,tt),_t.refreshMaterialUniforms(Bt,Z,G,I,Y),Tm.upload($,pt.uniformsList,Bt,le)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(Tm.upload($,pt.uniformsList,Bt,le),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&dt.setValue($,"center",me.center),dt.setValue($,"modelViewMatrix",me.modelViewMatrix),dt.setValue($,"normalMatrix",me.normalMatrix),dt.setValue($,"modelMatrix",me.matrixWorld),Z.isShaderMaterial||Z.isRawShaderMaterial){const Ut=Z.uniformsGroups;for(let kn=0,As=Ut.length;kn<As;kn++)if(Ve.isWebGL2){const _s=Ut[kn];Qe.update(_s,xs),Qe.bind(_s,xs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return xs}function th(F,te){F.ambientLightColor.needsUpdate=te,F.lightProbe.needsUpdate=te,F.directionalLights.needsUpdate=te,F.directionalLightShadows.needsUpdate=te,F.pointLights.needsUpdate=te,F.pointLightShadows.needsUpdate=te,F.spotLights.needsUpdate=te,F.spotLightShadows.needsUpdate=te,F.rectAreaLights.needsUpdate=te,F.hemisphereLights.needsUpdate=te}function xu(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(F,te,he){de.get(F.texture).__webglTexture=te,de.get(F.depthTexture).__webglTexture=he;const Z=de.get(F);Z.__hasExternalTextures=!0,Z.__hasExternalTextures&&(Z.__autoAllocateDepthBuffer=he===void 0,Z.__autoAllocateDepthBuffer||Oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Z.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,te){const he=de.get(F);he.__webglFramebuffer=te,he.__useDefaultFramebuffer=te===void 0},this.setRenderTarget=function(F,te=0,he=0){M=F,A=te,_=he;let Z=!0,me=null,tt=!1,lt=!1;if(F){const vt=de.get(F);vt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),Z=!1):vt.__webglFramebuffer===void 0?le.setupRenderTarget(F):vt.__hasExternalTextures&&le.rebindTextures(F,de.get(F.texture).__webglTexture,de.get(F.depthTexture).__webglTexture);const bt=F.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(lt=!0);const St=de.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(me=St[te],tt=!0):Ve.isWebGL2&&F.samples>0&&le.useMultisampledRTT(F)===!1?me=de.get(F).__webglMultisampledFramebuffer:me=St,P.copy(F.viewport),L.copy(F.scissor),b=F.scissorTest}else P.copy(V).multiplyScalar(G).floor(),L.copy(q).multiplyScalar(G).floor(),b=ie;if(we.bindFramebuffer(36160,me)&&Ve.drawBuffers&&Z&&we.drawBuffers(F,me),we.viewport(P),we.scissor(L),we.setScissorTest(b),tt){const vt=de.get(F.texture);$.framebufferTexture2D(36160,36064,34069+te,vt.__webglTexture,he)}else if(lt){const vt=de.get(F.texture),bt=te||0;$.framebufferTextureLayer(36160,36064,vt.__webglTexture,he||0,bt)}S=-1},this.readRenderTargetPixels=function(F,te,he,Z,me,tt,lt){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=de.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&lt!==void 0&&(ht=ht[lt]),ht){we.bindFramebuffer(36160,ht);try{const vt=F.texture,bt=vt.format,St=vt.type;if(bt!==bi&&Ne.convert(bt)!==$.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=St===Jc&&(Oe.has("EXT_color_buffer_half_float")||Ve.isWebGL2&&Oe.has("EXT_color_buffer_float"));if(St!==to&&Ne.convert(St)!==$.getParameter(35738)&&!(St===Vs&&(Ve.isWebGL2||Oe.has("OES_texture_float")||Oe.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=F.width-Z&&he>=0&&he<=F.height-me&&$.readPixels(te,he,Z,me,Ne.convert(bt),Ne.convert(St),tt)}finally{const vt=M!==null?de.get(M).__webglFramebuffer:null;we.bindFramebuffer(36160,vt)}}},this.copyFramebufferToTexture=function(F,te,he=0){const Z=Math.pow(2,-he),me=Math.floor(te.image.width*Z),tt=Math.floor(te.image.height*Z);le.setTexture2D(te,0),$.copyTexSubImage2D(3553,he,0,0,F.x,F.y,me,tt),we.unbindTexture()},this.copyTextureToTexture=function(F,te,he,Z=0){const me=te.image.width,tt=te.image.height,lt=Ne.convert(he.format),ht=Ne.convert(he.type);le.setTexture2D(he,0),$.pixelStorei(37440,he.flipY),$.pixelStorei(37441,he.premultiplyAlpha),$.pixelStorei(3317,he.unpackAlignment),te.isDataTexture?$.texSubImage2D(3553,Z,F.x,F.y,me,tt,lt,ht,te.image.data):te.isCompressedTexture?$.compressedTexSubImage2D(3553,Z,F.x,F.y,te.mipmaps[0].width,te.mipmaps[0].height,lt,te.mipmaps[0].data):$.texSubImage2D(3553,Z,F.x,F.y,lt,ht,te.image),Z===0&&he.generateMipmaps&&$.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(F,te,he,Z,me=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=F.max.x-F.min.x+1,lt=F.max.y-F.min.y+1,ht=F.max.z-F.min.z+1,vt=Ne.convert(Z.format),bt=Ne.convert(Z.type);let St;if(Z.isData3DTexture)le.setTexture3D(Z,0),St=32879;else if(Z.isDataArrayTexture)le.setTexture2DArray(Z,0),St=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei(37440,Z.flipY),$.pixelStorei(37441,Z.premultiplyAlpha),$.pixelStorei(3317,Z.unpackAlignment);const Ct=$.getParameter(3314),un=$.getParameter(32878),ci=$.getParameter(3316),Er=$.getParameter(3315),ys=$.getParameter(32877),qt=he.isCompressedTexture?he.mipmaps[0]:he.image;$.pixelStorei(3314,qt.width),$.pixelStorei(32878,qt.height),$.pixelStorei(3316,F.min.x),$.pixelStorei(3315,F.min.y),$.pixelStorei(32877,F.min.z),he.isDataTexture||he.isData3DTexture?$.texSubImage3D(St,me,te.x,te.y,te.z,tt,lt,ht,vt,bt,qt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(St,me,te.x,te.y,te.z,tt,lt,ht,vt,qt.data)):$.texSubImage3D(St,me,te.x,te.y,te.z,tt,lt,ht,vt,bt,qt),$.pixelStorei(3314,Ct),$.pixelStorei(32878,un),$.pixelStorei(3316,ci),$.pixelStorei(3315,Er),$.pixelStorei(32877,ys),me===0&&Z.generateMipmaps&&$.generateMipmap(St),we.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?le.setTextureCube(F,0):F.isData3DTexture?le.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?le.setTexture2DArray(F,0):le.setTexture2D(F,0),we.unbindTexture()},this.resetState=function(){A=0,_=0,M=null,we.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class v3 extends M_{}v3.prototype.isWebGL1Renderer=!0;class jg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=t}clone(){return new jg(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Jg{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=t,this.far=i}clone(){return new Jg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class S_ extends Pt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Rd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ld,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ji()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const di=new N;class Zo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)di.fromBufferAttribute(this,t),di.applyMatrix4(e),this.setXYZ(t,di.x,di.y,di.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)di.fromBufferAttribute(this,t),di.applyNormalMatrix(e),this.setXYZ(t,di.x,di.y,di.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)di.fromBufferAttribute(this,t),di.transformDirection(e),this.setXYZ(t,di.x,di.y,di.z);return this}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ws(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ws(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ws(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ws(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class C_ extends En{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ec;const ef=new N,tc=new N,nc=new N,ic=new pe,tf=new pe,y3=new ot,Rp=new N,nf=new N,Lp=new N,aE=new pe,py=new pe,lE=new pe;class x3 extends Pt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ec===void 0){ec=new ft;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Rd(t,5);ec.setIndex([0,1,2,0,2,3]),ec.setAttribute("position",new Zo(i,3,0,!1)),ec.setAttribute("uv",new Zo(i,2,3,!1))}this.geometry=ec,this.material=e!==void 0?e:new C_,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tc.setFromMatrixScale(this.matrixWorld),y3.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),nc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&tc.multiplyScalar(-nc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Ip(Rp.set(-.5,-.5,0),nc,o,tc,r,s),Ip(nf.set(.5,-.5,0),nc,o,tc,r,s),Ip(Lp.set(.5,.5,0),nc,o,tc,r,s),aE.set(0,0),py.set(1,0),lE.set(1,1);let a=e.ray.intersectTriangle(Rp,nf,Lp,!1,ef);if(a===null&&(Ip(nf.set(-.5,.5,0),nc,o,tc,r,s),py.set(0,1),a=e.ray.intersectTriangle(Rp,Lp,nf,!1,ef),a===null))return;const l=e.ray.origin.distanceTo(ef);l<e.near||l>e.far||t.push({distance:l,point:ef.clone(),uv:gr.getUV(ef,Rp,nf,Lp,aE,py,lE,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ip(n,e,t,i,r,s){ic.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(tf.x=s*ic.x-r*ic.y,tf.y=r*ic.x+s*ic.y):tf.copy(ic),n.copy(e),n.x+=tf.x,n.y+=tf.y,n.applyMatrix4(y3)}const Dp=new N,cE=new N;class A3 extends Pt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Dp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Dp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Dp.setFromMatrixPosition(e.matrixWorld),cE.setFromMatrixPosition(this.matrixWorld);const i=Dp.distanceTo(cE)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const uE=new N,fE=new zt,dE=new zt,pH=new N,hE=new ot;class E_ extends Ln{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ot,this.bindMatrixInverse=new ot}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;fE.fromBufferAttribute(r.attributes.skinIndex,e),dE.fromBufferAttribute(r.attributes.skinWeight,e),uE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=dE.getComponent(s);if(o!==0){const a=fE.getComponent(s);hE.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(pH.copy(uE).applyMatrix4(hE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Xg extends Pt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Nc extends en{constructor(e=null,t=1,i=1,r,s,o,a,l,u=mn,d=mn,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const pE=new ot,mH=new ot;class Ld{constructor(e=[],t=[]){this.uuid=Ji(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ot;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:mH;pE.multiplyMatrices(a,t[s]),pE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Ld(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=r3(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Nc(t,e,e,bi,Vs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Xg),this.bones.push(o),this.boneInverses.push(new ot().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class qc extends kt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mE=new ot,gE=new ot,Np=[],gH=new ot,rf=new Ln;class b_ extends Ln{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new qc(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,gH)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(rf.geometry=this.geometry,rf.material=this.material,rf.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,mE),gE.multiplyMatrices(i,mE),rf.matrixWorld=gE,rf.raycast(e,Np);for(let o=0,a=Np.length;o<a;o++){const l=Np[o];l.instanceId=s,l.object=this,t.push(l)}Np.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new qc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class li extends En{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const vE=new N,yE=new N,xE=new ot,my=new uu,Fp=new aa;class io extends Pt{constructor(e=new ft,t=new li){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)vE.fromBufferAttribute(t,r-1),yE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=vE.distanceTo(yE);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Fp.copy(i.boundingSphere),Fp.applyMatrix4(r),Fp.radius+=s,e.ray.intersectsSphere(Fp)===!1)return;xE.copy(r).invert(),my.copy(e.ray).applyMatrix4(xE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new N,d=new N,h=new N,p=new N,m=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const A=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let M=A,S=_-1;M<S;M+=m){const E=y.getX(M),P=y.getX(M+1);if(u.fromBufferAttribute(x,E),d.fromBufferAttribute(x,P),my.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let M=A,S=_-1;M<S;M+=m){if(u.fromBufferAttribute(x,M),d.fromBufferAttribute(x,M+1),my.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const AE=new N,_E=new N;class Xr extends io{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)AE.fromBufferAttribute(t,r),_E.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+AE.distanceTo(_E);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class T_ extends io{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Id extends En{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const wE=new ot,bA=new uu,kp=new aa,Op=new N;let P_=class extends Pt{constructor(e=new ft,t=new Id){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),kp.copy(i.boundingSphere),kp.applyMatrix4(r),kp.radius+=s,e.ray.intersectsSphere(kp)===!1)return;wE.copy(r).invert(),bA.copy(e.ray).applyMatrix4(wE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,h=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,v=m;y<v;y++){const x=u.getX(y);Op.fromBufferAttribute(h,x),ME(Op,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,v=m;y<v;y++)Op.fromBufferAttribute(h,y),ME(Op,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function ME(n,e,t,i,r,s,o){const a=bA.distanceSqToPoint(n);if(a<t){const l=new N;bA.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class vH extends en{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:sn,this.magFilter=s!==void 0?s:sn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yH extends en{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=mn,this.minFilter=mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class B_ extends en{constructor(e,t,i,r,s,o,a,l,u,d,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xH extends B_{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Xn}}class AH extends en{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Kr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,r=[],s=[],o=[],a=new N,l=new ot;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new N)}s[0]=new N,o[0]=new N;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),h<=u&&(u=h,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(xn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(xn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Kg extends Kr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class _3 extends Kg{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function R_(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,h){let p=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Up=new N,gy=new R_,vy=new R_,yy=new R_;class w3 extends Kr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=r[(a-1)%s]:(Up.subVectors(r[0],r[1]).add(r[0]),u=Up);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(Up.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Up),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),v=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);v<1e-4&&(v=1),y<1e-4&&(y=v),x<1e-4&&(x=v),gy.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,y,v,x),vy.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,y,v,x),yy.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,y,v,x)}else this.curveType==="catmullrom"&&(gy.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),vy.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),yy.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return i.set(gy.calc(l),vy.calc(l),yy.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new N().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function SE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function _H(n,e){const t=1-n;return t*t*e}function wH(n,e){return 2*(1-n)*n*e}function MH(n,e){return n*n*e}function Lf(n,e,t,i){return _H(n,e)+wH(n,t)+MH(n,i)}function SH(n,e){const t=1-n;return t*t*t*e}function CH(n,e){const t=1-n;return 3*t*t*n*e}function EH(n,e){return 3*(1-n)*n*n*e}function bH(n,e){return n*n*n*e}function If(n,e,t,i,r){return SH(n,e)+CH(n,t)+EH(n,i)+bH(n,r)}class L_ extends Kr{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(If(e,r.x,s.x,o.x,a.x),If(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class M3 extends Kr{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(If(e,r.x,s.x,o.x,a.x),If(e,r.y,s.y,o.y,a.y),If(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yg extends Kr{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new pe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class S3 extends Kr{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I_ extends Kr{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Lf(e,r.x,s.x,o.x),Lf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D_ extends Kr{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Lf(e,r.x,s.x,o.x),Lf(e,r.y,s.y,o.y),Lf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N_ extends Kr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(SE(a,l.x,u.x,d.x,h.x),SE(a,l.y,u.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var F_=Object.freeze({__proto__:null,ArcCurve:_3,CatmullRomCurve3:w3,CubicBezierCurve:L_,CubicBezierCurve3:M3,EllipseCurve:Kg,LineCurve:Yg,LineCurve3:S3,QuadraticBezierCurve:I_,QuadraticBezierCurve3:D_,SplineCurve:N_});class C3 extends Kr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Yg(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new F_[r.type]().fromJSON(r))}return this}}class fd extends C3{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Yg(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new I_(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new L_(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new N_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new Kg(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hu extends ft{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=xn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,h=new N,p=new pe,m=new N,y=new N,v=new N;let x=0,A=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,A=e[_+1].y-e[_].y,m.x=A*1,m.y=-x,m.z=A*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[_+1].x-e[_].x,A=e[_+1].y-e[_].y,m.x=A*1,m.y=-x,m.z=A*0,y.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(y)}for(let _=0;_<=t;_++){const M=i+_*d*r,S=Math.sin(M),E=Math.cos(M);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*S,h.y=e[P].y,h.z=e[P].x*E,o.push(h.x,h.y,h.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const L=l[3*P+0]*S,b=l[3*P+1],R=l[3*P+0]*E;u.push(L,b,R)}}for(let _=0;_<t;_++)for(let M=0;M<e.length-1;M++){const S=M+_*e.length,E=S,P=S+e.length,L=S+e.length+1,b=S+1;s.push(E,P,b),s.push(L,b,P)}this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("uv",new We(a,2)),this.setAttribute("normal",new We(u,3))}static fromJSON(e){return new hu(e.points,e.segments,e.phiStart,e.phiLength)}}class Dd extends hu{constructor(e=1,t=1,i=4,r=8){const s=new fd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Dd(e.radius,e.length,e.capSegments,e.radialSegments)}}class Nd extends ft{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new N,d=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("normal",new We(a,3)),this.setAttribute("uv",new We(l,2))}static fromJSON(e){return new Nd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Al extends ft{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const v=[],x=i/2;let A=0;_(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(d),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(m,2));function _(){const S=new N,E=new N;let P=0;const L=(t-e)/i;for(let b=0;b<=s;b++){const R=[],I=b/s,G=I*(t-e)+e;for(let ee=0;ee<=r;ee++){const W=ee/r,V=W*l+a,q=Math.sin(V),ie=Math.cos(V);E.x=G*q,E.y=-I*i+x,E.z=G*ie,h.push(E.x,E.y,E.z),S.set(q,L,ie).normalize(),p.push(S.x,S.y,S.z),m.push(W,1-I),R.push(y++)}v.push(R)}for(let b=0;b<r;b++)for(let R=0;R<s;R++){const I=v[R][b],G=v[R+1][b],ee=v[R+1][b+1],W=v[R][b+1];d.push(I,G,W),d.push(G,ee,W),P+=6}u.addGroup(A,P,0),A+=P}function M(S){const E=y,P=new pe,L=new N;let b=0;const R=S===!0?e:t,I=S===!0?1:-1;for(let ee=1;ee<=r;ee++)h.push(0,x*I,0),p.push(0,I,0),m.push(.5,.5),y++;const G=y;for(let ee=0;ee<=r;ee++){const V=ee/r*l+a,q=Math.cos(V),ie=Math.sin(V);L.x=R*ie,L.y=x*I,L.z=R*q,h.push(L.x,L.y,L.z),p.push(0,I,0),P.x=q*.5+.5,P.y=ie*.5*I+.5,m.push(P.x,P.y),y++}for(let ee=0;ee<r;ee++){const W=E+ee,V=G+ee;S===!0?d.push(V,V+1,W):d.push(V+1,V,W),b+=3}u.addGroup(A,b,S===!0?1:2),A+=b}}static fromJSON(e){return new Al(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fd extends Al{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Fd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class so extends ft{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),d(),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(s.slice(),3)),this.setAttribute("uv",new We(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const M=new N,S=new N,E=new N;for(let P=0;P<t.length;P+=3)m(t[P+0],M),m(t[P+1],S),m(t[P+2],E),l(M,S,E,_)}function l(_,M,S,E){const P=E+1,L=[];for(let b=0;b<=P;b++){L[b]=[];const R=_.clone().lerp(S,b/P),I=M.clone().lerp(S,b/P),G=P-b;for(let ee=0;ee<=G;ee++)ee===0&&b===P?L[b][ee]=R:L[b][ee]=R.clone().lerp(I,ee/G)}for(let b=0;b<P;b++)for(let R=0;R<2*(P-b)-1;R++){const I=Math.floor(R/2);R%2===0?(p(L[b][I+1]),p(L[b+1][I]),p(L[b][I])):(p(L[b][I+1]),p(L[b+1][I+1]),p(L[b+1][I]))}}function u(_){const M=new N;for(let S=0;S<s.length;S+=3)M.x=s[S+0],M.y=s[S+1],M.z=s[S+2],M.normalize().multiplyScalar(_),s[S+0]=M.x,s[S+1]=M.y,s[S+2]=M.z}function d(){const _=new N;for(let M=0;M<s.length;M+=3){_.x=s[M+0],_.y=s[M+1],_.z=s[M+2];const S=x(_)/2/Math.PI+.5,E=A(_)/Math.PI+.5;o.push(S,1-E)}y(),h()}function h(){for(let _=0;_<o.length;_+=6){const M=o[_+0],S=o[_+2],E=o[_+4],P=Math.max(M,S,E),L=Math.min(M,S,E);P>.9&&L<.1&&(M<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,M){const S=_*3;M.x=e[S+0],M.y=e[S+1],M.z=e[S+2]}function y(){const _=new N,M=new N,S=new N,E=new N,P=new pe,L=new pe,b=new pe;for(let R=0,I=0;R<s.length;R+=9,I+=6){_.set(s[R+0],s[R+1],s[R+2]),M.set(s[R+3],s[R+4],s[R+5]),S.set(s[R+6],s[R+7],s[R+8]),P.set(o[I+0],o[I+1]),L.set(o[I+2],o[I+3]),b.set(o[I+4],o[I+5]),E.copy(_).add(M).add(S).divideScalar(3);const G=x(E);v(P,I+0,_,G),v(L,I+2,M,G),v(b,I+4,S,G)}}function v(_,M,S,E){E<0&&_.x===1&&(o[M]=_.x-1),S.x===0&&S.z===0&&(o[M]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function A(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new so(e.vertices,e.indices,e.radius,e.details)}}class kd extends so{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kd(e.radius,e.detail)}}const zp=new N,Gp=new N,xy=new N,Hp=new gr;class E3 extends ft{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(rl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:v,b:x,c:A}=Hp;if(v.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),A.fromBufferAttribute(a,u[2]),Hp.getNormal(xy),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const M=(_+1)%3,S=h[_],E=h[M],P=Hp[d[_]],L=Hp[d[M]],b=`${S}_${E}`,R=`${E}_${S}`;R in p&&p[R]?(xy.dot(p[R].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(L.x,L.y,L.z)),p[R]=null):b in p||(p[b]={index0:u[_],index1:u[M],normal:xy.clone()})}}for(const y in p)if(p[y]){const{index0:v,index1:x}=p[y];zp.fromBufferAttribute(a,v),Gp.fromBufferAttribute(a,x),m.push(zp.x,zp.y,zp.z),m.push(Gp.x,Gp.y,Gp.z)}this.setAttribute("position",new We(m,3))}}}class al extends fd{constructor(e){super(e),this.uuid=Ji(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new fd().fromJSON(r))}return this}}const TH={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=b3(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,d,h,p,m;if(i&&(s=IH(n,e,s,t)),n.length>80*t){a=u=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?32767/m:0}return dd(s,o,t,a,l,m,0),o}};function b3(n,e,t,i,r){let s,o;if(r===WH(n,e,t,i)>0)for(s=e;s<t;s+=i)o=CE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=CE(s,n[s],n[s+1],o);return o&&qg(o,o.next)&&(pd(o),o=o.next),o}function ml(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(qg(t,t.next)||on(t.prev,t,t.next)===0)){if(pd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function dd(n,e,t,i,r,s,o){if(!n)return;!o&&s&&OH(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?BH(n,i,r,s):PH(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),pd(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=RH(ml(n),e,t),dd(n,e,t,i,r,s,2)):o===2&&LH(n,e,t,i,r,s):dd(ml(n),e,t,i,r,s,1);break}}}function PH(n){const e=n.prev,t=n,i=n.next;if(on(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&wc(r,a,s,l,o,u,y.x,y.y)&&on(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function BH(n,e,t,i){const r=n.prev,s=n,o=n.next;if(on(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,y=d<h?d<p?d:p:h<p?h:p,v=a>l?a>u?a:u:l>u?l:u,x=d>h?d>p?d:p:h>p?h:p,A=TA(m,y,e,t,i),_=TA(v,x,e,t,i);let M=n.prevZ,S=n.nextZ;for(;M&&M.z>=A&&S&&S.z<=_;){if(M.x>=m&&M.x<=v&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&wc(a,d,l,h,u,p,M.x,M.y)&&on(M.prev,M,M.next)>=0||(M=M.prevZ,S.x>=m&&S.x<=v&&S.y>=y&&S.y<=x&&S!==r&&S!==o&&wc(a,d,l,h,u,p,S.x,S.y)&&on(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;M&&M.z>=A;){if(M.x>=m&&M.x<=v&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&wc(a,d,l,h,u,p,M.x,M.y)&&on(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=v&&S.y>=y&&S.y<=x&&S!==r&&S!==o&&wc(a,d,l,h,u,p,S.x,S.y)&&on(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function RH(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!qg(r,s)&&T3(r,i,i.next,s)&&hd(r,s)&&hd(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),pd(i),pd(i.next),i=n=s),i=i.next}while(i!==n);return ml(i)}function LH(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&GH(o,a)){let l=P3(o,a);o=ml(o,o.next),l=ml(l,l.next),dd(o,e,t,i,r,s,0),dd(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function IH(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=b3(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(zH(u));for(r.sort(DH),s=0;s<r.length;s++)t=NH(r[s],t);return t}function DH(n,e){return n.x-e.x}function NH(n,e){const t=FH(n,e);if(!t)return e;const i=P3(t,n);return ml(i,i.next),ml(t,t.next)}function FH(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&wc(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),hd(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&kH(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function kH(n,e){return on(n.prev,n,e.prev)<0&&on(e.next,n,n.next)<0}function OH(n,e,t,i){let r=n;do r.z===0&&(r.z=TA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,UH(r)}function UH(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function TA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function zH(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function wc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function GH(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!HH(n,e)&&(hd(n,e)&&hd(e,n)&&VH(n,e)&&(on(n.prev,n,e.prev)||on(n,e.prev,e))||qg(n,e)&&on(n.prev,n,n.next)>0&&on(e.prev,e,e.next)>0)}function on(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function qg(n,e){return n.x===e.x&&n.y===e.y}function T3(n,e,t,i){const r=Wp(on(n,e,t)),s=Wp(on(n,e,i)),o=Wp(on(t,i,n)),a=Wp(on(t,i,e));return!!(r!==s&&o!==a||r===0&&Vp(n,t,e)||s===0&&Vp(n,i,e)||o===0&&Vp(t,n,i)||a===0&&Vp(t,e,i))}function Vp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Wp(n){return n>0?1:n<0?-1:0}function HH(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&T3(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function hd(n,e){return on(n.prev,n,n.next)<0?on(n,e,n.next)>=0&&on(n,n.prev,e)>=0:on(n,e,n.prev)<0||on(n,n.next,e)<0}function VH(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function P3(n,e){const t=new PA(n.i,n.x,n.y),i=new PA(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function CE(n,e,t,i){const r=new PA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function pd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function PA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function WH(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class cs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return cs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];EE(e),bE(i,e);let o=e.length;t.forEach(EE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,bE(i,t[l]);const a=TH.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function EE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function bE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Od extends ft{constructor(e=new al([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new We(r,3)),this.setAttribute("uv",new We(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:jH;let M,S=!1,E,P,L,b;A&&(M=A.getSpacedPoints(d),S=!0,p=!1,E=A.computeFrenetFrames(d,!1),P=new N,L=new N,b=new N),p||(x=0,m=0,y=0,v=0);const R=a.extractPoints(u);let I=R.shape;const G=R.holes;if(!cs.isClockWise(I)){I=I.reverse();for(let de=0,le=G.length;de<le;de++){const Ce=G[de];cs.isClockWise(Ce)&&(G[de]=Ce.reverse())}}const W=cs.triangulateShape(I,G),V=I;for(let de=0,le=G.length;de<le;de++){const Ce=G[de];I=I.concat(Ce)}function q(de,le,Ce){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Ce).add(de)}const ie=I.length,ce=W.length;function k(de,le,Ce){let ze,Pe,$e;const qe=de.x-le.x,Je=de.y-le.y,_t=Ce.x-de.x,wt=Ce.y-de.y,z=qe*qe+Je*Je,D=qe*wt-Je*_t;if(Math.abs(D)>Number.EPSILON){const ae=Math.sqrt(z),Me=Math.sqrt(_t*_t+wt*wt),Ee=le.x-Je/ae,Te=le.y+qe/ae,it=Ce.x-wt/Me,Ne=Ce.y+_t/Me,ge=((it-Ee)*wt-(Ne-Te)*_t)/(qe*wt-Je*_t);ze=Ee+qe*ge-de.x,Pe=Te+Je*ge-de.y;const Qe=ze*ze+Pe*Pe;if(Qe<=2)return new pe(ze,Pe);$e=Math.sqrt(Qe/2)}else{let ae=!1;qe>Number.EPSILON?_t>Number.EPSILON&&(ae=!0):qe<-Number.EPSILON?_t<-Number.EPSILON&&(ae=!0):Math.sign(Je)===Math.sign(wt)&&(ae=!0),ae?(ze=-Je,Pe=qe,$e=Math.sqrt(z)):(ze=qe,Pe=Je,$e=Math.sqrt(z/2))}return new pe(ze/$e,Pe/$e)}const j=[];for(let de=0,le=V.length,Ce=le-1,ze=de+1;de<le;de++,Ce++,ze++)Ce===le&&(Ce=0),ze===le&&(ze=0),j[de]=k(V[de],V[Ce],V[ze]);const Y=[];let oe,X=j.concat();for(let de=0,le=G.length;de<le;de++){const Ce=G[de];oe=[];for(let ze=0,Pe=Ce.length,$e=Pe-1,qe=ze+1;ze<Pe;ze++,$e++,qe++)$e===Pe&&($e=0),qe===Pe&&(qe=0),oe[ze]=k(Ce[ze],Ce[$e],Ce[qe]);Y.push(oe),X=X.concat(oe)}for(let de=0;de<x;de++){const le=de/x,Ce=m*Math.cos(le*Math.PI/2),ze=y*Math.sin(le*Math.PI/2)+v;for(let Pe=0,$e=V.length;Pe<$e;Pe++){const qe=q(V[Pe],j[Pe],ze);ke(qe.x,qe.y,-Ce)}for(let Pe=0,$e=G.length;Pe<$e;Pe++){const qe=G[Pe];oe=Y[Pe];for(let Je=0,_t=qe.length;Je<_t;Je++){const wt=q(qe[Je],oe[Je],ze);ke(wt.x,wt.y,-Ce)}}}const re=y+v;for(let de=0;de<ie;de++){const le=p?q(I[de],X[de],re):I[de];S?(L.copy(E.normals[0]).multiplyScalar(le.x),P.copy(E.binormals[0]).multiplyScalar(le.y),b.copy(M[0]).add(L).add(P),ke(b.x,b.y,b.z)):ke(le.x,le.y,0)}for(let de=1;de<=d;de++)for(let le=0;le<ie;le++){const Ce=p?q(I[le],X[le],re):I[le];S?(L.copy(E.normals[de]).multiplyScalar(Ce.x),P.copy(E.binormals[de]).multiplyScalar(Ce.y),b.copy(M[de]).add(L).add(P),ke(b.x,b.y,b.z)):ke(Ce.x,Ce.y,h/d*de)}for(let de=x-1;de>=0;de--){const le=de/x,Ce=m*Math.cos(le*Math.PI/2),ze=y*Math.sin(le*Math.PI/2)+v;for(let Pe=0,$e=V.length;Pe<$e;Pe++){const qe=q(V[Pe],j[Pe],ze);ke(qe.x,qe.y,h+Ce)}for(let Pe=0,$e=G.length;Pe<$e;Pe++){const qe=G[Pe];oe=Y[Pe];for(let Je=0,_t=qe.length;Je<_t;Je++){const wt=q(qe[Je],oe[Je],ze);S?ke(wt.x,wt.y+M[d-1].y,M[d-1].x+Ce):ke(wt.x,wt.y,h+Ce)}}}ye(),_e();function ye(){const de=r.length/3;if(p){let le=0,Ce=ie*le;for(let ze=0;ze<ce;ze++){const Pe=W[ze];Oe(Pe[2]+Ce,Pe[1]+Ce,Pe[0]+Ce)}le=d+x*2,Ce=ie*le;for(let ze=0;ze<ce;ze++){const Pe=W[ze];Oe(Pe[0]+Ce,Pe[1]+Ce,Pe[2]+Ce)}}else{for(let le=0;le<ce;le++){const Ce=W[le];Oe(Ce[2],Ce[1],Ce[0])}for(let le=0;le<ce;le++){const Ce=W[le];Oe(Ce[0]+ie*d,Ce[1]+ie*d,Ce[2]+ie*d)}}i.addGroup(de,r.length/3-de,0)}function _e(){const de=r.length/3;let le=0;$(V,le),le+=V.length;for(let Ce=0,ze=G.length;Ce<ze;Ce++){const Pe=G[Ce];$(Pe,le),le+=Pe.length}i.addGroup(de,r.length/3-de,1)}function $(de,le){let Ce=de.length;for(;--Ce>=0;){const ze=Ce;let Pe=Ce-1;Pe<0&&(Pe=de.length-1);for(let $e=0,qe=d+x*2;$e<qe;$e++){const Je=ie*$e,_t=ie*($e+1),wt=le+ze+Je,z=le+Pe+Je,D=le+Pe+_t,ae=le+ze+_t;Ve(wt,z,D,ae)}}}function ke(de,le,Ce){l.push(de),l.push(le),l.push(Ce)}function Oe(de,le,Ce){we(de),we(le),we(Ce);const ze=r.length/3,Pe=_.generateTopUV(i,r,ze-3,ze-2,ze-1);Re(Pe[0]),Re(Pe[1]),Re(Pe[2])}function Ve(de,le,Ce,ze){we(de),we(le),we(ze),we(le),we(Ce),we(ze);const Pe=r.length/3,$e=_.generateSideWallUV(i,r,Pe-6,Pe-3,Pe-2,Pe-1);Re($e[0]),Re($e[1]),Re($e[3]),Re($e[1]),Re($e[2]),Re($e[3])}function we(de){r.push(l[de*3+0]),r.push(l[de*3+1]),r.push(l[de*3+2])}function Re(de){s.push(de.x),s.push(de.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return JH(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new F_[r.type]().fromJSON(r)),new Od(i,e.options)}}const jH={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],v=e[s*3],x=e[s*3+1],A=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new pe(o,1-l),new pe(u,1-h),new pe(p,1-y),new pe(v,1-A)]:[new pe(a,1-l),new pe(d,1-h),new pe(m,1-y),new pe(x,1-A)]}};function JH(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ud extends so{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ud(e.radius,e.detail)}}class pu extends so{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pu(e.radius,e.detail)}}class zd extends ft{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],d=[];let h=e;const p=(t-e)/r,m=new N,y=new pe;for(let v=0;v<=r;v++){for(let x=0;x<=i;x++){const A=s+x/i*o;m.x=h*Math.cos(A),m.y=h*Math.sin(A),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let v=0;v<r;v++){const x=v*(i+1);for(let A=0;A<i;A++){const _=A+x,M=_,S=_+i+1,E=_+i+2,P=_+1;a.push(M,S,P),a.push(S,E,P)}}this.setIndex(a),this.setAttribute("position",new We(l,3)),this.setAttribute("normal",new We(u,3)),this.setAttribute("uv",new We(d,2))}static fromJSON(e){return new zd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Gd extends ft{constructor(e=new al([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new We(r,3)),this.setAttribute("normal",new We(s,3)),this.setAttribute("uv",new We(o,2));function u(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;cs.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,A=y.length;x<A;x++){const _=y[x];cs.isClockWise(_)===!0&&(y[x]=_.reverse())}const v=cs.triangulateShape(m,y);for(let x=0,A=y.length;x<A;x++){const _=y[x];m=m.concat(_)}for(let x=0,A=m.length;x<A;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,A=v.length;x<A;x++){const _=v[x],M=_[0]+h,S=_[1]+h,E=_[2]+h;i.push(M,S,E),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return XH(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Gd(i,e.curveSegments)}}function XH(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class mu extends ft{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const d=[],h=new N,p=new N,m=[],y=[],v=[],x=[];for(let A=0;A<=i;A++){const _=[],M=A/i;let S=0;A==0&&o==0?S=.5/t:A==i&&l==Math.PI&&(S=-.5/t);for(let E=0;E<=t;E++){const P=E/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+M*a),h.y=e*Math.cos(o+M*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+M*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),x.push(P+S,1-M),_.push(u++)}d.push(_)}for(let A=0;A<i;A++)for(let _=0;_<t;_++){const M=d[A][_+1],S=d[A][_],E=d[A+1][_],P=d[A+1][_+1];(A!==0||o>0)&&m.push(M,S,P),(A!==i-1||l<Math.PI)&&m.push(S,E,P)}this.setIndex(m),this.setAttribute("position",new We(y,3)),this.setAttribute("normal",new We(v,3)),this.setAttribute("uv",new We(x,2))}static fromJSON(e){return new mu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Hd extends so{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hd(e.radius,e.detail)}}class Vd extends ft{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],d=new N,h=new N,p=new N;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const v=y/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(v),h.y=(e+t*Math.cos(x))*Math.sin(v),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(v),d.y=e*Math.sin(v),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(y/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const v=(r+1)*m+y-1,x=(r+1)*(m-1)+y-1,A=(r+1)*(m-1)+y,_=(r+1)*m+y;o.push(v,x,_),o.push(x,A,_)}this.setIndex(o),this.setAttribute("position",new We(a,3)),this.setAttribute("normal",new We(l,3)),this.setAttribute("uv",new We(u,2))}static fromJSON(e){return new Vd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Wd extends ft{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],d=[],h=new N,p=new N,m=new N,y=new N,v=new N,x=new N,A=new N;for(let M=0;M<=i;++M){const S=M/i*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,y),x.subVectors(y,m),A.addVectors(y,m),v.crossVectors(x,A),A.crossVectors(v,x),v.normalize(),A.normalize();for(let E=0;E<=r;++E){const P=E/r*Math.PI*2,L=-t*Math.cos(P),b=t*Math.sin(P);h.x=m.x+(L*A.x+b*v.x),h.y=m.y+(L*A.y+b*v.y),h.z=m.z+(L*A.z+b*v.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(M/i),d.push(E/r)}}for(let M=1;M<=i;M++)for(let S=1;S<=r;S++){const E=(r+1)*(M-1)+(S-1),P=(r+1)*M+(S-1),L=(r+1)*M+S,b=(r+1)*(M-1)+S;a.push(E,P,b),a.push(P,L,b)}this.setIndex(a),this.setAttribute("position",new We(l,3)),this.setAttribute("normal",new We(u,3)),this.setAttribute("uv",new We(d,2));function _(M,S,E,P,L){const b=Math.cos(M),R=Math.sin(M),I=E/S*M,G=Math.cos(I);L.x=P*(2+G)*.5*b,L.y=P*(2+G)*R*.5,L.z=P*Math.sin(I)*.5}}static fromJSON(e){return new Wd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class jd extends ft{constructor(e=new D_(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,u=new pe;let d=new N;const h=[],p=[],m=[],y=[];v(),this.setIndex(y),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(m,2));function v(){for(let M=0;M<t;M++)x(M);x(s===!1?t:0),_(),A()}function x(M){d=e.getPointAt(M/t,d);const S=o.normals[M],E=o.binormals[M];for(let P=0;P<=r;P++){const L=P/r*Math.PI*2,b=Math.sin(L),R=-Math.cos(L);l.x=R*S.x+b*E.x,l.y=R*S.y+b*E.y,l.z=R*S.z+b*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function A(){for(let M=1;M<=t;M++)for(let S=1;S<=r;S++){const E=(r+1)*(M-1)+(S-1),P=(r+1)*M+(S-1),L=(r+1)*M+S,b=(r+1)*(M-1)+S;y.push(E,P,b),y.push(P,L,b)}}function _(){for(let M=0;M<=t;M++)for(let S=0;S<=r;S++)u.x=M/t,u.y=S/r,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new jd(new F_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class B3 extends ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,v=p+m;y<v;y+=3)for(let x=0;x<3;x++){const A=a.getX(y+x),_=a.getX(y+(x+1)%3);r.fromBufferAttribute(o,A),s.fromBufferAttribute(o,_),TE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),TE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new We(t,3))}}}function TE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var PE=Object.freeze({__proto__:null,BoxGeometry:la,CapsuleGeometry:Dd,CircleGeometry:Nd,ConeGeometry:Fd,CylinderGeometry:Al,DodecahedronGeometry:kd,EdgesGeometry:E3,ExtrudeGeometry:Od,IcosahedronGeometry:Ud,LatheGeometry:hu,OctahedronGeometry:pu,PlaneGeometry:fu,PolyhedronGeometry:so,RingGeometry:zd,ShapeGeometry:Gd,SphereGeometry:mu,TetrahedronGeometry:Hd,TorusGeometry:Vd,TorusKnotGeometry:Wd,TubeGeometry:jd,WireframeGeometry:B3});class R3 extends En{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class L3 extends ps{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Jd extends En{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gs extends Jd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class I3 extends En{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Td,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class D3 extends En{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class N3 extends En{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class F3 extends En{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Td,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class k3 extends En{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sa,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class O3 extends li{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hr(n,e,t){return k_(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Qa(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function k_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function U3(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function BA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function O_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function KH(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*r;if(!(y<t||y>=i)){h.push(u.times[m]);for(let v=0;v<d;++v)p.push(u.values[m*d+v])}}h.length!==0&&(u.times=Qa(h,u.times.constructor),u.values=Qa(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function YH(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(A){return A.name===a.name&&A.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let v;if(s<=a.times[0]){const A=d,_=h-d;v=hr(a.values,A,_)}else if(s>=a.times[y]){const A=y*h+d,_=A+h-d;v=hr(a.values,A,_)}else{const A=a.createInterpolant(),_=d,M=h-d;A.evaluate(s),v=hr(A.resultBuffer,_,M)}l==="quaternion"&&new Wn().fromArray(v).normalize().conjugate().toArray(v);const x=u.times.length;for(let A=0;A<x;++A){const _=A*m+p;if(l==="quaternion")Wn.multiplyQuaternionsFlat(u.values,_,v,0,u.values,_);else{const M=m-p*2;for(let S=0;S<M;++S)u.values[_+S]-=v[S]}}}return n.blendMode=u_,n}var qH=Object.freeze({__proto__:null,arraySlice:hr,convertArray:Qa,flattenJSON:O_,getKeyframeOrder:U3,isTypedArray:k_,makeClipAdditive:YH,sortedArray:BA,subclip:KH});class gu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class z3 extends gu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ka,endingEnd:Ka}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ya:s=e,a=2*t-i;break;case ad:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Ya:o=e,l=2*i-t;break;case ad:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),v=y*y,x=v*y,A=-p*x+2*p*v-p*y,_=(1+p)*x+(-1.5-2*p)*v+(-.5+p)*y+1,M=(-1-m)*x+(1.5+m)*v+.5*y,S=m*x-m*v;for(let E=0;E!==a;++E)s[E]=A*o[d+E]+_*o[u+E]+M*o[l+E]+S*o[h+E];return s}}class U_ extends gu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*d;return s}}class G3 extends gu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qa(t,this.TimeBufferType),this.values=Qa(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Qa(e.times,Array),values:Qa(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new G3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new U_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new z3(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Xc:t=this.InterpolantFactoryMethodDiscrete;break;case pl:t=this.InterpolantFactoryMethodLinear;break;case Cm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xc;case this.InterpolantFactoryMethodLinear:return pl;case this.InterpolantFactoryMethodSmooth:return Cm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=hr(i,s,o),this.values=hr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&k_(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=hr(this.times),t=hr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Cm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const v=t[h+y];if(v!==t[p+y]||v!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=hr(e,0,o),this.values=hr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=hr(this.times,0),t=hr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Yr.prototype.TimeBufferType=Float32Array;Yr.prototype.ValueBufferType=Float32Array;Yr.prototype.DefaultInterpolation=pl;class _l extends Yr{}_l.prototype.ValueTypeName="bool";_l.prototype.ValueBufferType=Array;_l.prototype.DefaultInterpolation=Xc;_l.prototype.InterpolantFactoryMethodLinear=void 0;_l.prototype.InterpolantFactoryMethodSmooth=void 0;class z_ extends Yr{}z_.prototype.ValueTypeName="color";class Qc extends Yr{}Qc.prototype.ValueTypeName="number";class H3 extends gu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Wn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class $o extends Yr{InterpolantFactoryMethodLinear(e){return new H3(this.times,this.values,this.getValueSize(),e)}}$o.prototype.ValueTypeName="quaternion";$o.prototype.DefaultInterpolation=pl;$o.prototype.InterpolantFactoryMethodSmooth=void 0;class wl extends Yr{}wl.prototype.ValueTypeName="string";wl.prototype.ValueBufferType=Array;wl.prototype.DefaultInterpolation=Xc;wl.prototype.InterpolantFactoryMethodLinear=void 0;wl.prototype.InterpolantFactoryMethodSmooth=void 0;class Zc extends Yr{}Zc.prototype.ValueTypeName="vector";class $c{constructor(e,t=-1,i,r=Gg){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ji(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(ZH(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Yr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=U3(l);l=BA(l,1,d),u=BA(u,1,d),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Qc(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,v){if(m.length!==0){const x=[],A=[];O_(m,x,A,y),x.length!==0&&v.push(new h(p,x,A))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let v=0;v<p[y].morphTargets.length;v++)m[p[y].morphTargets[v]]=-1;for(const v in m){const x=[],A=[];for(let _=0;_!==p[y].morphTargets.length;++_){const M=p[y];x.push(M.time),A.push(M.morphTarget===v?1:0)}r.push(new Qc(".morphTargetInfluence["+v+"]",x,A))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(Zc,m+".position",p,"pos",r),i($o,m+".quaternion",p,"rot",r),i(Zc,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function QH(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qc;case"vector":case"vector2":case"vector3":case"vector4":return Zc;case"color":return z_;case"quaternion":return $o;case"bool":case"boolean":return _l;case"string":return wl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function ZH(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QH(n.type);if(n.times===void 0){const t=[],i=[];O_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const gl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class G_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const Mc=new G_;class _i{constructor(e){this.manager=e!==void 0?e:Mc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Is={};class $H extends Error{constructor(e,t){super(e),this.response=t}}class Ki extends _i{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=gl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Is[e]!==void 0){Is[e].push({onLoad:t,onProgress:i,onError:r});return}Is[e]=[],Is[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Is[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let v=0;const x=new ReadableStream({start(A){_();function _(){h.read().then(({done:M,value:S})=>{if(M)A.close();else{v+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:y,loaded:v,total:m});for(let P=0,L=d.length;P<L;P++){const b=d[P];b.onProgress&&b.onProgress(E)}A.enqueue(S),_()}})}}});return new Response(x)}else throw new $H(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{gl.add(e,u);const d=Is[e];delete Is[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=Is[e];if(d===void 0)throw this.manager.itemError(e),u;delete Is[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class e5 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ki(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=$c.parse(e[i]);t.push(r)}return t}}class t5 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new B_,l=new Ki(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=sn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+v]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=sn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class md extends _i{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=gl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ud("img");function l(){d(),gl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class n5 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=new Bd,o=new md(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class i5 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Nc,a=new Ki(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Xn,o.wrapT=u.wrapT!==void 0?u.wrapT:Xn,o.magFilter=u.magFilter!==void 0?u.magFilter:sn,o.minFilter=u.minFilter!==void 0?u.minFilter:sn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=hs),u.mipmapCount===1&&(o.minFilter=sn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},i,r),o}}class Xd extends _i{constructor(e){super(e)}load(e,t,i,r){const s=new en,o=new md(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ca extends Pt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class V3 extends ca{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Ay=new ot,BE=new N,RE=new N;class H_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vg,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;BE.setFromMatrixPosition(e.matrixWorld),t.position.copy(BE),RE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(RE),t.updateMatrixWorld(),Ay.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ay),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ay)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class r5 extends H_{constructor(){super(new Kt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=cd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class V_ extends ca{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.target=new Pt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new r5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const LE=new ot,sf=new N,_y=new N;class s5 extends H_{constructor(){super(new Kt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),sf.setFromMatrixPosition(e.matrixWorld),i.position.copy(sf),_y.copy(i.position),_y.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(_y),i.updateMatrixWorld(),r.makeTranslation(-sf.x,-sf.y,-sf.z),LE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LE)}}class W_ extends ca{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new s5}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class o5 extends H_{constructor(){super(new yr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class j_ extends ca{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pt.DEFAULT_UP),this.updateMatrix(),this.target=new Pt,this.shadow=new o5}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class W3 extends ca{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class j3 extends ca{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class J3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Qg extends ca{constructor(e=new J3,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Zg extends _i{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Ki(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Zg.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new De().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new N().fromArray(o.value);break;case"v4":r.uniforms[s].value=new zt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new gi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ot().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:R3,SpriteMaterial:C_,RawShaderMaterial:L3,ShaderMaterial:ps,PointsMaterial:Id,MeshPhysicalMaterial:gs,MeshStandardMaterial:Jd,MeshPhongMaterial:I3,MeshToonMaterial:D3,MeshNormalMaterial:N3,MeshLambertMaterial:F3,MeshDepthMaterial:__,MeshDistanceMaterial:w_,MeshBasicMaterial:Wi,MeshMatcapMaterial:k3,LineDashedMaterial:O3,LineBasicMaterial:li,Material:En};return new t[e]}}class us{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class X3 extends ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class K3 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ki(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],A=s(m,x.buffer),_=Ac(x.type,A),M=new Rd(_,x.stride);return M.uuid=x.uuid,t[y]=M,M}function s(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],A=new Uint32Array(x).buffer;return i[y]=A,A}const o=e.isInstancedBufferGeometry?new X3:new ft,a=e.data.index;if(a!==void 0){const m=Ac(a.type,a.array);o.setIndex(new kt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let v;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);v=new Zo(x,y.itemSize,y.offset,y.normalized)}else{const x=Ac(y.type,y.array),A=y.isInstancedBufferAttribute?qc:kt;v=new A(x,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),y.usage!==void 0&&v.setUsage(y.usage),y.updateRange!==void 0&&(v.updateRange.offset=y.updateRange.offset,v.updateRange.count=y.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],v=[];for(let x=0,A=y.length;x<A;x++){const _=y[x];let M;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);M=new Zo(S,_.itemSize,_.offset,_.normalized)}else{const S=Ac(_.type,_.array);M=new kt(S,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),v.push(M)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const v=h[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new aa(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class a5 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?us.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ki(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?us.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Ki(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new al().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Ld().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new K3;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in PE?a=PE[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Zg;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=$c.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(d)}else return l.data?{data:Ac(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new G_(t);s=new md(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y],A=a(x);A!==null&&(A instanceof HTMLImageElement?m.push(A):m.push(new Nc(A.data,A.width,A.height)))}r[h.uuid]=new qa(m)}else{const m=a(h.url);r[h.uuid]=new qa(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Ac(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new md(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Nc(y.data,y.width,y.height)))}i[l.uuid]=new qa(d)}else{const d=await s(l.url);i[l.uuid]=new qa(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new Bd,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Nc:d=new en,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,l5)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],IE),d.wrapT=i(a.wrap[1],IE)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,DE)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,DE)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new S_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Jg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new jg(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Kt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new yr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new W3(e.color,e.intensity);break;case"DirectionalLight":o=new j_(e.color,e.intensity);break;case"PointLight":o=new W_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new j3(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new V_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new V3(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Qg().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new E_(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Ln(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new b_(d,h,p),o.instanceMatrix=new qc(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new qc(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new A3;break;case"Line":o=new io(a(e.geometry),l(e.material));break;case"LineLoop":o=new T_(a(e.geometry),l(e.material));break;case"LineSegments":o=new Xr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new P_(a(e.geometry),l(e.material));break;case"Sprite":o=new x3(l(e.material));break;case"Group":o=new js;break;case"Bone":o=new Xg;break;default:o=new Pt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],v=o.getObjectByProperty("uuid",y.object);v!==void 0&&o.addLevel(v,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const l5={UVMapping:Ug,CubeReflectionMapping:Yo,CubeRefractionMapping:qo,EquirectangularReflectionMapping:rd,EquirectangularRefractionMapping:sd,CubeUVReflectionMapping:cu},IE={RepeatWrapping:Qo,ClampToEdgeWrapping:Xn,MirroredRepeatWrapping:jc},DE={NearestFilter:mn,NearestMipmapNearestFilter:od,NearestMipmapLinearFilter:Dc,LinearFilter:sn,LinearMipmapNearestFilter:zg,LinearMipmapLinearFilter:hs};class Y3 extends _i{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=gl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){gl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let jp;class J_{static getContext(){return jp===void 0&&(jp=new(window.AudioContext||window.webkitAudioContext)),jp}static setContext(e){jp=e}}class c5 extends _i{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ki(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);J_.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class u5 extends Qg{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new De().set(e),s=new De().set(t),o=new N(r.r,r.g,r.b),a=new N(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class f5 extends Qg{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new De().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const NE=new ot,FE=new ot,Ca=new ot;class d5{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Kt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Kt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ca.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(rl*t.fov*.5)/t.zoom;let a,l;FE.elements[12]=-r,NE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Ca.elements[0]=2*t.near/(l-a),Ca.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ca),a=-o*t.aspect-s,l=o*t.aspect-s,Ca.elements[0]=2*t.near/(l-a),Ca.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ca)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(NE)}}class X_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=kE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=kE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function kE(){return(typeof performance>"u"?Date:performance).now()}const Ea=new N,OE=new Wn,h5=new N,ba=new N;class p5 extends Pt{constructor(){super(),this.type="AudioListener",this.context=J_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new X_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ea,OE,h5),ba.set(0,0,-1).applyQuaternion(OE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ea.x,r),t.positionY.linearRampToValueAtTime(Ea.y,r),t.positionZ.linearRampToValueAtTime(Ea.z,r),t.forwardX.linearRampToValueAtTime(ba.x,r),t.forwardY.linearRampToValueAtTime(ba.y,r),t.forwardZ.linearRampToValueAtTime(ba.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ea.x,Ea.y,Ea.z),t.setOrientation(ba.x,ba.y,ba.z,i.x,i.y,i.z)}}class q3 extends Pt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ta=new N,UE=new Wn,m5=new N,Pa=new N;class g5 extends q3{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ta,UE,m5),Pa.set(0,0,1).applyQuaternion(UE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ta.x,i),t.positionY.linearRampToValueAtTime(Ta.y,i),t.positionZ.linearRampToValueAtTime(Ta.z,i),t.orientationX.linearRampToValueAtTime(Pa.x,i),t.orientationY.linearRampToValueAtTime(Pa.y,i),t.orientationZ.linearRampToValueAtTime(Pa.z,i)}else t.setPosition(Ta.x,Ta.y,Ta.z),t.setOrientation(Pa.x,Pa.y,Pa.z)}}class v5{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class Q3{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Wn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Wn.multiplyQuaternionsFlat(e,o,e,t,e,i),Wn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const K_="\\[\\]\\.:\\/",y5=new RegExp("["+K_+"]","g"),Y_="[^"+K_+"]",x5="[^"+K_.replace("\\.","")+"]",A5=/((?:WC+[\/:])*)/.source.replace("WC",Y_),_5=/(WCOD+)?/.source.replace("WCOD",x5),w5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Y_),M5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Y_),S5=new RegExp("^"+A5+_5+w5+M5+"$"),C5=["material","materials","bones","map"];class E5{constructor(e,t,i){const r=i||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Rt{constructor(e,t,i){this.path=t,this.parsedPath=i||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,i):new Rt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(y5,"")}static parseTrackName(e){const t=S5.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);C5.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rt.Composite=E5;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class b5{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ji(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let v=0,x=o;v!==x;++v)s[v].push(new Rt(p,i[v],r[v]))}else if(y<u){a=e[y];const v=--u,x=e[v];t[x.uuid]=y,e[y]=x,t[m]=v,e[v]=p;for(let A=0,_=o;A!==_;++A){const M=s[A],S=M[v];let E=M[y];M[y]=S,E===void 0&&(E=new Rt(p,i[A],r[A])),M[v]=E}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[u]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const v=i[m],x=v[h],A=v[d];v[d]=x,v[h]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,v=e[y];t[m.uuid]=h,e[h]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let x=0,A=r;x!==A;++x){const _=i[x],M=_[p],S=_[y];_[h]=M,_[p]=S,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,v=r;y!==v;++y){const x=i[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Rt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class T5{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ka,endingEnd:Ka};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=QB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case u_:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case Gg:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===ZB;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===qB){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Ya,r.endingEnd=Ya):(e?r.endingStart=this.zeroSlopeAtStart?Ya:Ka:r.endingStart=ad,t?r.endingEnd=this.zeroSlopeAtEnd?Ya:Ka:r.endingEnd=ad)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const P5=new Float32Array(1);class B5 extends ms{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const v=t&&t._propertyBindings[h].binding.parsedPath;y=new Q3(Rt.create(i,m,v),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new U_(new Float32Array(2),new Float32Array(2),1,P5),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?$c.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Gg),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new T5(this,o,t,i);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?$c.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class q_{constructor(e){this.value=e}clone(){return new q_(this.value.clone===void 0?this.value:this.value.clone())}}let R5=0;class L5 extends ms{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:R5++}),this.name="",this.usage=ld,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class I5 extends Rd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class D5{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Z3{constructor(e,t,i=0,r=1/0){this.ray=new uu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ol,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return RA(e,this,i,t),i.sort(zE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)RA(e[r],this,i,t);return i.sort(zE),i}}function zE(n,e){return n.distance-e.distance}function RA(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)RA(r[s],e,t,!0)}}class LA{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class N5{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const GE=new pe;class F5{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=GE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return GE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const HE=new N,Jp=new N;class k5{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){HE.subVectors(e,this.start),Jp.subVectors(this.end,this.start);const i=Jp.dot(Jp);let s=Jp.dot(HE)/i;return t&&(s=xn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const VE=new N;class O5 extends Pt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ft,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new We(r,3));const s=new li({fog:!1,toneMapped:!1});this.cone=new Xr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),VE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(VE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ao=new N,Xp=new ot,wy=new ot;class U5 extends Xr{constructor(e){const t=$3(e),i=new ft,r=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new We(r,3)),i.setAttribute("color",new We(s,3));const l=new li({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");wy.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Xp.multiplyMatrices(wy,a.matrixWorld),Ao.setFromMatrixPosition(Xp),r.setXYZ(o,Ao.x,Ao.y,Ao.z),Xp.multiplyMatrices(wy,a.parent.matrixWorld),Ao.setFromMatrixPosition(Xp),r.setXYZ(o+1,Ao.x,Ao.y,Ao.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function $3(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,$3(n.children[t]));return e}class z5 extends Ln{constructor(e,t,i){const r=new mu(t,4,2),s=new Wi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const G5=new N,WE=new De,jE=new De;class H5 extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new pu(t);r.rotateY(Math.PI*.5),this.material=new Wi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new kt(o,3)),this.add(new Ln(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");WE.copy(this.light.color),jE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?WE:jE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(G5.setFromMatrixPosition(this.light.matrixWorld).negate())}}class V5 extends Xr{constructor(e=10,t=10,i=4473924,r=8947848){i=new De(i),r=new De(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const v=p===s?i:r;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const d=new ft;d.setAttribute("position",new We(l,3)),d.setAttribute("color",new We(u,3));const h=new li({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class W5 extends Xr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const v=h&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let v=y/r*(Math.PI*2),x=Math.sin(v)*m,A=Math.cos(v)*m;a.push(x,0,A),l.push(p.r,p.g,p.b),v=(y+1)/r*(Math.PI*2),x=Math.sin(v)*m,A=Math.cos(v)*m,a.push(x,0,A),l.push(p.r,p.g,p.b)}}const u=new ft;u.setAttribute("position",new We(a,3)),u.setAttribute("color",new We(l,3));const d=new li({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const JE=new N,Kp=new N,XE=new N;class j5 extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ft;r.setAttribute("position",new We([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new li({fog:!1,toneMapped:!1});this.lightPlane=new io(r,s),this.add(this.lightPlane),r=new ft,r.setAttribute("position",new We([0,0,0,0,0,1],3)),this.targetLine=new io(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),JE.setFromMatrixPosition(this.light.matrixWorld),Kp.setFromMatrixPosition(this.light.target.matrixWorld),XE.subVectors(Kp,JE),this.lightPlane.lookAt(Kp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Kp),this.targetLine.scale.z=XE.length()}}const Yp=new N,hn=new Pd;class J5 extends Xr{constructor(e){const t=new ft,i=new li({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,v){l(y),l(v)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new We(r,3)),t.setAttribute("color",new We(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new De(16755200),d=new De(16711680),h=new De(43775),p=new De(16777215),m=new De(3355443);this.setColors(u,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;hn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),vn("c",t,e,hn,0,0,-1),vn("t",t,e,hn,0,0,1),vn("n1",t,e,hn,-i,-r,-1),vn("n2",t,e,hn,i,-r,-1),vn("n3",t,e,hn,-i,r,-1),vn("n4",t,e,hn,i,r,-1),vn("f1",t,e,hn,-i,-r,1),vn("f2",t,e,hn,i,-r,1),vn("f3",t,e,hn,-i,r,1),vn("f4",t,e,hn,i,r,1),vn("u1",t,e,hn,i*.7,r*1.1,-1),vn("u2",t,e,hn,-i*.7,r*1.1,-1),vn("u3",t,e,hn,0,r*2,-1),vn("cf1",t,e,hn,-i,0,1),vn("cf2",t,e,hn,i,0,1),vn("cf3",t,e,hn,0,-r,1),vn("cf4",t,e,hn,0,r,1),vn("cn1",t,e,hn,-i,0,-1),vn("cn2",t,e,hn,i,0,-1),vn("cn3",t,e,hn,0,-r,-1),vn("cn4",t,e,hn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function vn(n,e,t,i,r,s,o){Yp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],Yp.x,Yp.y,Yp.z)}}const qp=new oa;class X5 extends Xr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ft;s.setIndex(new kt(i,1)),s.setAttribute("position",new kt(r,3)),super(s,new li({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&qp.setFromObject(this.object),qp.isEmpty())return;const t=qp.min,i=qp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class K5 extends Xr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ft;s.setIndex(new kt(i,1)),s.setAttribute("position",new We(r,3)),super(s,new li({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Y5 extends io{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ft;o.setAttribute("position",new We(s,3)),o.computeBoundingSphere(),super(o,new li({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ft;l.setAttribute("position",new We(a,3)),l.computeBoundingSphere(),this.add(new Ln(l,new Wi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const KE=new N;let Qp,My;class q5 extends Pt{constructor(e=new N(0,0,1),t=new N(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Qp===void 0&&(Qp=new ft,Qp.setAttribute("position",new We([0,0,0,0,1,0],3)),My=new Al(0,.5,1,5,1),My.translate(0,-.5,0)),this.position.copy(t),this.line=new io(Qp,new li({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ln(My,new Wi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(KE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Q5 extends Xr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ft;r.setAttribute("position",new We(t,3)),r.setAttribute("color",new We(i,3));const s=new li({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new De,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Z5{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new fd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const _=[];for(let M=0,S=A.length;M<S;M++){const E=A[M],P=new al;P.curves=E.curves,_.push(P)}return _}function i(A,_){const M=_.length;let S=!1;for(let E=M-1,P=0;P<M;E=P++){let L=_[E],b=_[P],R=b.x-L.x,I=b.y-L.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(L=_[P],R=-R,b=_[E],I=-I),A.y<L.y||A.y>b.y)continue;if(A.y===L.y){if(A.x===L.x)return!0}else{const G=I*(A.x-L.x)-R*(A.y-L.y);if(G===0)return!0;if(G<0)continue;S=!S}}else{if(A.y!==L.y)continue;if(b.x<=A.x&&A.x<=L.x||L.x<=A.x&&A.x<=b.x)return!0}}return S}const r=cs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new al,l.curves=a.curves,u.push(l),u;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,v;p[y]=void 0,m[y]=[];for(let A=0,_=s.length;A<_;A++)a=s[A],v=a.getPoints(),o=r(v),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new al,p:v},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let A=!1,_=0;for(let M=0,S=p.length;M<S;M++)h[M]=[];for(let M=0,S=p.length;M<S;M++){const E=m[M];for(let P=0;P<E.length;P++){const L=E[P];let b=!0;for(let R=0;R<p.length;R++)i(L.p,p[R].p)&&(M!==R&&_++,b?(b=!1,h[R].push(L)):A=!0);b&&h[M].push(L)}}_>0&&A===!1&&(m=h)}let x;for(let A=0,_=p.length;A<_;A++){l=p[A].s,u.push(l),x=m[A];for(let M=0,S=x.length;M<S;M++)l.holes.push(x[M].h)}return u}}const Us=$5();function $5(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function e9(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xn(n,-65504,65504),Us.floatView[0]=n;const e=Us.uint32View[0],t=e>>23&511;return Us.baseTable[t]+((e&8388607)>>Us.shiftTable[t])}function t9(n){const e=n>>10;return Us.uint32View[0]=Us.mantissaTable[Us.offsetTable[e]+(n&1023)]+Us.exponentTable[e],Us.floatView[0]}var n9=Object.freeze({__proto__:null,fromHalfFloat:t9,toHalfFloat:e9});class i9 extends la{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class r9 extends Dd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class s9 extends Nd{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class o9 extends Fd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class a9 extends Al{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class l9 extends kd{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class c9 extends Od{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class u9 extends Ud{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class f9 extends hu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class d9 extends pu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class h9 extends fu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class p9 extends so{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class m9 extends zd{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class g9 extends Gd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class v9 extends mu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class y9 extends Hd{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class x9 extends Vd{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class A9 extends Wd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class _9 extends jd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:lu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=lu);const IA=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:l_,AddEquation:Ha,AddOperation:BB,AdditiveAnimationBlendMode:u_,AdditiveBlending:Yx,AlphaFormat:zB,AlwaysDepth:MB,AlwaysStencilFunc:i3,AmbientLight:W3,AmbientLightProbe:f5,AnimationClip:$c,AnimationLoader:e5,AnimationMixer:B5,AnimationObjectGroup:b5,AnimationUtils:qH,ArcCurve:_3,ArrayCamera:m3,ArrowHelper:q5,Audio:q3,AudioAnalyser:v5,AudioContext:J_,AudioListener:p5,AudioLoader:c5,AxesHelper:Q5,BackSide:Li,BasicDepthPacking:e3,BasicShadowMap:cB,Bone:Xg,BooleanKeyframeTrack:_l,Box2:F5,Box3:oa,Box3Helper:K5,BoxBufferGeometry:i9,BoxGeometry:la,BoxHelper:X5,BufferAttribute:kt,BufferGeometry:ft,BufferGeometryLoader:K3,ByteType:NB,Cache:gl,Camera:Pd,CameraHelper:J5,CanvasTexture:AH,CapsuleBufferGeometry:r9,CapsuleGeometry:Dd,CatmullRomCurve3:w3,CineonToneMapping:IB,CircleBufferGeometry:s9,CircleGeometry:Nd,ClampToEdgeWrapping:Xn,Clock:X_,Color:De,ColorKeyframeTrack:z_,ColorManagement:ri,CompressedArrayTexture:xH,CompressedTexture:B_,CompressedTextureLoader:t5,ConeBufferGeometry:o9,ConeGeometry:Fd,CubeCamera:y_,CubeReflectionMapping:Yo,CubeRefractionMapping:qo,CubeTexture:Bd,CubeTextureLoader:n5,CubeUVReflectionMapping:cu,CubicBezierCurve:L_,CubicBezierCurve3:M3,CubicInterpolant:z3,CullFaceBack:Kx,CullFaceFront:lB,CullFaceFrontBack:Ek,CullFaceNone:aB,Curve:Kr,CurvePath:C3,CustomBlending:uB,CustomToneMapping:DB,CylinderBufferGeometry:a9,CylinderGeometry:Al,Cylindrical:N5,Data3DTexture:m_,DataArrayTexture:Hg,DataTexture:Nc,DataTextureLoader:i5,DataUtils:n9,DecrementStencilOp:Fk,DecrementWrapStencilOp:Ok,DefaultLoadingManager:Mc,DepthFormat:jo,DepthStencilFormat:hl,DepthTexture:g3,DirectionalLight:j_,DirectionalLightHelper:j5,DiscreteInterpolant:G3,DodecahedronBufferGeometry:l9,DodecahedronGeometry:kd,DoubleSide:Gr,DstAlphaFactor:vB,DstColorFactor:xB,DynamicCopyUsage:Zk,DynamicDrawUsage:il,DynamicReadUsage:Yk,EdgesGeometry:E3,EllipseCurve:Kg,EqualDepth:CB,EqualStencilFunc:Hk,EquirectangularReflectionMapping:rd,EquirectangularRefractionMapping:sd,Euler:xl,EventDispatcher:ms,ExtrudeBufferGeometry:c9,ExtrudeGeometry:Od,FileLoader:Ki,Float16BufferAttribute:LO,Float32BufferAttribute:We,Float64BufferAttribute:IO,FloatType:Vs,Fog:Jg,FogExp2:jg,FramebufferTexture:yH,FrontSide:ds,Frustum:Vg,GLBufferAttribute:D5,GLSL1:eO,GLSL3:MA,GreaterDepth:bB,GreaterEqualDepth:EB,GreaterEqualStencilFunc:Jk,GreaterStencilFunc:Wk,GridHelper:V5,Group:js,HalfFloatType:Jc,HemisphereLight:V3,HemisphereLightHelper:H5,HemisphereLightProbe:u5,IcosahedronBufferGeometry:u9,IcosahedronGeometry:Ud,ImageBitmapLoader:Y3,ImageLoader:md,ImageUtils:p_,IncrementStencilOp:Nk,IncrementWrapStencilOp:kk,InstancedBufferAttribute:qc,InstancedBufferGeometry:X3,InstancedInterleavedBuffer:I5,InstancedMesh:b_,Int16BufferAttribute:BO,Int32BufferAttribute:RO,Int8BufferAttribute:bO,IntType:kB,InterleavedBuffer:Rd,InterleavedBufferAttribute:Zo,Interpolant:gu,InterpolateDiscrete:Xc,InterpolateLinear:pl,InterpolateSmooth:Cm,InvertStencilOp:Uk,KeepStencilOp:Em,KeyframeTrack:Yr,LOD:A3,LatheBufferGeometry:f9,LatheGeometry:hu,Layers:ol,LessDepth:SB,LessEqualDepth:ig,LessEqualStencilFunc:Vk,LessStencilFunc:Gk,Light:ca,LightProbe:Qg,Line:io,Line3:k5,LineBasicMaterial:li,LineCurve:Yg,LineCurve3:S3,LineDashedMaterial:O3,LineLoop:T_,LineSegments:Xr,LinearEncoding:no,LinearFilter:sn,LinearInterpolant:U_,LinearMipMapLinearFilter:Rk,LinearMipMapNearestFilter:Bk,LinearMipmapLinearFilter:hs,LinearMipmapNearestFilter:zg,LinearSRGBColorSpace:Kc,LinearToneMapping:RB,Loader:_i,LoaderUtils:us,LoadingManager:G_,LoopOnce:qB,LoopPingPong:ZB,LoopRepeat:QB,LuminanceAlphaFormat:HB,LuminanceFormat:GB,MOUSE:ka,Material:En,MaterialLoader:Zg,MathUtils:h_,Matrix3:gi,Matrix4:ot,MaxEquation:$x,Mesh:Ln,MeshBasicMaterial:Wi,MeshDepthMaterial:__,MeshDistanceMaterial:w_,MeshLambertMaterial:F3,MeshMatcapMaterial:k3,MeshNormalMaterial:N3,MeshPhongMaterial:I3,MeshPhysicalMaterial:gs,MeshStandardMaterial:Jd,MeshToonMaterial:D3,MinEquation:Zx,MirroredRepeatWrapping:jc,MixOperation:PB,MultiplyBlending:Qx,MultiplyOperation:Td,NearestFilter:mn,NearestMipMapLinearFilter:Pk,NearestMipMapNearestFilter:Tk,NearestMipmapLinearFilter:Dc,NearestMipmapNearestFilter:od,NeverDepth:wB,NeverStencilFunc:zk,NoBlending:Ks,NoColorSpace:Lk,NoToneMapping:Wr,NormalAnimationBlendMode:Gg,NormalBlending:tl,NotEqualDepth:TB,NotEqualStencilFunc:jk,NumberKeyframeTrack:Qc,Object3D:Pt,ObjectLoader:a5,ObjectSpaceNormalMap:n3,OctahedronBufferGeometry:d9,OctahedronGeometry:pu,OneFactor:pB,OneMinusDstAlphaFactor:yB,OneMinusDstColorFactor:AB,OneMinusSrcAlphaFactor:a_,OneMinusSrcColorFactor:gB,OrthographicCamera:yr,PCFShadowMap:Og,PCFSoftShadowMap:Bf,PMREMGenerator:CA,Path:fd,PerspectiveCamera:Kt,Plane:Os,PlaneBufferGeometry:h9,PlaneGeometry:fu,PlaneHelper:Y5,PointLight:W_,PointLightHelper:z5,Points:P_,PointsMaterial:Id,PolarGridHelper:W5,PolyhedronBufferGeometry:p9,PolyhedronGeometry:so,PositionalAudio:g5,PropertyBinding:Rt,PropertyMixer:Q3,QuadraticBezierCurve:I_,QuadraticBezierCurve3:D_,Quaternion:Wn,QuaternionKeyframeTrack:$o,QuaternionLinearInterpolant:H3,RED_GREEN_RGTC2_Format:_A,RED_RGTC1_Format:YB,REVISION:lu,RGBADepthPacking:t3,RGBAFormat:bi,RGBAIntegerFormat:XB,RGBA_ASTC_10x10_Format:vA,RGBA_ASTC_10x5_Format:pA,RGBA_ASTC_10x6_Format:mA,RGBA_ASTC_10x8_Format:gA,RGBA_ASTC_12x10_Format:yA,RGBA_ASTC_12x12_Format:xA,RGBA_ASTC_4x4_Format:oA,RGBA_ASTC_5x4_Format:aA,RGBA_ASTC_5x5_Format:lA,RGBA_ASTC_6x5_Format:cA,RGBA_ASTC_6x6_Format:uA,RGBA_ASTC_8x5_Format:fA,RGBA_ASTC_8x6_Format:dA,RGBA_ASTC_8x8_Format:hA,RGBA_BPTC_Format:Sm,RGBA_ETC2_EAC_Format:sA,RGBA_PVRTC_2BPPV1_Format:iA,RGBA_PVRTC_4BPPV1_Format:nA,RGBA_S3TC_DXT1_Format:_m,RGBA_S3TC_DXT3_Format:wm,RGBA_S3TC_DXT5_Format:Mm,RGB_ETC1_Format:KB,RGB_ETC2_Format:rA,RGB_PVRTC_2BPPV1_Format:tA,RGB_PVRTC_4BPPV1_Format:eA,RGB_S3TC_DXT1_Format:Am,RGFormat:jB,RGIntegerFormat:JB,RawShaderMaterial:L3,Ray:uu,Raycaster:Z3,RectAreaLight:j3,RedFormat:VB,RedIntegerFormat:WB,ReinhardToneMapping:LB,RepeatWrapping:Qo,ReplaceStencilOp:Dk,ReverseSubtractEquation:dB,RingBufferGeometry:m9,RingGeometry:zd,SIGNED_RED_GREEN_RGTC2_Format:wA,SIGNED_RED_RGTC1_Format:AA,SRGBColorSpace:Or,Scene:S_,ShaderChunk:gt,ShaderLib:zr,ShaderMaterial:ps,ShadowMaterial:R3,Shape:al,ShapeBufferGeometry:g9,ShapeGeometry:Gd,ShapePath:Z5,ShapeUtils:cs,ShortType:FB,Skeleton:Ld,SkeletonHelper:U5,SkinnedMesh:E_,Source:qa,Sphere:aa,SphereBufferGeometry:v9,SphereGeometry:mu,Spherical:LA,SphericalHarmonics3:J3,SplineCurve:N_,SpotLight:V_,SpotLightHelper:O5,Sprite:x3,SpriteMaterial:C_,SrcAlphaFactor:o_,SrcAlphaSaturateFactor:_B,SrcColorFactor:mB,StaticCopyUsage:Qk,StaticDrawUsage:ld,StaticReadUsage:Kk,StereoCamera:d5,StreamCopyUsage:$k,StreamDrawUsage:Xk,StreamReadUsage:qk,StringKeyframeTrack:wl,SubtractEquation:fB,SubtractiveBlending:qx,TOUCH:Oa,TangentSpaceNormalMap:sa,TetrahedronBufferGeometry:y9,TetrahedronGeometry:Hd,Texture:en,TextureLoader:Xd,TorusBufferGeometry:x9,TorusGeometry:Vd,TorusKnotBufferGeometry:A9,TorusKnotGeometry:Wd,Triangle:gr,TriangleFanDrawMode:rg,TriangleStripDrawMode:f_,TrianglesDrawMode:$B,TubeBufferGeometry:_9,TubeGeometry:jd,TwoPassDoubleSide:bk,UVMapping:Ug,Uint16BufferAttribute:g_,Uint32BufferAttribute:v_,Uint8BufferAttribute:TO,Uint8ClampedBufferAttribute:PO,Uniform:q_,UniformsGroup:L5,UniformsLib:Be,UniformsUtils:l3,UnsignedByteType:to,UnsignedInt248Type:nl,UnsignedIntType:Do,UnsignedShort4444Type:OB,UnsignedShort5551Type:UB,UnsignedShortType:c_,VSMShadowMap:Xa,Vector2:pe,Vector3:N,Vector4:zt,VectorKeyframeTrack:Zc,VideoTexture:vH,WebGL1Renderer:v3,WebGL3DRenderTarget:vO,WebGLArrayRenderTarget:gO,WebGLCubeRenderTarget:x_,WebGLMultipleRenderTargets:yO,WebGLRenderTarget:Jr,WebGLRenderer:M_,WebGLUtils:p3,WireframeGeometry:B3,WrapAroundEnding:ad,ZeroCurvatureEnding:Ka,ZeroFactor:hB,ZeroSlopeEnding:Ya,ZeroStencilOp:Ik,_SRGBAFormat:sg,sRGBEncoding:Vt},Symbol.toStringTag,{value:"Module"}));var eR={exports:{}},Ml={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ml.ConcurrentRoot=1;Ml.ContinuousEventPriority=4;Ml.DefaultEventPriority=16;Ml.DiscreteEventPriority=1;Ml.IdleEventPriority=536870912;Ml.LegacyRoot=0;eR.exports=Ml;var Sc=eR.exports;function w9(n){let e;const t=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const v=p;u(p=y,v)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,d,h)=>d||h?s(u,d,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const M9=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YE=M9?U.useEffect:U.useLayoutEffect;function tR(n){const e=typeof n=="function"?w9(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=U.useReducer(x=>x+1,0),o=e.getState(),a=U.useRef(o),l=U.useRef(i),u=U.useRef(r),d=U.useRef(!1),h=U.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),YE(()=>{m&&(h.current=p),a.current=o,l.current=i,u.current=r,d.current=!1});const y=U.useRef(o);YE(()=>{const x=()=>{try{const _=e.getState(),M=l.current(_);u.current(h.current,M)||(a.current=_,h.current=M,s())}catch{d.current=!0,s()}},A=e.subscribe(x);return e.getState()!==y.current&&x(),A},[]);const v=m?p:h.current;return U.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var nR={exports:{}},iR={exports:{}},rR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,j){var Y=k.length;k.push(j);e:for(;0<Y;){var oe=Y-1>>>1,X=k[oe];if(0<r(X,j))k[oe]=j,k[Y]=X,Y=oe;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var j=k[0],Y=k.pop();if(Y!==j){k[0]=Y;e:for(var oe=0,X=k.length,re=X>>>1;oe<re;){var ye=2*(oe+1)-1,_e=k[ye],$=ye+1,ke=k[$];if(0>r(_e,Y))$<X&&0>r(ke,_e)?(k[oe]=ke,k[$]=Y,oe=$):(k[oe]=_e,k[ye]=Y,oe=ye);else if($<X&&0>r(ke,Y))k[oe]=ke,k[$]=Y,oe=$;else break e}}return j}function r(k,j){var Y=k.sortIndex-j.sortIndex;return Y!==0?Y:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(k){for(var j=t(u);j!==null;){if(j.callback===null)i(u);else if(j.startTime<=k)i(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function S(k){if(v=!1,M(k),!y)if(t(l)!==null)y=!0,ie(E);else{var j=t(u);j!==null&&ce(S,j.startTime-k)}}function E(k,j){y=!1,v&&(v=!1,A(b),b=-1),m=!0;var Y=p;try{for(M(j),h=t(l);h!==null&&(!(h.expirationTime>j)||k&&!G());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var X=oe(h.expirationTime<=j);j=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&i(l),M(j)}else i(l);h=t(l)}if(h!==null)var re=!0;else{var ye=t(u);ye!==null&&ce(S,ye.startTime-j),re=!1}return re}finally{h=null,p=Y,m=!1}}var P=!1,L=null,b=-1,R=5,I=-1;function G(){return!(n.unstable_now()-I<R)}function ee(){if(L!==null){var k=n.unstable_now();I=k;var j=!0;try{j=L(!0,k)}finally{j?W():(P=!1,L=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(ee)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=ee,W=function(){q.postMessage(null)}}else W=function(){x(ee,0)};function ie(k){L=k,P||(P=!0,W())}function ce(k,j){b=x(function(){k(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ie(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var Y=p;p=j;try{return k()}finally{p=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Y=p;p=k;try{return j()}finally{p=Y}},n.unstable_scheduleCallback=function(k,j,Y){var oe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,k={id:d++,callback:j,priorityLevel:k,startTime:Y,expirationTime:X,sortIndex:-1},Y>oe?(k.sortIndex=Y,e(u,k),t(l)===null&&k===t(u)&&(v?(A(b),b=-1):v=!0,ce(S,Y-oe))):(k.sortIndex=X,e(l,k),y||m||(y=!0,ie(E))),k},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(k){var j=p;return function(){var Y=p;p=j;try{return k.apply(this,arguments)}finally{p=Y}}}})(rR);iR.exports=rR;var DA=iR.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9=function(e){var t={},i=U,r=DA,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=E&&c[E]||c["@@iterator"],typeof c=="function"?c:null)}function L(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case v:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return f=c.displayName||null,f!==null?f:L(c.type)||"Memo";case M:f=c._payload,c=c._init;try{return L(c(f))}catch{}}return null}function b(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function I(c){if(R(c)!==c)throw Error(o(188))}function G(c){var f=c.alternate;if(!f){if(f=R(c),f===null)throw Error(o(188));return f!==c?null:c}for(var g=c,w=f;;){var C=g.return;if(C===null)break;var T=C.alternate;if(T===null){if(w=C.return,w!==null){g=w;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===g)return I(C),c;if(T===w)return I(C),f;T=T.sibling}throw Error(o(188))}if(g.return!==w.return)g=C,w=T;else{for(var O=!1,K=C.child;K;){if(K===g){O=!0,g=C,w=T;break}if(K===w){O=!0,w=C,g=T;break}K=K.sibling}if(!O){for(K=T.child;K;){if(K===g){O=!0,g=T,w=C;break}if(K===w){O=!0,w=T,g=C;break}K=K.sibling}if(!O)throw Error(o(189))}}if(g.alternate!==w)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?c:f}function ee(c){return c=G(c),c!==null?W(c):null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=W(c);if(f!==null)return f;c=c.sibling}return null}function V(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=V(c);if(f!==null)return f}c=c.sibling}return null}var q=Array.isArray,ie=e.getPublicInstance,ce=e.getRootHostContext,k=e.getChildHostContext,j=e.prepareForCommit,Y=e.resetAfterCommit,oe=e.createInstance,X=e.appendInitialChild,re=e.finalizeInitialChildren,ye=e.prepareUpdate,_e=e.shouldSetTextContent,$=e.createTextInstance,ke=e.scheduleTimeout,Oe=e.cancelTimeout,Ve=e.noTimeout,we=e.isPrimaryRenderer,Re=e.supportsMutation,de=e.supportsPersistence,le=e.supportsHydration,Ce=e.getInstanceFromNode,ze=e.preparePortalMount,Pe=e.getCurrentEventPriority,$e=e.detachDeletedInstance,qe=e.supportsMicrotasks,Je=e.scheduleMicrotask,_t=e.supportsTestSelectors,wt=e.findFiberRoot,z=e.getBoundingRect,D=e.getTextContent,ae=e.isHiddenSubtree,Me=e.matchAccessibilityRole,Ee=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,it=e.appendChild,Ne=e.appendChildToContainer,ge=e.commitTextUpdate,Qe=e.commitMount,rt=e.commitUpdate,je=e.insertBefore,et=e.insertInContainerBefore,Xe=e.removeChild,J=e.removeChildFromContainer,ve=e.resetTextContent,Ue=e.hideInstance,H=e.hideTextInstance,se=e.unhideInstance,xe=e.unhideTextInstance,Le=e.clearContainer,Ke=e.cloneInstance,Mt=e.createContainerChildSet,Ot=e.appendChildToContainerChildSet,Ht=e.finalizeContainerChildren,qn=e.replaceContainerChildren,Lt=e.cloneHiddenInstance,Fn=e.cloneHiddenTextInstance,bn=e.canHydrateInstance,eh=e.canHydrateTextInstance,f0=e.canHydrateSuspenseInstance,th=e.isSuspenseInstancePending,xu=e.isSuspenseInstanceFallback,F=e.registerSuspenseInstanceRetry,te=e.getNextHydratableSibling,he=e.getFirstHydratableChild,Z=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,tt=e.hydrateInstance,lt=e.hydrateTextInstance,ht=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,bt=e.commitHydratedContainer,St=e.commitHydratedSuspenseInstance,Ct=e.clearSuspenseBoundary,un=e.clearSuspenseBoundaryFromContainer,ci=e.shouldDeleteUnhydratedTailInstances,Er=e.didNotMatchHydratedContainerTextInstance,ys=e.didNotMatchHydratedTextInstance,qt;function pt(c){if(qt===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);qt=f&&f[1]||""}return`
`+qt+c}var da=!1;function fn(c,f){if(!c||da)return"";da=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(be){var w=be}Reflect.construct(c,[],f)}else{try{f.call()}catch(be){w=be}c.call(f.prototype)}else{try{throw Error()}catch(be){w=be}c()}}catch(be){if(be&&w&&typeof be.stack=="string"){for(var C=be.stack.split(`
`),T=w.stack.split(`
`),O=C.length-1,K=T.length-1;1<=O&&0<=K&&C[O]!==T[K];)K--;for(;1<=O&&0<=K;O--,K--)if(C[O]!==T[K]){if(O!==1||K!==1)do if(O--,K--,0>K||C[O]!==T[K]){var fe=`
`+C[O].replace(" at new "," at ");return c.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",c.displayName)),fe}while(1<=O&&0<=K);break}}}finally{da=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?pt(c):""}var xs=Object.prototype.hasOwnProperty,El=[],Zi=-1;function $i(c){return{current:c}}function dt(c){0>Zi||(c.current=El[Zi],El[Zi]=null,Zi--)}function Bt(c,f){Zi++,El[Zi]=c.current,c.current=f}var er={},Ut=$i(er),kn=$i(!1),As=er;function _s(c,f){var g=c.type.contextTypes;if(!g)return er;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var C={},T;for(T in g)C[T]=f[T];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=C),C}function wi(c){return c=c.childContextTypes,c!=null}function nh(){dt(kn),dt(Ut)}function Lw(c,f,g){if(Ut.current!==er)throw Error(o(168));Bt(Ut,f),Bt(kn,g)}function Iw(c,f,g){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var C in w)if(!(C in f))throw Error(o(108,b(c)||"Unknown",C));return s({},g,w)}function ih(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||er,As=Ut.current,Bt(Ut,c),Bt(kn,kn.current),!0}function Dw(c,f,g){var w=c.stateNode;if(!w)throw Error(o(169));g?(c=Iw(c,f,As),w.__reactInternalMemoizedMergedChildContext=c,dt(kn),dt(Ut),Bt(Ut,c)):dt(kn),Bt(kn,g)}var br=Math.clz32?Math.clz32:cI,aI=Math.log,lI=Math.LN2;function cI(c){return c>>>=0,c===0?32:31-(aI(c)/lI|0)|0}var rh=64,sh=4194304;function Au(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function oh(c,f){var g=c.pendingLanes;if(g===0)return 0;var w=0,C=c.suspendedLanes,T=c.pingedLanes,O=g&268435455;if(O!==0){var K=O&~C;K!==0?w=Au(K):(T&=O,T!==0&&(w=Au(T)))}else O=g&~C,O!==0?w=Au(O):T!==0&&(w=Au(T));if(w===0)return 0;if(f!==0&&f!==w&&!(f&C)&&(C=w&-w,T=f&-f,C>=T||C===16&&(T&4194240)!==0))return f;if(w&4&&(w|=g&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)g=31-br(f),C=1<<g,w|=c[g],f&=~C;return w}function uI(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fI(c,f){for(var g=c.suspendedLanes,w=c.pingedLanes,C=c.expirationTimes,T=c.pendingLanes;0<T;){var O=31-br(T),K=1<<O,fe=C[O];fe===-1?(!(K&g)||K&w)&&(C[O]=uI(K,f)):fe<=f&&(c.expiredLanes|=K),T&=~K}}function d0(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function h0(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function _u(c,f,g){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-br(f),c[f]=g}function dI(c,f){var g=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var C=31-br(g),T=1<<C;f[C]=0,w[C]=-1,c[C]=-1,g&=~T}}function p0(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var w=31-br(g),C=1<<w;C&f|c[w]&f&&(c[w]|=f),g&=~C}}var Dt=0;function Nw(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var m0=r.unstable_scheduleCallback,Fw=r.unstable_cancelCallback,hI=r.unstable_shouldYield,pI=r.unstable_requestPaint,On=r.unstable_now,g0=r.unstable_ImmediatePriority,mI=r.unstable_UserBlockingPriority,v0=r.unstable_NormalPriority,gI=r.unstable_IdlePriority,ah=null,qr=null;function vI(c){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(ah,c,void 0,(c.current.flags&128)===128)}catch{}}function yI(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Qr=typeof Object.is=="function"?Object.is:yI,ws=null,lh=!1,y0=!1;function kw(c){ws===null?ws=[c]:ws.push(c)}function xI(c){lh=!0,kw(c)}function Zr(){if(!y0&&ws!==null){y0=!0;var c=0,f=Dt;try{var g=ws;for(Dt=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}ws=null,lh=!1}catch(C){throw ws!==null&&(ws=ws.slice(c+1)),m0(g0,Zr),C}finally{Dt=f,y0=!1}}return null}var AI=a.ReactCurrentBatchConfig;function ch(c,f){if(Qr(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var C=g[w];if(!xs.call(f,C)||!Qr(c[C],f[C]))return!1}return!0}function _I(c){switch(c.tag){case 5:return pt(c.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 2:case 15:return c=fn(c.type,!1),c;case 11:return c=fn(c.type.render,!1),c;case 1:return c=fn(c.type,!0),c;default:return""}}function Tr(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var g in c)f[g]===void 0&&(f[g]=c[g]);return f}return f}var uh=$i(null),fh=null,bl=null,x0=null;function A0(){x0=bl=fh=null}function Ow(c,f,g){we?(Bt(uh,f._currentValue),f._currentValue=g):(Bt(uh,f._currentValue2),f._currentValue2=g)}function _0(c){var f=uh.current;dt(uh),we?c._currentValue=f:c._currentValue2=f}function w0(c,f,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===g)break;c=c.return}}function Tl(c,f){fh=c,x0=bl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(ki=!0),c.firstContext=null)}function tr(c){var f=we?c._currentValue:c._currentValue2;if(x0!==c)if(c={context:c,memoizedValue:f,next:null},bl===null){if(fh===null)throw Error(o(308));bl=c,fh.dependencies={lanes:0,firstContext:c}}else bl=bl.next=c;return f}var $r=null,oo=!1;function M0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ms(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function ao(c,f){var g=c.updateQueue;g!==null&&(g=g.shared,_n!==null&&c.mode&1&&!(yt&2)?(c=g.interleaved,c===null?(f.next=f,$r===null?$r=[g]:$r.push(g)):(f.next=c.next,c.next=f),g.interleaved=f):(c=g.pending,c===null?f.next=f:(f.next=c.next,c.next=f),g.pending=f))}function dh(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,p0(c,g)}}function zw(c,f){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var C=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var O={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?C=T=O:T=T.next=O,g=g.next}while(g!==null);T===null?C=T=f:T=T.next=f}else C=T=f;g={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function hh(c,f,g,w){var C=c.updateQueue;oo=!1;var T=C.firstBaseUpdate,O=C.lastBaseUpdate,K=C.shared.pending;if(K!==null){C.shared.pending=null;var fe=K,be=fe.next;fe.next=null,O===null?T=be:O.next=be,O=fe;var He=c.alternate;He!==null&&(He=He.updateQueue,K=He.lastBaseUpdate,K!==O&&(K===null?He.firstBaseUpdate=be:K.next=be,He.lastBaseUpdate=fe))}if(T!==null){var ct=C.baseState;O=0,He=be=fe=null,K=T;do{var nt=K.lane,Wt=K.eventTime;if((w&nt)===nt){He!==null&&(He=He.next={eventTime:Wt,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ze=c,ei=K;switch(nt=f,Wt=g,ei.tag){case 1:if(Ze=ei.payload,typeof Ze=="function"){ct=Ze.call(Wt,ct,nt);break e}ct=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ei.payload,nt=typeof Ze=="function"?Ze.call(Wt,ct,nt):Ze,nt==null)break e;ct=s({},ct,nt);break e;case 2:oo=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,nt=C.effects,nt===null?C.effects=[K]:nt.push(K))}else Wt={eventTime:Wt,lane:nt,tag:K.tag,payload:K.payload,callback:K.callback,next:null},He===null?(be=He=Wt,fe=ct):He=He.next=Wt,O|=nt;if(K=K.next,K===null){if(K=C.shared.pending,K===null)break;nt=K,K=nt.next,nt.next=null,C.lastBaseUpdate=nt,C.shared.pending=null}}while(1);if(He===null&&(fe=ct),C.baseState=fe,C.firstBaseUpdate=be,C.lastBaseUpdate=He,f=C.shared.interleaved,f!==null){C=f;do O|=C.lane,C=C.next;while(C!==f)}else T===null&&(C.shared.lanes=0);kl|=O,c.lanes=O,c.memoizedState=ct}}function Gw(c,f,g){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],C=w.callback;if(C!==null){if(w.callback=null,w=g,typeof C!="function")throw Error(o(191,C));C.call(w)}}}var Hw=new i.Component().refs;function S0(c,f,g,w){f=c.memoizedState,g=g(w,f),g=g==null?f:s({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var ph={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var w=fi(),C=uo(c),T=Ms(w,C);T.payload=f,g!=null&&(T.callback=g),ao(c,T),f=or(c,C,w),f!==null&&dh(f,c,C)},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var w=fi(),C=uo(c),T=Ms(w,C);T.tag=1,T.payload=f,g!=null&&(T.callback=g),ao(c,T),f=or(c,C,w),f!==null&&dh(f,c,C)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=fi(),w=uo(c),C=Ms(g,w);C.tag=2,f!=null&&(C.callback=f),ao(c,C),f=or(c,w,g),f!==null&&dh(f,c,w)}};function Vw(c,f,g,w,C,T,O){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,T,O):f.prototype&&f.prototype.isPureReactComponent?!ch(g,w)||!ch(C,T):!0}function Ww(c,f,g){var w=!1,C=er,T=f.contextType;return typeof T=="object"&&T!==null?T=tr(T):(C=wi(f)?As:Ut.current,w=f.contextTypes,T=(w=w!=null)?_s(c,C):er),f=new f(g,T),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ph,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=C,c.__reactInternalMemoizedMaskedChildContext=T),f}function jw(c,f,g,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==c&&ph.enqueueReplaceState(f,f.state,null)}function C0(c,f,g,w){var C=c.stateNode;C.props=g,C.state=c.memoizedState,C.refs=Hw,M0(c);var T=f.contextType;typeof T=="object"&&T!==null?C.context=tr(T):(T=wi(f)?As:Ut.current,C.context=_s(c,T)),C.state=c.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(S0(c,f,T,g),C.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(f=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),f!==C.state&&ph.enqueueReplaceState(C,C.state,null),hh(c,g,C,w),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308)}var Pl=[],Bl=0,mh=null,gh=0,nr=[],ir=0,ha=null,Ss=1,Cs="";function pa(c,f){Pl[Bl++]=gh,Pl[Bl++]=mh,mh=c,gh=f}function Jw(c,f,g){nr[ir++]=Ss,nr[ir++]=Cs,nr[ir++]=ha,ha=c;var w=Ss;c=Cs;var C=32-br(w)-1;w&=~(1<<C),g+=1;var T=32-br(f)+C;if(30<T){var O=C-C%5;T=(w&(1<<O)-1).toString(32),w>>=O,C-=O,Ss=1<<32-br(f)+C|g<<C|w,Cs=T+c}else Ss=1<<T|g<<C|w,Cs=c}function E0(c){c.return!==null&&(pa(c,1),Jw(c,1,0))}function b0(c){for(;c===mh;)mh=Pl[--Bl],Pl[Bl]=null,gh=Pl[--Bl],Pl[Bl]=null;for(;c===ha;)ha=nr[--ir],nr[ir]=null,Cs=nr[--ir],nr[ir]=null,Ss=nr[--ir],nr[ir]=null}var Ni=null,Fi=null,Qt=!1,wu=!1,Pr=null;function Xw(c,f){var g=ar(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=c,f=c.deletions,f===null?(c.deletions=[g],c.flags|=16):f.push(g)}function Kw(c,f){switch(c.tag){case 5:return f=bn(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,Ni=c,Fi=he(f),!0):!1;case 6:return f=eh(f,c.pendingProps),f!==null?(c.stateNode=f,Ni=c,Fi=null,!0):!1;case 13:if(f=f0(f),f!==null){var g=ha!==null?{id:Ss,overflow:Cs}:null;return c.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=ar(18,null,null,0),g.stateNode=f,g.return=c,c.child=g,Ni=c,Fi=null,!0}return!1;default:return!1}}function T0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function P0(c){if(Qt){var f=Fi;if(f){var g=f;if(!Kw(c,f)){if(T0(c))throw Error(o(418));f=te(g);var w=Ni;f&&Kw(c,f)?Xw(w,g):(c.flags=c.flags&-4097|2,Qt=!1,Ni=c)}}else{if(T0(c))throw Error(o(418));c.flags=c.flags&-4097|2,Qt=!1,Ni=c}}}function Yw(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ni=c}function Mu(c){if(!le||c!==Ni)return!1;if(!Qt)return Yw(c),Qt=!0,!1;if(c.tag!==3&&(c.tag!==5||ci(c.type)&&!_e(c.type,c.memoizedProps))){var f=Fi;if(f){if(T0(c)){for(c=Fi;c;)c=te(c);throw Error(o(418))}for(;f;)Xw(c,f),f=te(f)}}if(Yw(c),c.tag===13){if(!le)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Fi=vt(c)}else Fi=Ni?te(c.stateNode):null;return!0}function Rl(){le&&(Fi=Ni=null,wu=Qt=!1)}function B0(c){Pr===null?Pr=[c]:Pr.push(c)}function Su(c,f,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var w=g.stateNode}if(!w)throw Error(o(147,c));var C=w,T=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===T?f.ref:(f=function(O){var K=C.refs;K===Hw&&(K=C.refs={}),O===null?delete K[T]:K[T]=O},f._stringRef=T,f)}if(typeof c!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,c))}return c}function vh(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function qw(c){var f=c._init;return f(c._payload)}function Qw(c){function f(ne,Q){if(c){var ue=ne.deletions;ue===null?(ne.deletions=[Q],ne.flags|=16):ue.push(Q)}}function g(ne,Q){if(!c)return null;for(;Q!==null;)f(ne,Q),Q=Q.sibling;return null}function w(ne,Q){for(ne=new Map;Q!==null;)Q.key!==null?ne.set(Q.key,Q):ne.set(Q.index,Q),Q=Q.sibling;return ne}function C(ne,Q){return ne=ho(ne,Q),ne.index=0,ne.sibling=null,ne}function T(ne,Q,ue){return ne.index=ue,c?(ue=ne.alternate,ue!==null?(ue=ue.index,ue<Q?(ne.flags|=2,Q):ue):(ne.flags|=2,Q)):(ne.flags|=1048576,Q)}function O(ne){return c&&ne.alternate===null&&(ne.flags|=2),ne}function K(ne,Q,ue,Fe){return Q===null||Q.tag!==6?(Q=hv(ue,ne.mode,Fe),Q.return=ne,Q):(Q=C(Q,ue),Q.return=ne,Q)}function fe(ne,Q,ue,Fe){var Ye=ue.type;return Ye===d?He(ne,Q,ue.props.children,Fe,ue.key):Q!==null&&(Q.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&qw(Ye)===Q.type)?(Fe=C(Q,ue.props),Fe.ref=Su(ne,Q,ue),Fe.return=ne,Fe):(Fe=Kh(ue.type,ue.key,ue.props,null,ne.mode,Fe),Fe.ref=Su(ne,Q,ue),Fe.return=ne,Fe)}function be(ne,Q,ue,Fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ue.containerInfo||Q.stateNode.implementation!==ue.implementation?(Q=pv(ue,ne.mode,Fe),Q.return=ne,Q):(Q=C(Q,ue.children||[]),Q.return=ne,Q)}function He(ne,Q,ue,Fe,Ye){return Q===null||Q.tag!==7?(Q=_a(ue,ne.mode,Fe,Ye),Q.return=ne,Q):(Q=C(Q,ue),Q.return=ne,Q)}function ct(ne,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=hv(""+Q,ne.mode,ue),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return ue=Kh(Q.type,Q.key,Q.props,null,ne.mode,ue),ue.ref=Su(ne,null,Q),ue.return=ne,ue;case u:return Q=pv(Q,ne.mode,ue),Q.return=ne,Q;case M:var Fe=Q._init;return ct(ne,Fe(Q._payload),ue)}if(q(Q)||P(Q))return Q=_a(Q,ne.mode,ue,null),Q.return=ne,Q;vh(ne,Q)}return null}function nt(ne,Q,ue,Fe){var Ye=Q!==null?Q.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ye!==null?null:K(ne,Q,""+ue,Fe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Ye?fe(ne,Q,ue,Fe):null;case u:return ue.key===Ye?be(ne,Q,ue,Fe):null;case M:return Ye=ue._init,nt(ne,Q,Ye(ue._payload),Fe)}if(q(ue)||P(ue))return Ye!==null?null:He(ne,Q,ue,Fe,null);vh(ne,ue)}return null}function Wt(ne,Q,ue,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ne=ne.get(ue)||null,K(Q,ne,""+Fe,Ye);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return ne=ne.get(Fe.key===null?ue:Fe.key)||null,fe(Q,ne,Fe,Ye);case u:return ne=ne.get(Fe.key===null?ue:Fe.key)||null,be(Q,ne,Fe,Ye);case M:var mt=Fe._init;return Wt(ne,Q,ue,mt(Fe._payload),Ye)}if(q(Fe)||P(Fe))return ne=ne.get(ue)||null,He(Q,ne,Fe,Ye,null);vh(Q,Fe)}return null}function Ze(ne,Q,ue,Fe){for(var Ye=null,mt=null,ut=Q,Nt=Q=0,zn=null;ut!==null&&Nt<ue.length;Nt++){ut.index>Nt?(zn=ut,ut=null):zn=ut.sibling;var Ft=nt(ne,ut,ue[Nt],Fe);if(Ft===null){ut===null&&(ut=zn);break}c&&ut&&Ft.alternate===null&&f(ne,ut),Q=T(Ft,Q,Nt),mt===null?Ye=Ft:mt.sibling=Ft,mt=Ft,ut=zn}if(Nt===ue.length)return g(ne,ut),Qt&&pa(ne,Nt),Ye;if(ut===null){for(;Nt<ue.length;Nt++)ut=ct(ne,ue[Nt],Fe),ut!==null&&(Q=T(ut,Q,Nt),mt===null?Ye=ut:mt.sibling=ut,mt=ut);return Qt&&pa(ne,Nt),Ye}for(ut=w(ne,ut);Nt<ue.length;Nt++)zn=Wt(ut,ne,Nt,ue[Nt],Fe),zn!==null&&(c&&zn.alternate!==null&&ut.delete(zn.key===null?Nt:zn.key),Q=T(zn,Q,Nt),mt===null?Ye=zn:mt.sibling=zn,mt=zn);return c&&ut.forEach(function(po){return f(ne,po)}),Qt&&pa(ne,Nt),Ye}function ei(ne,Q,ue,Fe){var Ye=P(ue);if(typeof Ye!="function")throw Error(o(150));if(ue=Ye.call(ue),ue==null)throw Error(o(151));for(var mt=Ye=null,ut=Q,Nt=Q=0,zn=null,Ft=ue.next();ut!==null&&!Ft.done;Nt++,Ft=ue.next()){ut.index>Nt?(zn=ut,ut=null):zn=ut.sibling;var po=nt(ne,ut,Ft.value,Fe);if(po===null){ut===null&&(ut=zn);break}c&&ut&&po.alternate===null&&f(ne,ut),Q=T(po,Q,Nt),mt===null?Ye=po:mt.sibling=po,mt=po,ut=zn}if(Ft.done)return g(ne,ut),Qt&&pa(ne,Nt),Ye;if(ut===null){for(;!Ft.done;Nt++,Ft=ue.next())Ft=ct(ne,Ft.value,Fe),Ft!==null&&(Q=T(Ft,Q,Nt),mt===null?Ye=Ft:mt.sibling=Ft,mt=Ft);return Qt&&pa(ne,Nt),Ye}for(ut=w(ne,ut);!Ft.done;Nt++,Ft=ue.next())Ft=Wt(ut,ne,Nt,Ft.value,Fe),Ft!==null&&(c&&Ft.alternate!==null&&ut.delete(Ft.key===null?Nt:Ft.key),Q=T(Ft,Q,Nt),mt===null?Ye=Ft:mt.sibling=Ft,mt=Ft);return c&&ut.forEach(function(QI){return f(ne,QI)}),Qt&&pa(ne,Nt),Ye}function lr(ne,Q,ue,Fe){if(typeof ue=="object"&&ue!==null&&ue.type===d&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Ye=ue.key,mt=Q;mt!==null;){if(mt.key===Ye){if(Ye=ue.type,Ye===d){if(mt.tag===7){g(ne,mt.sibling),Q=C(mt,ue.props.children),Q.return=ne,ne=Q;break e}}else if(mt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&qw(Ye)===mt.type){g(ne,mt.sibling),Q=C(mt,ue.props),Q.ref=Su(ne,mt,ue),Q.return=ne,ne=Q;break e}g(ne,mt);break}else f(ne,mt);mt=mt.sibling}ue.type===d?(Q=_a(ue.props.children,ne.mode,Fe,ue.key),Q.return=ne,ne=Q):(Fe=Kh(ue.type,ue.key,ue.props,null,ne.mode,Fe),Fe.ref=Su(ne,Q,ue),Fe.return=ne,ne=Fe)}return O(ne);case u:e:{for(mt=ue.key;Q!==null;){if(Q.key===mt)if(Q.tag===4&&Q.stateNode.containerInfo===ue.containerInfo&&Q.stateNode.implementation===ue.implementation){g(ne,Q.sibling),Q=C(Q,ue.children||[]),Q.return=ne,ne=Q;break e}else{g(ne,Q);break}else f(ne,Q);Q=Q.sibling}Q=pv(ue,ne.mode,Fe),Q.return=ne,ne=Q}return O(ne);case M:return mt=ue._init,lr(ne,Q,mt(ue._payload),Fe)}if(q(ue))return Ze(ne,Q,ue,Fe);if(P(ue))return ei(ne,Q,ue,Fe);vh(ne,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,Q!==null&&Q.tag===6?(g(ne,Q.sibling),Q=C(Q,ue),Q.return=ne,ne=Q):(g(ne,Q),Q=hv(ue,ne.mode,Fe),Q.return=ne,ne=Q),O(ne)):g(ne,Q)}return lr}var Ll=Qw(!0),Zw=Qw(!1),Cu={},rr=$i(Cu),Eu=$i(Cu),Il=$i(Cu);function es(c){if(c===Cu)throw Error(o(174));return c}function R0(c,f){Bt(Il,f),Bt(Eu,c),Bt(rr,Cu),c=ce(f),dt(rr),Bt(rr,c)}function Dl(){dt(rr),dt(Eu),dt(Il)}function $w(c){var f=es(Il.current),g=es(rr.current);f=k(g,c.type,f),g!==f&&(Bt(Eu,c),Bt(rr,f))}function L0(c){Eu.current===c&&(dt(rr),dt(Eu))}var tn=$i(0);function yh(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||th(g)||xu(g)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var I0=[];function D0(){for(var c=0;c<I0.length;c++){var f=I0[c];we?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}I0.length=0}var xh=a.ReactCurrentDispatcher,sr=a.ReactCurrentBatchConfig,Nl=0,dn=null,Qn=null,Un=null,Ah=!1,bu=!1,Tu=0,wI=0;function Zn(){throw Error(o(321))}function N0(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Qr(c[g],f[g]))return!1;return!0}function F0(c,f,g,w,C,T){if(Nl=T,dn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,xh.current=c===null||c.memoizedState===null?EI:bI,c=g(w,C),bu){T=0;do{if(bu=!1,Tu=0,25<=T)throw Error(o(301));T+=1,Un=Qn=null,f.updateQueue=null,xh.current=TI,c=g(w,C)}while(bu)}if(xh.current=Ch,f=Qn!==null&&Qn.next!==null,Nl=0,Un=Qn=dn=null,Ah=!1,f)throw Error(o(300));return c}function k0(){var c=Tu!==0;return Tu=0,c}function Es(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?dn.memoizedState=Un=c:Un=Un.next=c,Un}function ts(){if(Qn===null){var c=dn.alternate;c=c!==null?c.memoizedState:null}else c=Qn.next;var f=Un===null?dn.memoizedState:Un.next;if(f!==null)Un=f,Qn=c;else{if(c===null)throw Error(o(310));Qn=c,c={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},Un===null?dn.memoizedState=Un=c:Un=Un.next=c}return Un}function ma(c,f){return typeof f=="function"?f(c):f}function _h(c){var f=ts(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var w=Qn,C=w.baseQueue,T=g.pending;if(T!==null){if(C!==null){var O=C.next;C.next=T.next,T.next=O}w.baseQueue=C=T,g.pending=null}if(C!==null){T=C.next,w=w.baseState;var K=O=null,fe=null,be=T;do{var He=be.lane;if((Nl&He)===He)fe!==null&&(fe=fe.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),w=be.hasEagerState?be.eagerState:c(w,be.action);else{var ct={lane:He,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};fe===null?(K=fe=ct,O=w):fe=fe.next=ct,dn.lanes|=He,kl|=He}be=be.next}while(be!==null&&be!==T);fe===null?O=w:fe.next=K,Qr(w,f.memoizedState)||(ki=!0),f.memoizedState=w,f.baseState=O,f.baseQueue=fe,g.lastRenderedState=w}if(c=g.interleaved,c!==null){C=c;do T=C.lane,dn.lanes|=T,kl|=T,C=C.next;while(C!==c)}else C===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function wh(c){var f=ts(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var w=g.dispatch,C=g.pending,T=f.memoizedState;if(C!==null){g.pending=null;var O=C=C.next;do T=c(T,O.action),O=O.next;while(O!==C);Qr(T,f.memoizedState)||(ki=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),g.lastRenderedState=T}return[T,w]}function eM(){}function tM(c,f){var g=dn,w=ts(),C=f(),T=!Qr(w.memoizedState,C);if(T&&(w.memoizedState=C,ki=!0),w=w.queue,Bu(rM.bind(null,g,w,c),[c]),w.getSnapshot!==f||T||Un!==null&&Un.memoizedState.tag&1){if(g.flags|=2048,Pu(9,iM.bind(null,g,w,C,f),void 0,null),_n===null)throw Error(o(349));Nl&30||nM(g,f,C)}return C}function nM(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=dn.updateQueue,f===null?(f={lastEffect:null,stores:null},dn.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function iM(c,f,g,w){f.value=g,f.getSnapshot=w,sM(f)&&or(c,1,-1)}function rM(c,f,g){return g(function(){sM(f)&&or(c,1,-1)})}function sM(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Qr(c,g)}catch{return!0}}function O0(c){var f=Es();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:c},f.queue=c,c=c.dispatch=CI.bind(null,dn,c),[f.memoizedState,c]}function Pu(c,f,g,w){return c={tag:c,create:f,destroy:g,deps:w,next:null},f=dn.updateQueue,f===null?(f={lastEffect:null,stores:null},dn.updateQueue=f,f.lastEffect=c.next=c):(g=f.lastEffect,g===null?f.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,f.lastEffect=c)),c}function oM(){return ts().memoizedState}function Mh(c,f,g,w){var C=Es();dn.flags|=c,C.memoizedState=Pu(1|f,g,void 0,w===void 0?null:w)}function Sh(c,f,g,w){var C=ts();w=w===void 0?null:w;var T=void 0;if(Qn!==null){var O=Qn.memoizedState;if(T=O.destroy,w!==null&&N0(w,O.deps)){C.memoizedState=Pu(f,g,T,w);return}}dn.flags|=c,C.memoizedState=Pu(1|f,g,T,w)}function U0(c,f){return Mh(8390656,8,c,f)}function Bu(c,f){return Sh(2048,8,c,f)}function aM(c,f){return Sh(4,2,c,f)}function lM(c,f){return Sh(4,4,c,f)}function cM(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function uM(c,f,g){return g=g!=null?g.concat([c]):null,Sh(4,4,cM.bind(null,f,c),g)}function z0(){}function fM(c,f){var g=ts();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&N0(f,w[1])?w[0]:(g.memoizedState=[c,f],c)}function dM(c,f){var g=ts();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&N0(f,w[1])?w[0]:(c=c(),g.memoizedState=[c,f],c)}function MI(c,f){var g=Dt;Dt=g!==0&&4>g?g:4,c(!0);var w=sr.transition;sr.transition={};try{c(!1),f()}finally{Dt=g,sr.transition=w}}function hM(){return ts().memoizedState}function SI(c,f,g){var w=uo(c);g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},pM(c)?mM(f,g):(gM(c,f,g),g=fi(),c=or(c,w,g),c!==null&&vM(c,f,w))}function CI(c,f,g){var w=uo(c),C={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(pM(c))mM(f,C);else{gM(c,f,C);var T=c.alternate;if(c.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var O=f.lastRenderedState,K=T(O,g);if(C.hasEagerState=!0,C.eagerState=K,Qr(K,O))return}catch{}finally{}g=fi(),c=or(c,w,g),c!==null&&vM(c,f,w)}}function pM(c){var f=c.alternate;return c===dn||f!==null&&f===dn}function mM(c,f){bu=Ah=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function gM(c,f,g){_n!==null&&c.mode&1&&!(yt&2)?(c=f.interleaved,c===null?(g.next=g,$r===null?$r=[f]:$r.push(f)):(g.next=c.next,c.next=g),f.interleaved=g):(c=f.pending,c===null?g.next=g:(g.next=c.next,c.next=g),f.pending=g)}function vM(c,f,g){if(g&4194240){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,p0(c,g)}}var Ch={readContext:tr,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},EI={readContext:tr,useCallback:function(c,f){return Es().memoizedState=[c,f===void 0?null:f],c},useContext:tr,useEffect:U0,useImperativeHandle:function(c,f,g){return g=g!=null?g.concat([c]):null,Mh(4194308,4,cM.bind(null,f,c),g)},useLayoutEffect:function(c,f){return Mh(4194308,4,c,f)},useInsertionEffect:function(c,f){return Mh(4,2,c,f)},useMemo:function(c,f){var g=Es();return f=f===void 0?null:f,c=c(),g.memoizedState=[c,f],c},useReducer:function(c,f,g){var w=Es();return f=g!==void 0?g(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=SI.bind(null,dn,c),[w.memoizedState,c]},useRef:function(c){var f=Es();return c={current:c},f.memoizedState=c},useState:O0,useDebugValue:z0,useDeferredValue:function(c){var f=O0(c),g=f[0],w=f[1];return U0(function(){var C=sr.transition;sr.transition={};try{w(c)}finally{sr.transition=C}},[c]),g},useTransition:function(){var c=O0(!1),f=c[0];return c=MI.bind(null,c[1]),Es().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,g){var w=dn,C=Es();if(Qt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=f(),_n===null)throw Error(o(349));Nl&30||nM(w,f,g)}C.memoizedState=g;var T={value:g,getSnapshot:f};return C.queue=T,U0(rM.bind(null,w,T,c),[c]),w.flags|=2048,Pu(9,iM.bind(null,w,T,g,f),void 0,null),g},useId:function(){var c=Es(),f=_n.identifierPrefix;if(Qt){var g=Cs,w=Ss;g=(w&~(1<<32-br(w)-1)).toString(32)+g,f=":"+f+"R"+g,g=Tu++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=wI++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},bI={readContext:tr,useCallback:fM,useContext:tr,useEffect:Bu,useImperativeHandle:uM,useInsertionEffect:aM,useLayoutEffect:lM,useMemo:dM,useReducer:_h,useRef:oM,useState:function(){return _h(ma)},useDebugValue:z0,useDeferredValue:function(c){var f=_h(ma),g=f[0],w=f[1];return Bu(function(){var C=sr.transition;sr.transition={};try{w(c)}finally{sr.transition=C}},[c]),g},useTransition:function(){var c=_h(ma)[0],f=ts().memoizedState;return[c,f]},useMutableSource:eM,useSyncExternalStore:tM,useId:hM,unstable_isNewReconciler:!1},TI={readContext:tr,useCallback:fM,useContext:tr,useEffect:Bu,useImperativeHandle:uM,useInsertionEffect:aM,useLayoutEffect:lM,useMemo:dM,useReducer:wh,useRef:oM,useState:function(){return wh(ma)},useDebugValue:z0,useDeferredValue:function(c){var f=wh(ma),g=f[0],w=f[1];return Bu(function(){var C=sr.transition;sr.transition={};try{w(c)}finally{sr.transition=C}},[c]),g},useTransition:function(){var c=wh(ma)[0],f=ts().memoizedState;return[c,f]},useMutableSource:eM,useSyncExternalStore:tM,useId:hM,unstable_isNewReconciler:!1};function G0(c,f){try{var g="",w=f;do g+=_I(w),w=w.return;while(w);var C=g}catch(T){C=`
Error generating stack: `+T.message+`
`+T.stack}return{value:c,source:f,stack:C}}function H0(c,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var PI=typeof WeakMap=="function"?WeakMap:Map;function yM(c,f,g){g=Ms(-1,g),g.tag=3,g.payload={element:null};var w=f.value;return g.callback=function(){Gh||(Gh=!0,ov=w),H0(c,f)},g}function xM(c,f,g){g=Ms(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var C=f.value;g.payload=function(){return w(C)},g.callback=function(){H0(c,f)}}var T=c.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){H0(c,f),typeof w!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})}),g}function AM(c,f,g){var w=c.pingCache;if(w===null){w=c.pingCache=new PI;var C=new Set;w.set(f,C)}else C=w.get(f),C===void 0&&(C=new Set,w.set(f,C));C.has(g)||(C.add(g),c=VI.bind(null,c,f,g),f.then(c,c))}function _M(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function wM(c,f,g,w,C){return c.mode&1?(c.flags|=65536,c.lanes=C,c):(c===f?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=Ms(-1,1),f.tag=2,ao(g,f))),g.lanes|=1),c)}function ns(c){c.flags|=4}function MM(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Ru,Lu,Eh,bh;if(Re)Ru=function(c,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)X(c,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Lu=function(){},Eh=function(c,f,g,w,C){if(c=c.memoizedProps,c!==w){var T=f.stateNode,O=es(rr.current);g=ye(T,g,c,w,C,O),(f.updateQueue=g)&&ns(f)}},bh=function(c,f,g,w){g!==w&&ns(f)};else if(de){Ru=function(c,f,g,w){for(var C=f.child;C!==null;){if(C.tag===5){var T=C.stateNode;g&&w&&(T=Lt(T,C.type,C.memoizedProps,C)),X(c,T)}else if(C.tag===6)T=C.stateNode,g&&w&&(T=Fn(T,C.memoizedProps,C)),X(c,T);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)T=C.child,T!==null&&(T.return=C),Ru(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var SM=function(c,f,g,w){for(var C=f.child;C!==null;){if(C.tag===5){var T=C.stateNode;g&&w&&(T=Lt(T,C.type,C.memoizedProps,C)),Ot(c,T)}else if(C.tag===6)T=C.stateNode,g&&w&&(T=Fn(T,C.memoizedProps,C)),Ot(c,T);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)T=C.child,T!==null&&(T.return=C),SM(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Lu=function(c,f){var g=f.stateNode;if(!MM(c,f)){c=g.containerInfo;var w=Mt(c);SM(w,f,!1,!1),g.pendingChildren=w,ns(f),Ht(c,w)}},Eh=function(c,f,g,w,C){var T=c.stateNode,O=c.memoizedProps;if((c=MM(c,f))&&O===w)f.stateNode=T;else{var K=f.stateNode,fe=es(rr.current),be=null;O!==w&&(be=ye(K,g,O,w,C,fe)),c&&be===null?f.stateNode=T:(T=Ke(T,be,g,O,w,f,c,K),re(T,g,w,C,fe)&&ns(f),f.stateNode=T,c?ns(f):Ru(T,f,!1,!1))}},bh=function(c,f,g,w){g!==w?(c=es(Il.current),g=es(rr.current),f.stateNode=$(w,c,g,f),ns(f)):f.stateNode=c.stateNode}}else Lu=function(){},Eh=function(){},bh=function(){};function Iu(c,f){if(!Qt)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function $n(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(f)for(var C=c.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=w,c.childLanes=g,f}function BI(c,f,g){var w=f.pendingProps;switch(b0(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(f),null;case 1:return wi(f.type)&&nh(),$n(f),null;case 3:return w=f.stateNode,Dl(),dt(kn),dt(Ut),D0(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Mu(f)?ns(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Pr!==null&&(cv(Pr),Pr=null))),Lu(c,f),$n(f),null;case 5:L0(f),g=es(Il.current);var C=f.type;if(c!==null&&f.stateNode!=null)Eh(c,f,C,w,g),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return $n(f),null}if(c=es(rr.current),Mu(f)){if(!le)throw Error(o(175));c=tt(f.stateNode,f.type,f.memoizedProps,g,c,f,!wu),f.updateQueue=c,c!==null&&ns(f)}else{var T=oe(C,w,g,c,f);Ru(T,f,!1,!1),f.stateNode=T,re(T,C,w,g,c)&&ns(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return $n(f),null;case 6:if(c&&f.stateNode!=null)bh(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(c=es(Il.current),g=es(rr.current),Mu(f)){if(!le)throw Error(o(176));if(c=f.stateNode,w=f.memoizedProps,(g=lt(c,w,f,!wu))&&(C=Ni,C!==null))switch(T=(C.mode&1)!==0,C.tag){case 3:Er(C.stateNode.containerInfo,c,w,T);break;case 5:ys(C.type,C.memoizedProps,C.stateNode,c,w,T)}g&&ns(f)}else f.stateNode=$(w,c,g,f)}return $n(f),null;case 13:if(dt(tn),w=f.memoizedState,Qt&&Fi!==null&&f.mode&1&&!(f.flags&128)){for(c=Fi;c;)c=te(c);return Rl(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=Mu(f),c===null){if(!w)throw Error(o(318));if(!le)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));ht(c,f)}else Rl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return $n(f),null}return Pr!==null&&(cv(Pr),Pr=null),f.flags&128?(f.lanes=g,f):(w=w!==null,g=!1,c===null?Mu(f):g=c.memoizedState!==null,w&&!g&&(f.child.flags|=8192,f.mode&1&&(c===null||tn.current&1?Tn===0&&(Tn=3):fv())),f.updateQueue!==null&&(f.flags|=4),$n(f),null);case 4:return Dl(),Lu(c,f),c===null&&ze(f.stateNode.containerInfo),$n(f),null;case 10:return _0(f.type._context),$n(f),null;case 17:return wi(f.type)&&nh(),$n(f),null;case 19:if(dt(tn),C=f.memoizedState,C===null)return $n(f),null;if(w=(f.flags&128)!==0,T=C.rendering,T===null)if(w)Iu(C,!1);else{if(Tn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(T=yh(c),T!==null){for(f.flags|=128,Iu(C,!1),c=T.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=g,w=f.child;w!==null;)g=w,C=c,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=C,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,C=T.dependencies,g.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),w=w.sibling;return Bt(tn,tn.current&1|2),f.child}c=c.sibling}C.tail!==null&&On()>sv&&(f.flags|=128,w=!0,Iu(C,!1),f.lanes=4194304)}else{if(!w)if(c=yh(T),c!==null){if(f.flags|=128,w=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Iu(C,!0),C.tail===null&&C.tailMode==="hidden"&&!T.alternate&&!Qt)return $n(f),null}else 2*On()-C.renderingStartTime>sv&&g!==1073741824&&(f.flags|=128,w=!0,Iu(C,!1),f.lanes=4194304);C.isBackwards?(T.sibling=f.child,f.child=T):(c=C.last,c!==null?c.sibling=T:f.child=T,C.last=T)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=On(),f.sibling=null,c=tn.current,Bt(tn,w?c&1|2:c&1),f):($n(f),null);case 22:case 23:return uv(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Oi&1073741824&&($n(f),Re&&f.subtreeFlags&6&&(f.flags|=8192)):$n(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var RI=a.ReactCurrentOwner,ki=!1;function ui(c,f,g,w){f.child=c===null?Zw(f,null,g,w):Ll(f,c.child,g,w)}function CM(c,f,g,w,C){g=g.render;var T=f.ref;return Tl(f,C),w=F0(c,f,g,w,T,C),g=k0(),c!==null&&!ki?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~C,bs(c,f,C)):(Qt&&g&&E0(f),f.flags|=1,ui(c,f,w,C),f.child)}function EM(c,f,g,w,C){if(c===null){var T=g.type;return typeof T=="function"&&!dv(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=T,bM(c,f,T,w,C)):(c=Kh(g.type,null,w,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(T=c.child,!(c.lanes&C)){var O=T.memoizedProps;if(g=g.compare,g=g!==null?g:ch,g(O,w)&&c.ref===f.ref)return bs(c,f,C)}return f.flags|=1,c=ho(T,w),c.ref=f.ref,c.return=f,f.child=c}function bM(c,f,g,w,C){if(c!==null&&ch(c.memoizedProps,w)&&c.ref===f.ref)if(ki=!1,(c.lanes&C)!==0)c.flags&131072&&(ki=!0);else return f.lanes=c.lanes,bs(c,f,C);return V0(c,f,g,w,C)}function TM(c,f,g){var w=f.pendingProps,C=w.children,T=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Bt(Fl,Oi),Oi|=g;else if(g&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=T!==null?T.baseLanes:g,Bt(Fl,Oi),Oi|=w;else return c=T!==null?T.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,Bt(Fl,Oi),Oi|=c,null;else T!==null?(w=T.baseLanes|g,f.memoizedState=null):w=g,Bt(Fl,Oi),Oi|=w;return ui(c,f,C,g),f.child}function PM(c,f){var g=f.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function V0(c,f,g,w,C){var T=wi(g)?As:Ut.current;return T=_s(f,T),Tl(f,C),g=F0(c,f,g,w,T,C),w=k0(),c!==null&&!ki?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~C,bs(c,f,C)):(Qt&&w&&E0(f),f.flags|=1,ui(c,f,g,C),f.child)}function BM(c,f,g,w,C){if(wi(g)){var T=!0;ih(f)}else T=!1;if(Tl(f,C),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),Ww(f,g,w),C0(f,g,w,C),w=!0;else if(c===null){var O=f.stateNode,K=f.memoizedProps;O.props=K;var fe=O.context,be=g.contextType;typeof be=="object"&&be!==null?be=tr(be):(be=wi(g)?As:Ut.current,be=_s(f,be));var He=g.getDerivedStateFromProps,ct=typeof He=="function"||typeof O.getSnapshotBeforeUpdate=="function";ct||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==w||fe!==be)&&jw(f,O,w,be),oo=!1;var nt=f.memoizedState;O.state=nt,hh(f,w,O,C),fe=f.memoizedState,K!==w||nt!==fe||kn.current||oo?(typeof He=="function"&&(S0(f,g,He,w),fe=f.memoizedState),(K=oo||Vw(f,g,K,w,nt,fe,be))?(ct||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=fe),O.props=w,O.state=fe,O.context=be,w=K):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{O=f.stateNode,Uw(c,f),K=f.memoizedProps,be=f.type===f.elementType?K:Tr(f.type,K),O.props=be,ct=f.pendingProps,nt=O.context,fe=g.contextType,typeof fe=="object"&&fe!==null?fe=tr(fe):(fe=wi(g)?As:Ut.current,fe=_s(f,fe));var Wt=g.getDerivedStateFromProps;(He=typeof Wt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==ct||nt!==fe)&&jw(f,O,w,fe),oo=!1,nt=f.memoizedState,O.state=nt,hh(f,w,O,C);var Ze=f.memoizedState;K!==ct||nt!==Ze||kn.current||oo?(typeof Wt=="function"&&(S0(f,g,Wt,w),Ze=f.memoizedState),(be=oo||Vw(f,g,be,w,nt,Ze,fe)||!1)?(He||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(w,Ze,fe),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(w,Ze,fe)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Ze),O.props=w,O.state=Ze,O.context=fe,w=be):(typeof O.componentDidUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(f.flags|=1024),w=!1)}return W0(c,f,g,w,T,C)}function W0(c,f,g,w,C,T){PM(c,f);var O=(f.flags&128)!==0;if(!w&&!O)return C&&Dw(f,g,!1),bs(c,f,T);w=f.stateNode,RI.current=f;var K=O&&typeof g.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&O?(f.child=Ll(f,c.child,null,T),f.child=Ll(f,null,K,T)):ui(c,f,K,T),f.memoizedState=w.state,C&&Dw(f,g,!0),f.child}function RM(c){var f=c.stateNode;f.pendingContext?Lw(c,f.pendingContext,f.pendingContext!==f.context):f.context&&Lw(c,f.context,!1),R0(c,f.containerInfo)}function LM(c,f,g,w,C){return Rl(),B0(C),f.flags|=256,ui(c,f,g,w),f.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ph(c){return{baseLanes:c,cachePool:null}}function IM(c,f,g){var w=f.pendingProps,C=tn.current,T=!1,O=(f.flags&128)!==0,K;if((K=O)||(K=c!==null&&c.memoizedState===null?!1:(C&2)!==0),K?(T=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(C|=1),Bt(tn,C&1),c===null)return P0(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?xu(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(C=w.children,c=w.fallback,T?(w=f.mode,T=f.child,C={mode:"hidden",children:C},!(w&1)&&T!==null?(T.childLanes=0,T.pendingProps=C):T=Yh(C,w,0,null),c=_a(c,w,g,null),T.return=f,c.return=f,T.sibling=c,f.child=T,f.child.memoizedState=Ph(g),f.memoizedState=Th,c):j0(f,C));if(C=c.memoizedState,C!==null){if(K=C.dehydrated,K!==null){if(O)return f.flags&256?(f.flags&=-257,Bh(c,f,g,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(T=w.fallback,C=f.mode,w=Yh({mode:"visible",children:w.children},C,0,null),T=_a(T,C,g,null),T.flags|=2,w.return=f,T.return=f,w.sibling=T,f.child=w,f.mode&1&&Ll(f,c.child,null,g),f.child.memoizedState=Ph(g),f.memoizedState=Th,T);if(!(f.mode&1))f=Bh(c,f,g,null);else if(xu(K))f=Bh(c,f,g,Error(o(419)));else if(w=(g&c.childLanes)!==0,ki||w){if(w=_n,w!==null){switch(g&-g){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}w=T&(w.suspendedLanes|g)?0:T,w!==0&&w!==C.retryLane&&(C.retryLane=w,or(c,w,-1))}fv(),f=Bh(c,f,g,Error(o(421)))}else th(K)?(f.flags|=128,f.child=c.child,f=WI.bind(null,c),F(K,f),f=null):(g=C.treeContext,le&&(Fi=me(K),Ni=f,Qt=!0,Pr=null,wu=!1,g!==null&&(nr[ir++]=Ss,nr[ir++]=Cs,nr[ir++]=ha,Ss=g.id,Cs=g.overflow,ha=f)),f=j0(f,f.pendingProps.children),f.flags|=4096);return f}return T?(w=NM(c,f,w.children,w.fallback,g),T=f.child,C=c.child.memoizedState,T.memoizedState=C===null?Ph(g):{baseLanes:C.baseLanes|g,cachePool:null},T.childLanes=c.childLanes&~g,f.memoizedState=Th,w):(g=DM(c,f,w.children,g),f.memoizedState=null,g)}return T?(w=NM(c,f,w.children,w.fallback,g),T=f.child,C=c.child.memoizedState,T.memoizedState=C===null?Ph(g):{baseLanes:C.baseLanes|g,cachePool:null},T.childLanes=c.childLanes&~g,f.memoizedState=Th,w):(g=DM(c,f,w.children,g),f.memoizedState=null,g)}function j0(c,f){return f=Yh({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function DM(c,f,g,w){var C=c.child;return c=C.sibling,g=ho(C,{mode:"visible",children:g}),!(f.mode&1)&&(g.lanes=w),g.return=f,g.sibling=null,c!==null&&(w=f.deletions,w===null?(f.deletions=[c],f.flags|=16):w.push(c)),f.child=g}function NM(c,f,g,w,C){var T=f.mode;c=c.child;var O=c.sibling,K={mode:"hidden",children:g};return!(T&1)&&f.child!==c?(g=f.child,g.childLanes=0,g.pendingProps=K,f.deletions=null):(g=ho(c,K),g.subtreeFlags=c.subtreeFlags&14680064),O!==null?w=ho(O,w):(w=_a(w,T,C,null),w.flags|=2),w.return=f,g.return=f,g.sibling=w,f.child=g,w}function Bh(c,f,g,w){return w!==null&&B0(w),Ll(f,c.child,null,g),c=j0(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function FM(c,f,g){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),w0(c.return,f,g)}function J0(c,f,g,w,C){var T=c.memoizedState;T===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:C}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=w,T.tail=g,T.tailMode=C)}function kM(c,f,g){var w=f.pendingProps,C=w.revealOrder,T=w.tail;if(ui(c,f,w.children,g),w=tn.current,w&2)w=w&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&FM(c,g,f);else if(c.tag===19)FM(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Bt(tn,w),!(f.mode&1))f.memoizedState=null;else switch(C){case"forwards":for(g=f.child,C=null;g!==null;)c=g.alternate,c!==null&&yh(c)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),J0(f,!1,C,g,T);break;case"backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&yh(c)===null){f.child=C;break}c=C.sibling,C.sibling=g,g=C,C=c}J0(f,!0,g,null,T);break;case"together":J0(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function bs(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),kl|=f.lanes,!(g&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,g=ho(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=ho(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function LI(c,f,g){switch(f.tag){case 3:RM(f),Rl();break;case 5:$w(f);break;case 1:wi(f.type)&&ih(f);break;case 4:R0(f,f.stateNode.containerInfo);break;case 10:Ow(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Bt(tn,tn.current&1),f.flags|=128,null):g&f.child.childLanes?IM(c,f,g):(Bt(tn,tn.current&1),c=bs(c,f,g),c!==null?c.sibling:null);Bt(tn,tn.current&1);break;case 19:if(w=(g&f.childLanes)!==0,c.flags&128){if(w)return kM(c,f,g);f.flags|=128}var C=f.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Bt(tn,tn.current),w)break;return null;case 22:case 23:return f.lanes=0,TM(c,f,g)}return bs(c,f,g)}function II(c,f){switch(b0(f),f.tag){case 1:return wi(f.type)&&nh(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Dl(),dt(kn),dt(Ut),D0(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return L0(f),null;case 13:if(dt(tn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Rl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return dt(tn),null;case 4:return Dl(),null;case 10:return _0(f.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var Rh=!1,ga=!1,DI=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Lh(c,f){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Ci(c,f,w)}else g.current=null}function X0(c,f,g){try{g()}catch(w){Ci(c,f,w)}}var OM=!1;function NI(c,f){for(j(c.containerInfo),Ie=f;Ie!==null;)if(c=Ie,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Ie=f;else for(;Ie!==null;){c=Ie;try{var g=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,C=g.memoizedState,T=c.stateNode,O=T.getSnapshotBeforeUpdate(c.elementType===c.type?w:Tr(c.type,w),C);T.__reactInternalSnapshotBeforeUpdate=O}break;case 3:Re&&Le(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(K){Ci(c,c.return,K)}if(f=c.sibling,f!==null){f.return=c.return,Ie=f;break}Ie=c.return}return g=OM,OM=!1,g}function va(c,f,g){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&c)===c){var T=C.destroy;C.destroy=void 0,T!==void 0&&X0(f,g,T)}C=C.next}while(C!==w)}}function Du(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==f)}}function K0(c){var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 5:c=ie(g);break;default:c=g}typeof f=="function"?f(c):f.current=c}}function UM(c,f,g){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(ah,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var C=w,T=C.destroy;C=C.tag,T!==void 0&&(C&2||C&4)&&X0(f,g,T),w=w.next}while(w!==c)}break;case 1:if(Lh(f,g),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(O){Ci(f,g,O)}break;case 5:Lh(f,g);break;case 4:Re?jM(c,f,g):de&&de&&(f=f.stateNode.containerInfo,g=Mt(f),qn(f,g))}}function zM(c,f,g){for(var w=f;;)if(UM(c,w,g),w.child===null||Re&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function GM(c){var f=c.alternate;f!==null&&(c.alternate=null,GM(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&$e(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function HM(c){return c.tag===5||c.tag===3||c.tag===4}function VM(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||HM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function WM(c){if(Re){e:{for(var f=c.return;f!==null;){if(HM(f))break e;f=f.return}throw Error(o(160))}var g=f;switch(g.tag){case 5:f=g.stateNode,g.flags&32&&(ve(f),g.flags&=-33),g=VM(c),q0(c,g,f);break;case 3:case 4:f=g.stateNode.containerInfo,g=VM(c),Y0(c,g,f);break;default:throw Error(o(161))}}}function Y0(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?et(g,c,f):Ne(g,c);else if(w!==4&&(c=c.child,c!==null))for(Y0(c,f,g),c=c.sibling;c!==null;)Y0(c,f,g),c=c.sibling}function q0(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?je(g,c,f):it(g,c);else if(w!==4&&(c=c.child,c!==null))for(q0(c,f,g),c=c.sibling;c!==null;)q0(c,f,g),c=c.sibling}function jM(c,f,g){for(var w=f,C=!1,T,O;;){if(!C){C=w.return;e:for(;;){if(C===null)throw Error(o(160));switch(T=C.stateNode,C.tag){case 5:O=!1;break e;case 3:T=T.containerInfo,O=!0;break e;case 4:T=T.containerInfo,O=!0;break e}C=C.return}C=!0}if(w.tag===5||w.tag===6)zM(c,w,g),O?J(T,w.stateNode):Xe(T,w.stateNode);else if(w.tag===18)O?un(T,w.stateNode):Ct(T,w.stateNode);else if(w.tag===4){if(w.child!==null){T=w.stateNode.containerInfo,O=!0,w.child.return=w,w=w.child;continue}}else if(UM(c,w,g),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(C=!1)}w.sibling.return=w.return,w=w.sibling}}function Q0(c,f){if(Re){switch(f.tag){case 0:case 11:case 14:case 15:va(3,f,f.return),Du(3,f),va(5,f,f.return);return;case 1:return;case 5:var g=f.stateNode;if(g!=null){var w=f.memoizedProps;c=c!==null?c.memoizedProps:w;var C=f.type,T=f.updateQueue;f.updateQueue=null,T!==null&&rt(g,T,C,c,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));g=f.memoizedProps,ge(f.stateNode,c!==null?c.memoizedProps:g,g);return;case 3:le&&c!==null&&c.memoizedState.isDehydrated&&bt(f.stateNode.containerInfo);return;case 12:return;case 13:Ih(f);return;case 19:Ih(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:va(3,f,f.return),Du(3,f),va(5,f,f.return);return;case 12:return;case 13:Ih(f);return;case 19:Ih(f);return;case 3:le&&c!==null&&c.memoizedState.isDehydrated&&bt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,qn(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Ih(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new DI),f.forEach(function(w){var C=jI.bind(null,c,w);g.has(w)||(g.add(w),w.then(C,C))})}}function FI(c,f){for(Ie=f;Ie!==null;){f=Ie;var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var C=g[w];try{var T=c;Re?jM(T,C,f):zM(T,C,f);var O=C.alternate;O!==null&&(O.return=null),C.return=null}catch(Ye){Ci(C,f,Ye)}}if(g=f.child,f.subtreeFlags&12854&&g!==null)g.return=f,Ie=g;else for(;Ie!==null;){f=Ie;try{var K=f.flags;if(K&32&&Re&&ve(f.stateNode),K&512){var fe=f.alternate;if(fe!==null){var be=fe.ref;be!==null&&(typeof be=="function"?be(null):be.current=null)}}if(K&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var He=f.alternate;(He===null||He.memoizedState===null)&&(rv=On())}break;case 22:var ct=f.memoizedState!==null,nt=f.alternate,Wt=nt!==null&&nt.memoizedState!==null;if(g=f,Re){e:if(w=g,C=ct,T=null,Re)for(var Ze=w;;){if(Ze.tag===5){if(T===null){T=Ze;var ei=Ze.stateNode;C?Ue(ei):se(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(T===null){var lr=Ze.stateNode;C?H(lr):xe(lr,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===w)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===w)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===w)break e;T===Ze&&(T=null),Ze=Ze.return}T===Ze&&(T=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(ct&&!Wt&&g.mode&1){Ie=g;for(var ne=g.child;ne!==null;){for(g=Ie=ne;Ie!==null;){w=Ie;var Q=w.child;switch(w.tag){case 0:case 11:case 14:case 15:va(4,w,w.return);break;case 1:Lh(w,w.return);var ue=w.stateNode;if(typeof ue.componentWillUnmount=="function"){var Fe=w.return;try{ue.props=w.memoizedProps,ue.state=w.memoizedState,ue.componentWillUnmount()}catch(Ye){Ci(w,Fe,Ye)}}break;case 5:Lh(w,w.return);break;case 22:if(w.memoizedState!==null){KM(g);continue}}Q!==null?(Q.return=w,Ie=Q):KM(g)}ne=ne.sibling}}}switch(K&4102){case 2:WM(f),f.flags&=-3;break;case 6:WM(f),f.flags&=-3,Q0(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Q0(f.alternate,f);break;case 4:Q0(f.alternate,f)}}catch(Ye){Ci(f,f.return,Ye)}if(g=f.sibling,g!==null){g.return=f.return,Ie=g;break}Ie=f.return}}}function kI(c,f,g){Ie=c,JM(c)}function JM(c,f,g){for(var w=(c.mode&1)!==0;Ie!==null;){var C=Ie,T=C.child;if(C.tag===22&&w){var O=C.memoizedState!==null||Rh;if(!O){var K=C.alternate,fe=K!==null&&K.memoizedState!==null||ga;K=Rh;var be=ga;if(Rh=O,(ga=fe)&&!be)for(Ie=C;Ie!==null;)O=Ie,fe=O.child,O.tag===22&&O.memoizedState!==null?YM(C):fe!==null?(fe.return=O,Ie=fe):YM(C);for(;T!==null;)Ie=T,JM(T),T=T.sibling;Ie=C,Rh=K,ga=be}XM(c)}else C.subtreeFlags&8772&&T!==null?(T.return=C,Ie=T):XM(c)}}function XM(c){for(;Ie!==null;){var f=Ie;if(f.flags&8772){var g=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ga||Du(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!ga)if(g===null)w.componentDidMount();else{var C=f.elementType===f.type?g.memoizedProps:Tr(f.type,g.memoizedProps);w.componentDidUpdate(C,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var T=f.updateQueue;T!==null&&Gw(f,T,w);break;case 3:var O=f.updateQueue;if(O!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=ie(f.child.stateNode);break;case 1:g=f.child.stateNode}Gw(f,O,g)}break;case 5:var K=f.stateNode;g===null&&f.flags&4&&Qe(K,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&f.memoizedState===null){var fe=f.alternate;if(fe!==null){var be=fe.memoizedState;if(be!==null){var He=be.dehydrated;He!==null&&St(He)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ga||f.flags&512&&K0(f)}catch(ct){Ci(f,f.return,ct)}}if(f===c){Ie=null;break}if(g=f.sibling,g!==null){g.return=f.return,Ie=g;break}Ie=f.return}}function KM(c){for(;Ie!==null;){var f=Ie;if(f===c){Ie=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Ie=g;break}Ie=f.return}}function YM(c){for(;Ie!==null;){var f=Ie;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Du(4,f)}catch(fe){Ci(f,g,fe)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var C=f.return;try{w.componentDidMount()}catch(fe){Ci(f,C,fe)}}var T=f.return;try{K0(f)}catch(fe){Ci(f,T,fe)}break;case 5:var O=f.return;try{K0(f)}catch(fe){Ci(f,O,fe)}}}catch(fe){Ci(f,f.return,fe)}if(f===c){Ie=null;break}var K=f.sibling;if(K!==null){K.return=f.return,Ie=K;break}Ie=f.return}}var Dh=0,Nh=1,Fh=2,kh=3,Oh=4;if(typeof Symbol=="function"&&Symbol.for){var Nu=Symbol.for;Dh=Nu("selector.component"),Nh=Nu("selector.has_pseudo_class"),Fh=Nu("selector.role"),kh=Nu("selector.test_id"),Oh=Nu("selector.text")}function Z0(c){var f=Ce(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=wt(c),c===null)throw Error(o(362));return c.stateNode.current}function $0(c,f){switch(f.$$typeof){case Dh:if(c.type===f.value)return!0;break;case Nh:e:{f=f.value,c=[c,0];for(var g=0;g<c.length;){var w=c[g++],C=c[g++],T=f[C];if(w.tag!==5||!ae(w)){for(;T!=null&&$0(w,T);)C++,T=f[C];if(C===f.length){f=!0;break e}else for(w=w.child;w!==null;)c.push(w,C),w=w.sibling}}f=!1}return f;case Fh:if(c.tag===5&&Me(c.stateNode,f.value))return!0;break;case Oh:if((c.tag===5||c.tag===6)&&(c=D(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case kh:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ev(c){switch(c.$$typeof){case Dh:return"<"+(L(c.value)||"Unknown")+">";case Nh:return":has("+(ev(c)||"")+")";case Fh:return'[role="'+c.value+'"]';case Oh:return'"'+c.value+'"';case kh:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function qM(c,f){var g=[];c=[c,0];for(var w=0;w<c.length;){var C=c[w++],T=c[w++],O=f[T];if(C.tag!==5||!ae(C)){for(;O!=null&&$0(C,O);)T++,O=f[T];if(T===f.length)g.push(C);else for(C=C.child;C!==null;)c.push(C,T),C=C.sibling}}return g}function tv(c,f){if(!_t)throw Error(o(363));c=Z0(c),c=qM(c,f),f=[],c=Array.from(c);for(var g=0;g<c.length;){var w=c[g++];if(w.tag===5)ae(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return f}var OI=Math.ceil,Uh=a.ReactCurrentDispatcher,nv=a.ReactCurrentOwner,gn=a.ReactCurrentBatchConfig,yt=0,_n=null,wn=null,jn=0,Oi=0,Fl=$i(0),Tn=0,Fu=null,kl=0,zh=0,iv=0,ku=null,Mi=null,rv=0,sv=1/0;function Ol(){sv=On()+500}var Gh=!1,ov=null,lo=null,Hh=!1,co=null,Vh=0,Ou=0,av=null,Wh=-1,jh=0;function fi(){return yt&6?On():Wh!==-1?Wh:Wh=On()}function uo(c){return c.mode&1?yt&2&&jn!==0?jn&-jn:AI.transition!==null?(jh===0&&(c=rh,rh<<=1,!(rh&4194240)&&(rh=64),jh=c),jh):(c=Dt,c!==0?c:Pe()):1}function or(c,f,g){if(50<Ou)throw Ou=0,av=null,Error(o(185));var w=Jh(c,f);return w===null?null:(_u(w,f,g),(!(yt&2)||w!==_n)&&(w===_n&&(!(yt&2)&&(zh|=f),Tn===4&&fo(w,jn)),Si(w,g),f===1&&yt===0&&!(c.mode&1)&&(Ol(),lh&&Zr())),w)}function Jh(c,f){c.lanes|=f;var g=c.alternate;for(g!==null&&(g.lanes|=f),g=c,c=c.return;c!==null;)c.childLanes|=f,g=c.alternate,g!==null&&(g.childLanes|=f),g=c,c=c.return;return g.tag===3?g.stateNode:null}function Si(c,f){var g=c.callbackNode;fI(c,f);var w=oh(c,c===_n?jn:0);if(w===0)g!==null&&Fw(g),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(g!=null&&Fw(g),f===1)c.tag===0?xI(ZM.bind(null,c)):kw(ZM.bind(null,c)),qe?Je(function(){yt===0&&Zr()}):m0(g0,Zr),g=null;else{switch(Nw(w)){case 1:g=g0;break;case 4:g=mI;break;case 16:g=v0;break;case 536870912:g=gI;break;default:g=v0}g=aS(g,QM.bind(null,c))}c.callbackPriority=f,c.callbackNode=g}}function QM(c,f){if(Wh=-1,jh=0,yt&6)throw Error(o(327));var g=c.callbackNode;if(Aa()&&c.callbackNode!==g)return null;var w=oh(c,c===_n?jn:0);if(w===0)return null;if(w&30||w&c.expiredLanes||f)f=Xh(c,w);else{f=w;var C=yt;yt|=2;var T=tS();(_n!==c||jn!==f)&&(Ol(),ya(c,f));do try{GI();break}catch(K){eS(c,K)}while(1);A0(),Uh.current=T,yt=C,wn!==null?f=0:(_n=null,jn=0,f=Tn)}if(f!==0){if(f===2&&(C=d0(c),C!==0&&(w=C,f=lv(c,C))),f===1)throw g=Fu,ya(c,0),fo(c,w),Si(c,On()),g;if(f===6)fo(c,w);else{if(C=c.current.alternate,!(w&30)&&!UI(C)&&(f=Xh(c,w),f===2&&(T=d0(c),T!==0&&(w=T,f=lv(c,T))),f===1))throw g=Fu,ya(c,0),fo(c,w),Si(c,On()),g;switch(c.finishedWork=C,c.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:xa(c,Mi);break;case 3:if(fo(c,w),(w&130023424)===w&&(f=rv+500-On(),10<f)){if(oh(c,0)!==0)break;if(C=c.suspendedLanes,(C&w)!==w){fi(),c.pingedLanes|=c.suspendedLanes&C;break}c.timeoutHandle=ke(xa.bind(null,c,Mi),f);break}xa(c,Mi);break;case 4:if(fo(c,w),(w&4194240)===w)break;for(f=c.eventTimes,C=-1;0<w;){var O=31-br(w);T=1<<O,O=f[O],O>C&&(C=O),w&=~T}if(w=C,w=On()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*OI(w/1960))-w,10<w){c.timeoutHandle=ke(xa.bind(null,c,Mi),w);break}xa(c,Mi);break;case 5:xa(c,Mi);break;default:throw Error(o(329))}}}return Si(c,On()),c.callbackNode===g?QM.bind(null,c):null}function lv(c,f){var g=ku;return c.current.memoizedState.isDehydrated&&(ya(c,f).flags|=256),c=Xh(c,f),c!==2&&(f=Mi,Mi=g,f!==null&&cv(f)),c}function cv(c){Mi===null?Mi=c:Mi.push.apply(Mi,c)}function UI(c){for(var f=c;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var C=g[w],T=C.getSnapshot;C=C.value;try{if(!Qr(T(),C))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function fo(c,f){for(f&=~iv,f&=~zh,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var g=31-br(f),w=1<<g;c[g]=-1,f&=~w}}function ZM(c){if(yt&6)throw Error(o(327));Aa();var f=oh(c,0);if(!(f&1))return Si(c,On()),null;var g=Xh(c,f);if(c.tag!==0&&g===2){var w=d0(c);w!==0&&(f=w,g=lv(c,w))}if(g===1)throw g=Fu,ya(c,0),fo(c,f),Si(c,On()),g;if(g===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,xa(c,Mi),Si(c,On()),null}function $M(c){co!==null&&co.tag===0&&!(yt&6)&&Aa();var f=yt;yt|=1;var g=gn.transition,w=Dt;try{if(gn.transition=null,Dt=1,c)return c()}finally{Dt=w,gn.transition=g,yt=f,!(yt&6)&&Zr()}}function uv(){Oi=Fl.current,dt(Fl)}function ya(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==Ve&&(c.timeoutHandle=Ve,Oe(g)),wn!==null)for(g=wn.return;g!==null;){var w=g;switch(b0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&nh();break;case 3:Dl(),dt(kn),dt(Ut),D0();break;case 5:L0(w);break;case 4:Dl();break;case 13:dt(tn);break;case 19:dt(tn);break;case 10:_0(w.type._context);break;case 22:case 23:uv()}g=g.return}if(_n=c,wn=c=ho(c.current,null),jn=Oi=f,Tn=0,Fu=null,iv=zh=kl=0,Mi=ku=null,$r!==null){for(f=0;f<$r.length;f++)if(g=$r[f],w=g.interleaved,w!==null){g.interleaved=null;var C=w.next,T=g.pending;if(T!==null){var O=T.next;T.next=C,w.next=O}g.pending=w}$r=null}return c}function eS(c,f){do{var g=wn;try{if(A0(),xh.current=Ch,Ah){for(var w=dn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Ah=!1}if(Nl=0,Un=Qn=dn=null,bu=!1,Tu=0,nv.current=null,g===null||g.return===null){Tn=1,Fu=f,wn=null;break}e:{var T=c,O=g.return,K=g,fe=f;if(f=jn,K.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var be=fe,He=K,ct=He.tag;if(!(He.mode&1)&&(ct===0||ct===11||ct===15)){var nt=He.alternate;nt?(He.updateQueue=nt.updateQueue,He.memoizedState=nt.memoizedState,He.lanes=nt.lanes):(He.updateQueue=null,He.memoizedState=null)}var Wt=_M(O);if(Wt!==null){Wt.flags&=-257,wM(Wt,O,K,T,f),Wt.mode&1&&AM(T,be,f),f=Wt,fe=be;var Ze=f.updateQueue;if(Ze===null){var ei=new Set;ei.add(fe),f.updateQueue=ei}else Ze.add(fe);break e}else{if(!(f&1)){AM(T,be,f),fv();break e}fe=Error(o(426))}}else if(Qt&&K.mode&1){var lr=_M(O);if(lr!==null){!(lr.flags&65536)&&(lr.flags|=256),wM(lr,O,K,T,f),B0(fe);break e}}T=fe,Tn!==4&&(Tn=2),ku===null?ku=[T]:ku.push(T),fe=G0(fe,K),K=O;do{switch(K.tag){case 3:K.flags|=65536,f&=-f,K.lanes|=f;var ne=yM(K,fe,f);zw(K,ne);break e;case 1:T=fe;var Q=K.type,ue=K.stateNode;if(!(K.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(lo===null||!lo.has(ue)))){K.flags|=65536,f&=-f,K.lanes|=f;var Fe=xM(K,T,f);zw(K,Fe);break e}}K=K.return}while(K!==null)}iS(g)}catch(Ye){f=Ye,wn===g&&g!==null&&(wn=g=g.return);continue}break}while(1)}function tS(){var c=Uh.current;return Uh.current=Ch,c===null?Ch:c}function fv(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),_n===null||!(kl&268435455)&&!(zh&268435455)||fo(_n,jn)}function Xh(c,f){var g=yt;yt|=2;var w=tS();_n===c&&jn===f||ya(c,f);do try{zI();break}catch(C){eS(c,C)}while(1);if(A0(),yt=g,Uh.current=w,wn!==null)throw Error(o(261));return _n=null,jn=0,Tn}function zI(){for(;wn!==null;)nS(wn)}function GI(){for(;wn!==null&&!hI();)nS(wn)}function nS(c){var f=oS(c.alternate,c,Oi);c.memoizedProps=c.pendingProps,f===null?iS(c):wn=f,nv.current=null}function iS(c){var f=c;do{var g=f.alternate;if(c=f.return,f.flags&32768){if(g=II(g,f),g!==null){g.flags&=32767,wn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Tn=6,wn=null;return}}else if(g=BI(g,f,Oi),g!==null){wn=g;return}if(f=f.sibling,f!==null){wn=f;return}wn=f=c}while(f!==null);Tn===0&&(Tn=5)}function xa(c,f){var g=Dt,w=gn.transition;try{gn.transition=null,Dt=1,HI(c,f,g)}finally{gn.transition=w,Dt=g}return null}function HI(c,f,g){do Aa();while(co!==null);if(yt&6)throw Error(o(327));var w=c.finishedWork,C=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var T=w.lanes|w.childLanes;if(dI(c,T),c===_n&&(wn=_n=null,jn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Hh||(Hh=!0,aS(v0,function(){return Aa(),null})),T=(w.flags&15990)!==0,w.subtreeFlags&15990||T){T=gn.transition,gn.transition=null;var O=Dt;Dt=1;var K=yt;yt|=4,nv.current=null,NI(c,w),FI(c,w),Y(c.containerInfo),c.current=w,kI(w),pI(),yt=K,Dt=O,gn.transition=T}else c.current=w;if(Hh&&(Hh=!1,co=c,Vh=C),T=c.pendingLanes,T===0&&(lo=null),vI(w.stateNode),Si(c,On()),f!==null)for(g=c.onRecoverableError,w=0;w<f.length;w++)g(f[w]);if(Gh)throw Gh=!1,c=ov,ov=null,c;return Vh&1&&c.tag!==0&&Aa(),T=c.pendingLanes,T&1?c===av?Ou++:(Ou=0,av=c):Ou=0,Zr(),null}function Aa(){if(co!==null){var c=Nw(Vh),f=gn.transition,g=Dt;try{if(gn.transition=null,Dt=16>c?16:c,co===null)var w=!1;else{if(c=co,co=null,Vh=0,yt&6)throw Error(o(331));var C=yt;for(yt|=4,Ie=c.current;Ie!==null;){var T=Ie,O=T.child;if(Ie.flags&16){var K=T.deletions;if(K!==null){for(var fe=0;fe<K.length;fe++){var be=K[fe];for(Ie=be;Ie!==null;){var He=Ie;switch(He.tag){case 0:case 11:case 15:va(8,He,T)}var ct=He.child;if(ct!==null)ct.return=He,Ie=ct;else for(;Ie!==null;){He=Ie;var nt=He.sibling,Wt=He.return;if(GM(He),He===be){Ie=null;break}if(nt!==null){nt.return=Wt,Ie=nt;break}Ie=Wt}}}var Ze=T.alternate;if(Ze!==null){var ei=Ze.child;if(ei!==null){Ze.child=null;do{var lr=ei.sibling;ei.sibling=null,ei=lr}while(ei!==null)}}Ie=T}}if(T.subtreeFlags&2064&&O!==null)O.return=T,Ie=O;else e:for(;Ie!==null;){if(T=Ie,T.flags&2048)switch(T.tag){case 0:case 11:case 15:va(9,T,T.return)}var ne=T.sibling;if(ne!==null){ne.return=T.return,Ie=ne;break e}Ie=T.return}}var Q=c.current;for(Ie=Q;Ie!==null;){O=Ie;var ue=O.child;if(O.subtreeFlags&2064&&ue!==null)ue.return=O,Ie=ue;else e:for(O=Q;Ie!==null;){if(K=Ie,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:Du(9,K)}}catch(Ye){Ci(K,K.return,Ye)}if(K===O){Ie=null;break e}var Fe=K.sibling;if(Fe!==null){Fe.return=K.return,Ie=Fe;break e}Ie=K.return}}if(yt=C,Zr(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(ah,c)}catch{}w=!0}return w}finally{Dt=g,gn.transition=f}}return!1}function rS(c,f,g){f=G0(g,f),f=yM(c,f,1),ao(c,f),f=fi(),c=Jh(c,1),c!==null&&(_u(c,1,f),Si(c,f))}function Ci(c,f,g){if(c.tag===3)rS(c,c,g);else for(;f!==null;){if(f.tag===3){rS(f,c,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(lo===null||!lo.has(w))){c=G0(g,c),c=xM(f,c,1),ao(f,c),c=fi(),f=Jh(f,1),f!==null&&(_u(f,1,c),Si(f,c));break}}f=f.return}}function VI(c,f,g){var w=c.pingCache;w!==null&&w.delete(f),f=fi(),c.pingedLanes|=c.suspendedLanes&g,_n===c&&(jn&g)===g&&(Tn===4||Tn===3&&(jn&130023424)===jn&&500>On()-rv?ya(c,0):iv|=g),Si(c,f)}function sS(c,f){f===0&&(c.mode&1?(f=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):f=1);var g=fi();c=Jh(c,f),c!==null&&(_u(c,f,g),Si(c,g))}function WI(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),sS(c,g)}function jI(c,f){var g=0;switch(c.tag){case 13:var w=c.stateNode,C=c.memoizedState;C!==null&&(g=C.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),sS(c,g)}var oS;oS=function(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps||kn.current)ki=!0;else{if(!(c.lanes&g)&&!(f.flags&128))return ki=!1,LI(c,f,g);ki=!!(c.flags&131072)}else ki=!1,Qt&&f.flags&1048576&&Jw(f,gh,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var C=_s(f,Ut.current);Tl(f,g),C=F0(null,f,w,c,C,g);var T=k0();return f.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,wi(w)?(T=!0,ih(f)):T=!1,f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,M0(f),C.updater=ph,f.stateNode=C,C._reactInternals=f,C0(f,w,c,g),f=W0(null,f,w,!0,T,g)):(f.tag=0,Qt&&T&&E0(f),ui(null,f,C,g),f=f.child),f;case 16:w=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,C=w._init,w=C(w._payload),f.type=w,C=f.tag=XI(w),c=Tr(w,c),C){case 0:f=V0(null,f,w,c,g);break e;case 1:f=BM(null,f,w,c,g);break e;case 11:f=CM(null,f,w,c,g);break e;case 14:f=EM(null,f,w,Tr(w.type,c),g);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Tr(w,C),V0(c,f,w,C,g);case 1:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Tr(w,C),BM(c,f,w,C,g);case 3:e:{if(RM(f),c===null)throw Error(o(387));w=f.pendingProps,T=f.memoizedState,C=T.element,Uw(c,f),hh(f,w,null,g);var O=f.memoizedState;if(w=O.element,le&&T.isDehydrated)if(T={element:w,isDehydrated:!1,cache:O.cache,transitions:O.transitions},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){C=Error(o(423)),f=LM(c,f,w,g,C);break e}else if(w!==C){C=Error(o(424)),f=LM(c,f,w,g,C);break e}else for(le&&(Fi=Z(f.stateNode.containerInfo),Ni=f,Qt=!0,Pr=null,wu=!1),g=Zw(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Rl(),w===C){f=bs(c,f,g);break e}ui(c,f,w,g)}f=f.child}return f;case 5:return $w(f),c===null&&P0(f),w=f.type,C=f.pendingProps,T=c!==null?c.memoizedProps:null,O=C.children,_e(w,C)?O=null:T!==null&&_e(w,T)&&(f.flags|=32),PM(c,f),ui(c,f,O,g),f.child;case 6:return c===null&&P0(f),null;case 13:return IM(c,f,g);case 4:return R0(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Ll(f,null,w,g):ui(c,f,w,g),f.child;case 11:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Tr(w,C),CM(c,f,w,C,g);case 7:return ui(c,f,f.pendingProps,g),f.child;case 8:return ui(c,f,f.pendingProps.children,g),f.child;case 12:return ui(c,f,f.pendingProps.children,g),f.child;case 10:e:{if(w=f.type._context,C=f.pendingProps,T=f.memoizedProps,O=C.value,Ow(f,w,O),T!==null)if(Qr(T.value,O)){if(T.children===C.children&&!kn.current){f=bs(c,f,g);break e}}else for(T=f.child,T!==null&&(T.return=f);T!==null;){var K=T.dependencies;if(K!==null){O=T.child;for(var fe=K.firstContext;fe!==null;){if(fe.context===w){if(T.tag===1){fe=Ms(-1,g&-g),fe.tag=2;var be=T.updateQueue;if(be!==null){be=be.shared;var He=be.pending;He===null?fe.next=fe:(fe.next=He.next,He.next=fe),be.pending=fe}}T.lanes|=g,fe=T.alternate,fe!==null&&(fe.lanes|=g),w0(T.return,g,f),K.lanes|=g;break}fe=fe.next}}else if(T.tag===10)O=T.type===f.type?null:T.child;else if(T.tag===18){if(O=T.return,O===null)throw Error(o(341));O.lanes|=g,K=O.alternate,K!==null&&(K.lanes|=g),w0(O,g,f),O=T.sibling}else O=T.child;if(O!==null)O.return=T;else for(O=T;O!==null;){if(O===f){O=null;break}if(T=O.sibling,T!==null){T.return=O.return,O=T;break}O=O.return}T=O}ui(c,f,C.children,g),f=f.child}return f;case 9:return C=f.type,w=f.pendingProps.children,Tl(f,g),C=tr(C),w=w(C),f.flags|=1,ui(c,f,w,g),f.child;case 14:return w=f.type,C=Tr(w,f.pendingProps),C=Tr(w.type,C),EM(c,f,w,C,g);case 15:return bM(c,f,f.type,f.pendingProps,g);case 17:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:Tr(w,C),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,wi(w)?(c=!0,ih(f)):c=!1,Tl(f,g),Ww(f,w,C),C0(f,w,C,g),W0(null,f,w,!0,c,g);case 19:return kM(c,f,g);case 22:return TM(c,f,g)}throw Error(o(156,f.tag))};function aS(c,f){return m0(c,f)}function JI(c,f,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(c,f,g,w){return new JI(c,f,g,w)}function dv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function XI(c){if(typeof c=="function")return dv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===v)return 11;if(c===_)return 14}return 2}function ho(c,f){var g=c.alternate;return g===null?(g=ar(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function Kh(c,f,g,w,C,T){var O=2;if(w=c,typeof c=="function")dv(c)&&(O=1);else if(typeof c=="string")O=5;else e:switch(c){case d:return _a(g.children,C,T,f);case h:O=8,C|=8;break;case p:return c=ar(12,g,f,C|2),c.elementType=p,c.lanes=T,c;case x:return c=ar(13,g,f,C),c.elementType=x,c.lanes=T,c;case A:return c=ar(19,g,f,C),c.elementType=A,c.lanes=T,c;case S:return Yh(g,C,T,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:O=10;break e;case y:O=9;break e;case v:O=11;break e;case _:O=14;break e;case M:O=16,w=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=ar(O,g,f,C),f.elementType=c,f.type=w,f.lanes=T,f}function _a(c,f,g,w){return c=ar(7,c,w,f),c.lanes=g,c}function Yh(c,f,g,w){return c=ar(22,c,w,f),c.elementType=S,c.lanes=g,c.stateNode={},c}function hv(c,f,g){return c=ar(6,c,null,f),c.lanes=g,c}function pv(c,f,g){return f=ar(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function KI(c,f,g,w,C){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h0(0),this.expirationTimes=h0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h0(0),this.identifierPrefix=w,this.onRecoverableError=C,le&&(this.mutableSourceEagerHydrationData=null)}function lS(c,f,g,w,C,T,O,K,fe){return c=new KI(c,f,g,K,fe),f===1?(f=1,T===!0&&(f|=8)):f=0,T=ar(3,null,null,f),c.current=T,T.stateNode=c,T.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null},M0(T),c}function cS(c){if(!c)return er;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(wi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var g=c.type;if(wi(g))return Iw(c,g,f)}return f}function uS(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=ee(f),c===null?null:c.stateNode}function fS(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function mv(c,f){fS(c,f),(c=c.alternate)&&fS(c,f)}function YI(c){return c=ee(c),c===null?null:c.stateNode}function qI(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=fi();or(c,134217728,f),mv(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=fi(),g=uo(c);or(c,g,f),mv(c,g)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var g=Au(f.pendingLanes);g!==0&&(p0(f,g|1),Si(f,On()),!(yt&6)&&(Ol(),Zr()))}break;case 13:var w=fi();$M(function(){return or(c,1,w)}),mv(c,1)}},t.batchedUpdates=function(c,f){var g=yt;yt|=1;try{return c(f)}finally{yt=g,yt===0&&(Ol(),lh&&Zr())}},t.createComponentSelector=function(c){return{$$typeof:Dh,value:c}},t.createContainer=function(c,f,g,w,C,T,O){return lS(c,f,!1,null,g,w,C,T,O)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Nh,value:c}},t.createHydrationContainer=function(c,f,g,w,C,T,O,K,fe){return c=lS(g,w,!0,c,C,T,O,K,fe),c.context=cS(null),g=c.current,w=fi(),C=uo(g),T=Ms(w,C),T.callback=f??null,ao(g,T),c.current.lanes=C,_u(c,C,w),Si(c,w),c},t.createPortal=function(c,f,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:c,containerInfo:f,implementation:g}},t.createRoleSelector=function(c){return{$$typeof:Fh,value:c}},t.createTestNameSelector=function(c){return{$$typeof:kh,value:c}},t.createTextSelector=function(c){return{$$typeof:Oh,value:c}},t.deferredUpdates=function(c){var f=Dt,g=gn.transition;try{return gn.transition=null,Dt=16,c()}finally{Dt=f,gn.transition=g}},t.discreteUpdates=function(c,f,g,w,C){var T=Dt,O=gn.transition;try{return gn.transition=null,Dt=1,c(f,g,w,C)}finally{Dt=T,gn.transition=O,yt===0&&Ol()}},t.findAllNodes=tv,t.findBoundingRects=function(c,f){if(!_t)throw Error(o(363));f=tv(c,f),c=[];for(var g=0;g<f.length;g++)c.push(z(f[g]));for(f=c.length-1;0<f;f--){g=c[f];for(var w=g.x,C=w+g.width,T=g.y,O=T+g.height,K=f-1;0<=K;K--)if(f!==K){var fe=c[K],be=fe.x,He=be+fe.width,ct=fe.y,nt=ct+fe.height;if(w>=be&&T>=ct&&C<=He&&O<=nt){c.splice(f,1);break}else if(w!==be||g.width!==fe.width||nt<T||ct>O){if(!(T!==ct||g.height!==fe.height||He<w||be>C)){be>w&&(fe.width+=be-w,fe.x=w),He<C&&(fe.width=C-be),c.splice(f,1);break}}else{ct>T&&(fe.height+=ct-T,fe.y=T),nt<O&&(fe.height=O-ct),c.splice(f,1);break}}}return c},t.findHostInstance=uS,t.findHostInstanceWithNoPortals=function(c){return c=G(c),c=c!==null?V(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return uS(c)},t.flushControlled=function(c){var f=yt;yt|=1;var g=gn.transition,w=Dt;try{gn.transition=null,Dt=1,c()}finally{Dt=w,gn.transition=g,yt=f,yt===0&&(Ol(),Zr())}},t.flushPassiveEffects=Aa,t.flushSync=$M,t.focusWithin=function(c,f){if(!_t)throw Error(o(363));for(c=Z0(c),f=qM(c,f),f=Array.from(f),c=0;c<f.length;){var g=f[c++];if(!ae(g)){if(g.tag===5&&Ee(g.stateNode))return!0;for(g=g.child;g!==null;)f.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(c,f){if(!_t)throw Error(o(363));var g=0,w=[];c=[Z0(c),0];for(var C=0;C<c.length;){var T=c[C++],O=c[C++],K=f[O];if((T.tag!==5||!ae(T))&&($0(T,K)&&(w.push(ev(K)),O++,O>g&&(g=O)),O<f.length))for(T=T.child;T!==null;)c.push(T,O),T=T.sibling}if(g<f.length){for(c=[];g<f.length;g++)c.push(ev(f[g]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ie(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:YI,findFiberByHostInstance:c.findFiberByHostInstance||qI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{ah=f.inject(c),qr=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,g,w){if(!_t)throw Error(o(363));c=tv(c,f);var C=Te(c,g,w).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(c,f){var g=f._getVersion;g=g(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,g]:c.mutableSourceEagerHydrationData.push(f,g)},t.runWithPriority=function(c,f){var g=Dt;try{return Dt=c,f()}finally{Dt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,g,w){var C=f.current,T=fi(),O=uo(C);return g=cS(g),f.context===null?f.context=g:f.pendingContext=g,f=Ms(T,O),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),ao(C,f),c=or(C,O,T),c!==null&&dh(c,C,O),O},t};nR.exports=S9;var C9=nR.exports;const E9=c1(C9);function sR(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const zs=[];function oR(n,e,t=!1,i={}){for(const s of zs)if(sR(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=zs.indexOf(r);s!==-1&&zs.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(zs.push(r),!t)throw r.promise}const b9=(n,e,t)=>oR(n,e,!1,t),T9=(n,e,t)=>void oR(n,e,!0,t),P9=n=>{if(n===void 0||n.length===0)zs.splice(0,zs.length);else{const e=zs.find(t=>sR(n,t.keys,t.equal));if(e){const t=zs.indexOf(e);t!==-1&&zs.splice(t,1)}}};var qE,QE;const B9=(n,...e)=>e.reduce((t,i)=>t==null?void 0:t[i],n),sc="ColorManagement"in IA&&B9(IA,"ColorManagement")||null,aR=n=>n&&n.isOrthographicCamera,R9=n=>n&&n.hasOwnProperty("current"),Kd=typeof window<"u"&&((qE=window.document)!=null&&qE.createElement||((QE=window.navigator)==null?void 0:QE.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function lR(n){const e=U.useRef(n);return Kd(()=>void(e.current=n),[n]),e}function L9({set:n}){return Kd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class cR extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}cR.getDerivedStateFromError=()=>({error:!0});const uR="__default",ZE=new Map,I9=n=>n&&!!n.memoized&&!!n.changes;function fR(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const of=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},nn={obj:n=>n===Object(n)&&!nn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(nn.str(n)||nn.num(n))return n===e;const s=nn.obj(n);if(s&&i==="reference")return n===e;const o=nn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in r?e:n)if(n[a]!==e[a])return!1;if(nn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function D9(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function N9(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function oc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function NA(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const $E=/-\d+$/;function Sy(n,e,t){if(nn.str(t)){if($E.test(t)){const s=t.replace($E,""),{target:o,key:a}=NA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=NA(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function eb(n,e,t){var i,r;if(nn.str(t)){const{target:s,key:o}=NA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function dR(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(u){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||p.unshift([v[x],uR+"remove"])}p.forEach(([v,x])=>{var A;if((A=n.__r3f)!=null&&A.primitive&&v==="object"||nn.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,x,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,x,!1,_]);for(const M in r){const S=r[M];M.startsWith(`${v}-`)&&m.push([M,S,!1,M.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function Cy(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:u}=I9(e)?e:dR(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,y,v,x]=u[p],A=n,_=A[m];if(x.length&&(_=x.reduce((M,S)=>M[S],n),!(_&&_.set))){const[M,...S]=x.reverse();A=S.reverse().reduce((E,P)=>E[P],n),m=M}if(y===uR+"remove")if(A.constructor){let M=ZE.get(A.constructor);M||(M=new A.constructor,ZE.set(A.constructor,M)),y=M[m]}else y=0;if(v)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof ol)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const M=_ instanceof De;!M&&_.setScalar?_.setScalar(y):_ instanceof ol&&y instanceof ol?_.mask=y.mask:_.set(y),!sc&&!a.linear&&M&&_.convertSRGBToLinear()}}else A[m]=y,!a.linear&&A[m]instanceof en&&A[m].format===bi&&A[m].type===to&&(A[m].encoding=Vt);ac(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=n.__r3f)!=null&&r.parent&&FA(n),n}function ac(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function FA(n){n.onUpdate==null||n.onUpdate(n)}function F9(n,e){n.manual||(aR(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Zp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function k9(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Sc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sc.ContinuousEventPriority;default:return Sc.DefaultEventPriority}}function hR(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function O9(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{hR(t.capturedMap,e,i,r)})}function U9(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,u){const d=n.getState(),h=new Set,p=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let A=0;A<m.length;A++){const _=of(m[A]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(A){const _=of(A);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var M;_.events.compute==null||_.events.compute(l,_,(M=_.previousRoot)==null?void 0:M.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(A,!0):[]}let v=m.flatMap(y).sort((A,_)=>{const M=of(A.object),S=of(_.object);return!M||!S?A.distance-_.distance:S.events.priority-M.events.priority||A.distance-_.distance}).filter(A=>{const _=Zp(A);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(v=d.events.filter(v,d));for(const A of v){let _=A.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...A,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let A of d.internal.capturedMap.get(l.pointerId).values())h.has(Zp(A.intersection))||p.push(A.intersection);return p}function r(l,u,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const v=of(y.object)||p,{raycaster:x,pointer:A,camera:_,internal:M}=v,S=new N(A.x,A.y,0).unproject(_),E=I=>{var G,ee;return(G=(ee=M.capturedMap.get(I))==null?void 0:ee.has(y.eventObject))!=null?G:!1},P=I=>{const G={intersection:y,target:u.target};M.capturedMap.has(I)?M.capturedMap.get(I).set(y.eventObject,G):M.capturedMap.set(I,new Map([[y.eventObject,G]])),u.target.setPointerCapture(I)},L=I=>{const G=M.capturedMap.get(I);G&&hR(M.capturedMap,y.eventObject,G,I)};let b={};for(let I in u){let G=u[I];typeof G!="function"&&(b[I]=G)}let R={...y,...b,pointer:A,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const I="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!I||I.has(y.eventObject))&&(R.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(G=>G.eventObject===y.eventObject))){const G=l.slice(0,l.indexOf(y));s([...G,y])}},target:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:L},nativeEvent:u};if(h(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Zp(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,m?t:void 0),A=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(M=>M.eventObject)),y&&!x.length&&A<=2&&(o(d,p.interaction),h&&h(d)),m&&s(x);function _(M){const S=M.eventObject,E=S.__r3f,P=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=Zp(M),b=p.hovered.get(L);b?b.stopped&&M.stopPropagation():(p.hovered.set(L,M),P.onPointerOver==null||P.onPointerOver(M),P.onPointerEnter==null||P.onPointerEnter(M))}P.onPointerMove==null||P.onPointerMove(M)}else{const L=P[l];L?(!y||p.initialHits.includes(S))&&(o(d,p.interaction.filter(b=>!p.initialHits.includes(b))),L(M)):y&&p.initialHits.includes(S)&&o(d,p.interaction.filter(b=>!p.initialHits.includes(b)))}}r(x,d,A,_)}}return{handlePointer:a}}let kA={},z9=n=>void(kA={...kA,...n});function G9(n,e){function t(d,{args:h=[],attach:p,...m},y){let v=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=m.object;x=oc(A,{type:d,root:y,attach:p,primitive:!0})}else{const A=kA[v];if(!A)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=oc(new A(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof ft?x.__r3f.attach="geometry":x instanceof En&&(x.__r3f.attach="material")),v!=="inject"&&Cy(x,m),x}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?Sy(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||oc(h,{}),h.__r3f.parent=d,FA(h),ac(h)}}function r(d,h,p){let m=!1;if(h){var y,v;if((y=h.__r3f)!=null&&y.attach)Sy(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const x=d.children.filter(_=>_!==h),A=x.indexOf(p);d.children=[...x.slice(0,A),h,...x.slice(A)],m=!0}m||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||oc(h,{}),h.__r3f.parent=d,FA(h),ac(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,v;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(S=>S!==h)),(y=h.__r3f)!=null&&y.attach)eb(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&O9(h.__r3f.root,h)}const _=(v=h.__r3f)==null?void 0:v.primitive,M=p===void 0?h.dispose!==null&&!_:p;if(!_){var A;s((A=h.__r3f)==null?void 0:A.objects,h,M),s(h.children,h,M)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,_||delete h.__r3f),M&&h.dispose&&h.type!=="Scene"&&DA.unstable_scheduleCallback(DA.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),ac(d)}}function a(d,h,p,m){var y;const v=(y=d.__r3f)==null?void 0:y.parent;if(!v)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const A of d.children)A.__r3f&&i(x,A);d.children=d.children.filter(A=>!A.__r3f)}d.__r3f.objects.forEach(A=>i(x,A)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(v,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(v,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(A=>{A!==null&&(A.stateNode=x,A.ref&&(typeof A.ref=="function"?A.ref(x):A.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:E9({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){if(d.__r3f.primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:v,...x}=m,{args:A=[],children:_,...M}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((E,P)=>E!==A[P]))return[!0];const S=dR(d,x,M,!0);return S.changes.length?[!1,S]:null}},commitUpdate(d,[h,p],m,y,v,x){h?a(d,m,v,x):Cy(d,p)},commitMount(d,h,p,m){var y;const v=(y=d.__r3f)!=null?y:{};d.raycast&&v.handlers&&v.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>oc(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&eb(m,d,p),d.isObject3D&&(d.visible=!1),ac(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&Sy(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),ac(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Sc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nn.fun(performance.now)?performance.now:nn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Cy}}const pR=n=>!!(n!=null&&n.render),mR=U.createContext(null),H9=(n,e)=>{const t=tR((a,l)=>{const u=new N,d=new N,h=new N;function p(A=l().camera,_=d,M=l().size){const{width:S,height:E,top:P,left:L}=M,b=S/E;_ instanceof N?h.copy(_):h.set(..._);const R=A.getWorldPosition(u).distanceTo(h);if(aR(A))return{width:S/A.zoom,height:E/A.zoom,top:P,left:L,factor:1,distance:R,aspect:b};{const I=A.fov*Math.PI/180,G=2*Math.tan(I/2)*R,ee=G*(S/E);return{width:ee,height:G,top:P,left:L,factor:S/ee,distance:R,aspect:b}}}let m;const y=A=>a(_=>({performance:{..._.performance,current:A}})),v=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(A=1)=>n(l(),A),advance:(A,_)=>e(A,_,l()),legacy:!1,linear:!1,flat:!1,scene:oc(new S_),controls:null,clock:new X_,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();m&&clearTimeout(m),A.performance.current!==A.performance.min&&y(A.performance.min),m=setTimeout(()=>y(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:A=>a(_=>({..._,events:{..._.events,...A}})),setSize:(A,_,M,S,E)=>{const P=l().camera,L={width:A,height:_,top:S||0,left:E||0,updateStyle:M};a(b=>({size:L,viewport:{...b.viewport,...p(P,d,L)}}))},setDpr:A=>a(_=>{const M=fR(A);return{viewport:{..._.viewport,dpr:M,initialDpr:_.viewport.initialDpr||M}}}),setFrameloop:(A="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,A!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,_,M)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:A,priority:_,store:M}),S.subscribers=S.subscribers.sort((E,P)=>E.priority-P.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(P=>P.ref!==A))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:h}=t.getState();if(l!==r||u.dpr!==s){var p;r=l,s=u.dpr,F9(a,l),d.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let $p,V9=new Set,W9=new Set,j9=new Set;function Ey(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function af(n,e){switch(n){case"before":return Ey(V9,e);case"after":return Ey(W9,e);case"tail":return Ey(j9,e)}}let by,Ty;function Py(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),by=e.internal.subscribers,$p=0;$p<by.length;$p++)Ty=by[$p],Ty.ref.current(Ty.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function J9(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,af("before",l);for(const d of n.values()){var u;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(t+=Py(l,r))}if(af("after",l),t===0)return af("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,u=1){var d;if(!l)return n.forEach(h=>o(h.store.getState()),u);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,d,h){if(u&&af("before",l),d)Py(l,d,h);else for(const p of n.values())Py(l,p.store.getState());u&&af("after",l)}return{loop:s,invalidate:o,advance:a}}function gR(){const n=U.useContext(mR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Hi(n=t=>t,e){return gR()(n,e)}function vu(n,e=0){const t=gR(),i=t.getState().internal.subscribe,r=lR(n);return Kd(()=>i(r,e,t),[e,i,t]),null}function vR(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,D9(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function ua(n,e,t,i){const r=Array.isArray(e)?e:[e],s=b9(vR(t,i),[n,...r],{equal:nn.equ});return Array.isArray(e)?s:s[0]}ua.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return T9(vR(t),[n,...i])};ua.clear=function(n,e){const t=Array.isArray(e)?e:[e];return P9([n,...t])};const eu=new Map,{invalidate:tb,advance:nb}=J9(eu),{reconciler:ag,applyProps:No}=G9(eu,k9),lf={objects:"shallow",strict:!1},X9=(n,e)=>{const t=typeof n=="function"?n(e):n;return pR(t)?t:new M_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function K9(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Y9(n){const e=eu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||H9(tb,nb),o=t||ag.createContainer(s,Sc.ConcurrentRoot,null,!1,null,"",r,null);e||eu.set(n,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:d,size:h,events:p,onCreated:m,shadows:y=!1,linear:v=!1,flat:x=!1,legacy:A=!1,orthographic:_=!1,frameloop:M="always",dpr:S=[1,2],performance:E,raycaster:P,camera:L,onPointerMissed:b}=u,R=s.getState(),I=R.gl;R.gl||R.set({gl:I=X9(d,n)});let G=R.raycaster;G||R.set({raycaster:G=new Z3});const{params:ee,...W}=P||{};if(nn.equ(W,G,lf)||No(G,{...W}),nn.equ(ee,G.params,lf)||No(G,{params:{...G.params,...ee}}),!R.camera){const k=L instanceof Pd,j=k?L:_?new yr(0,0,0,0,.1,1e3):new Kt(75,0,.1,1e3);k||(j.position.z=5,L&&No(j,L),L!=null&&L.rotation||j.lookAt(0,0,0)),R.set({camera:j})}if(!R.xr){const k=(oe,X)=>{const re=s.getState();re.frameloop!=="never"&&nb(oe,!0,re,X)},j=()=>{const oe=s.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?k:null),oe.gl.xr.isPresenting||tb(oe)},Y={connect(){const oe=s.getState().gl;oe.xr.addEventListener("sessionstart",j),oe.xr.addEventListener("sessionend",j)},disconnect(){const oe=s.getState().gl;oe.xr.removeEventListener("sessionstart",j),oe.xr.removeEventListener("sessionend",j)}};I.xr&&Y.connect(),R.set({xr:Y})}if(I.shadowMap){const k=I.shadowMap.enabled,j=I.shadowMap.type;if(I.shadowMap.enabled=!!y,nn.boo(y))I.shadowMap.type=Bf;else if(nn.str(y)){var V;const Y={basic:cB,percentage:Og,soft:Bf,variance:Xa};I.shadowMap.type=(V=Y[y])!=null?V:Bf}else nn.obj(y)&&Object.assign(I.shadowMap,y);(k!==I.shadowMap.enabled||j!==I.shadowMap.type)&&(I.shadowMap.needsUpdate=!0)}sc&&("enabled"in sc?sc.enabled=!A:"legacyMode"in sc&&(sc.legacyMode=A));const q=v?no:Vt,ie=x?Wr:l_;I.outputEncoding!==q&&(I.outputEncoding=q),I.toneMapping!==ie&&(I.toneMapping=ie),R.legacy!==A&&R.set(()=>({legacy:A})),R.linear!==v&&R.set(()=>({linear:v})),R.flat!==x&&R.set(()=>({flat:x})),d&&!nn.fun(d)&&!pR(d)&&!nn.equ(d,I,lf)&&No(I,d),p&&!R.events.handlers&&R.set({events:p(s)});const ce=K9(n,h);return nn.equ(ce,R.size,lf)||R.setSize(ce.width,ce.height,ce.updateStyle,ce.top,ce.left),S&&R.viewport.dpr!==fR(S)&&R.setDpr(S),R.frameloop!==M&&R.setFrameloop(M),R.onPointerMissed||R.set({onPointerMissed:b}),E&&!nn.equ(E,R.performance,lf)&&R.set(k=>({performance:{...k.performance,...E}})),a=m,l=!0,this},render(u){return l||this.configure(),ag.updateContainer(U.createElement(q9,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){yR(n)}}}function q9({store:n,children:e,onCreated:t,rootElement:i}){return Kd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),U.createElement(mR.Provider,{value:n},e)}function yR(n,e){const t=eu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),ag.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),N9(r),eu.delete(n),e&&e(n)}catch{}},500)})}}ag.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});function Mr(){return Mr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mr.apply(this,arguments)}function OA(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}OA.debounce=OA;var Q9=OA;const ib=c1(Q9);function Z9(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=U.useRef(!1);U.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=U.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:M,top:S,width:E,height:P,bottom:L,right:b,x:R,y:I}=l.current.element.getBoundingClientRect(),G={left:M,top:S,width:E,height:P,bottom:L,right:b,x:R,y:I};l.current.element instanceof HTMLElement&&r&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),h.current&&!nV(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[_,d?ib(_,d):_,u?ib(_,u):_]},[a,r,u,d]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const A=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=xR(_),x())};return eV(y,!!t),$9(m),U.useEffect(()=>{v(),x()},[t,y,m]),U.useEffect(()=>v,[]),[A,o,p]}function $9(n){U.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function eV(n,e){U.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function xR(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...xR(n.parentElement)]}const tV=["x","y","top","bottom","left","right","width","height"],nV=(n,e)=>tV.every(t=>n[t]===e[t]);var iV=Object.defineProperty,rV=Object.defineProperties,sV=Object.getOwnPropertyDescriptors,rb=Object.getOwnPropertySymbols,oV=Object.prototype.hasOwnProperty,aV=Object.prototype.propertyIsEnumerable,sb=(n,e,t)=>e in n?iV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ob=(n,e)=>{for(var t in e||(e={}))oV.call(e,t)&&sb(n,t,e[t]);if(rb)for(var t of rb(e))aV.call(e,t)&&sb(n,t,e[t]);return n},lV=(n,e)=>rV(n,sV(e));function AR(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=AR(i,e,t);if(r)return r;i=e?null:i.sibling}}function _R(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Q_=_R(U.createContext(null));class wR extends U.Component{render(){return U.createElement(Q_.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:cV,ReactCurrentDispatcher:uV}=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function fV(){const n=U.useContext(Q_);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{var i;return(i=cV.current)!=null?i:AR(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function dV(){var n,e;const t=fV(),[i]=U.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==Q_&&!i.has(s)&&i.set(s,(e=uV.current)==null?void 0:e.readContext(_R(s))),r=r.return}return U.useMemo(()=>Array.from(i.keys()).reduce((s,o)=>a=>U.createElement(s,null,U.createElement(o.Provider,lV(ob({},a),{value:i.get(o)}))),s=>U.createElement(wR,ob({},s))),[i])}const By={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function hV(n){const{handlePointer:e}=U9(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(By).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=By[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=By[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const pV=U.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=hV,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:A,camera:_,onPointerMissed:M,onCreated:S,...E},P){U.useMemo(()=>z9(IA),[]);const L=dV(),[b,R]=Z9({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=U.useRef(null),G=U.useRef(null),[ee,W]=U.useState(null);U.useImperativeHandle(P,()=>I.current);const V=lR(M),[q,ie]=U.useState(!1),[ce,k]=U.useState(!1);if(q)throw q;if(ce)throw ce;const j=U.useRef(null);R.width>0&&R.height>0&&ee&&(j.current||(j.current=Y9(ee)),j.current.configure({gl:s,events:o,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:A,camera:_,size:R,onPointerMissed:(...oe)=>V.current==null?void 0:V.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(a?R9(a)?a.current:a:G.current),l&&oe.setEvents({compute:(X,re)=>{const ye=X[l+"X"],_e=X[l+"Y"];re.pointer.set(ye/re.size.width*2-1,-(_e/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),S==null||S(oe)}}),j.current.render(U.createElement(L,null,U.createElement(cR,{set:k},U.createElement(U.Suspense,{fallback:U.createElement(L9,{set:ie})},e))))),Kd(()=>{W(I.current)},[]),U.useEffect(()=>{if(ee)return()=>yR(ee)},[ee]);const Y=a?"none":"auto";return U.createElement("div",Mr({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...r}},E),U.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},U.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),$g=U.forwardRef(function(e,t){return U.createElement(wR,null,U.createElement(pV,Mr({},e,{ref:t})))}),Yd=new N,Z_=new N,mV=new N,ab=new pe;function gV(n,e,t){const i=Yd.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function vV(n,e){const t=Yd.setFromMatrixPosition(n.matrixWorld),i=Z_.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(mV);return r.angleTo(s)>Math.PI/2}function yV(n,e,t,i){const r=Yd.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),ab.set(s.x,s.y),t.setFromCamera(ab,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function xV(n,e){if(e instanceof yr)return e.zoom;if(e instanceof Kt){const t=Yd.setFromMatrixPosition(n.matrixWorld),i=Z_.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function AV(n,e,t){if(e instanceof Kt||e instanceof yr){const i=Yd.setFromMatrixPosition(n.matrixWorld),r=Z_.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const UA=n=>Math.abs(n)<1e-10?0:n;function MR(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=UA(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const _V=(n=>e=>MR(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),wV=(n=>(e,t)=>MR(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function MV(n){return n&&typeof n=="object"&&"current"in n}const SV=U.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:v,geometry:x,zIndexRange:A=[16777271,0],calculatePosition:_=gV,as:M="div",wrapperClass:S,pointerEvents:E="auto",...P},L)=>{const{gl:b,camera:R,scene:I,size:G,raycaster:ee,events:W,viewport:V}=Hi(),[q]=U.useState(()=>document.createElement(M)),ie=U.useRef(),ce=U.useRef(null),k=U.useRef(0),j=U.useRef([0,0]),Y=U.useRef(null),oe=U.useRef(null),X=(a==null?void 0:a.current)||W.connected||b.domElement.parentNode,re=U.useRef(null),ye=U.useRef(!1),_e=U.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&MV(h[0]),[h]);U.useLayoutEffect(()=>{const we=b.domElement;h&&h==="blending"?(we.style.zIndex=`${Math.floor(A[0]/2)}`,we.style.position="absolute",we.style.pointerEvents="none"):(we.style.zIndex=null,we.style.position=null,we.style.pointerEvents=null)},[h]),U.useLayoutEffect(()=>{if(ce.current){const we=ie.current=qP(q);if(I.updateMatrixWorld(),d)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Re=_(ce.current,R,G);q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Re[0]}px,${Re[1]}px,0);transform-origin:0 0;`}return X&&(r?X.prepend(q):X.appendChild(q)),()=>{X&&X.removeChild(q),we.unmount()}}},[X,d]),U.useLayoutEffect(()=>{S&&(q.className=S)},[S]);const $=U.useMemo(()=>d?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...t},[t,s,o,G,d]),ke=U.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);U.useLayoutEffect(()=>{if(ye.current=!1,d){var we;(we=ie.current)==null||we.render(U.createElement("div",{ref:Y,style:$},U.createElement("div",{ref:oe,style:ke},U.createElement("div",{ref:L,className:i,style:t,children:n}))))}else{var Re;(Re=ie.current)==null||Re.render(U.createElement("div",{ref:L,style:$,className:i,children:n}))}});const Oe=U.useRef(!0);vu(we=>{if(ce.current){R.updateMatrixWorld(),ce.current.updateWorldMatrix(!0,!1);const Re=d?j.current:_(ce.current,R,G);if(d||Math.abs(k.current-R.zoom)>e||Math.abs(j.current[0]-Re[0])>e||Math.abs(j.current[1]-Re[1])>e){const de=vV(ce.current,R);let le=!1;_e&&(Array.isArray(h)?le=h.map($e=>$e.current):h!=="blending"&&(le=[I]));const Ce=Oe.current;if(le){const $e=yV(ce.current,R,ee,le);Oe.current=$e&&!de}else Oe.current=!de;Ce!==Oe.current&&(p?p(!Oe.current):q.style.display=Oe.current?"block":"none");const ze=Math.floor(A[0]/2),Pe=h?_e?[A[0],ze]:[ze-1,0]:A;if(q.style.zIndex=`${AV(ce.current,R,Pe)}`,d){const[$e,qe]=[G.width/2,G.height/2],Je=R.projectionMatrix.elements[5]*qe,{isOrthographicCamera:_t,top:wt,left:z,bottom:D,right:ae}=R,Me=_V(R.matrixWorldInverse),Ee=_t?`scale(${Je})translate(${UA(-(ae+z)/2)}px,${UA((wt+D)/2)}px)`:`translateZ(${Je}px)`;let Te=ce.current.matrixWorld;u&&(Te=R.matrixWorldInverse.clone().transpose().copyPosition(Te).scale(ce.current.scale),Te.elements[3]=Te.elements[7]=Te.elements[11]=0,Te.elements[15]=1),q.style.width=G.width+"px",q.style.height=G.height+"px",q.style.perspective=_t?"":`${Je}px`,Y.current&&oe.current&&(Y.current.style.transform=`${Ee}${Me}translate(${$e}px,${qe}px)`,oe.current.style.transform=wV(Te,1/((l||10)/400)))}else{const $e=l===void 0?1:xV(ce.current,R)*l;q.style.transform=`translate3d(${Re[0]}px,${Re[1]}px,0) scale(${$e})`}j.current=Re,k.current=R.zoom}}if(!_e&&re.current&&!ye.current)if(d){if(Y.current){const Re=Y.current.children[0];if(Re!=null&&Re.clientWidth&&Re!=null&&Re.clientHeight){const{isOrthographicCamera:de}=R;if(de||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof N?re.current.scale.copy(P.scale.clone().divideScalar(1)):re.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):re.current.scale.setScalar(1/P.scale));else{const le=(l||10)/400,Ce=Re.clientWidth*le,ze=Re.clientHeight*le;re.current.scale.set(Ce,ze,1)}ye.current=!0}}}else{const Re=q.children[0];if(Re!=null&&Re.clientWidth&&Re!=null&&Re.clientHeight){const de=1/V.factor,le=Re.clientWidth*de,Ce=Re.clientHeight*de;re.current.scale.set(le,Ce,1),ye.current=!0}re.current.lookAt(we.camera.position)}});const Ve=U.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return U.createElement("group",Mr({},P,{ref:ce}),h&&!_e&&U.createElement("mesh",{castShadow:m,receiveShadow:y,ref:re},x||U.createElement("planeGeometry",null),v||U.createElement("shaderMaterial",{side:Gr,vertexShader:Ve.vertexShader,fragmentShader:Ve.fragmentShader})))});let cf=0;const CV=tR(n=>(Mc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-cf)/(i-cf)*100})},Mc.onLoad=()=>{n({active:!1})},Mc.onError=e=>n(t=>({errors:[...t.errors,e]})),Mc.onProgress=(e,t,i)=>{t===i&&(cf=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-cf)/(i-cf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function lb(n,e){if(e===$B)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===rg||e===f_){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===rg)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const EV=parseInt(lu.replace(/\D+/g,""));var bV=Object.defineProperty,TV=(n,e,t)=>e in n?bV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,at=(n,e,t)=>(TV(n,typeof e!="symbol"?e+"":e,t),t);const em=new uu,cb=new Os,PV=Math.cos(70*(Math.PI/180)),ub=(n,e)=>(n%e+e)%e;let BV=class extends ms{constructor(e,t){super(),at(this,"object"),at(this,"domElement"),at(this,"enabled",!0),at(this,"target",new N),at(this,"minDistance",0),at(this,"maxDistance",1/0),at(this,"minZoom",0),at(this,"maxZoom",1/0),at(this,"minPolarAngle",0),at(this,"maxPolarAngle",Math.PI),at(this,"minAzimuthAngle",-1/0),at(this,"maxAzimuthAngle",1/0),at(this,"enableDamping",!1),at(this,"dampingFactor",.05),at(this,"enableZoom",!0),at(this,"zoomSpeed",1),at(this,"enableRotate",!0),at(this,"rotateSpeed",1),at(this,"enablePan",!0),at(this,"panSpeed",1),at(this,"screenSpacePanning",!0),at(this,"keyPanSpeed",7),at(this,"zoomToCursor",!1),at(this,"autoRotate",!1),at(this,"autoRotateSpeed",2),at(this,"reverseOrbit",!1),at(this,"reverseHorizontalOrbit",!1),at(this,"reverseVerticalOrbit",!1),at(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),at(this,"mouseButtons",{LEFT:ka.ROTATE,MIDDLE:ka.DOLLY,RIGHT:ka.PAN}),at(this,"touches",{ONE:Oa.ROTATE,TWO:Oa.DOLLY_PAN}),at(this,"target0"),at(this,"position0"),at(this,"zoom0"),at(this,"_domElementKeyEvents",null),at(this,"getPolarAngle"),at(this,"getAzimuthalAngle"),at(this,"setPolarAngle"),at(this,"setAzimuthalAngle"),at(this,"getDistance"),at(this,"listenToKeyEvents"),at(this,"stopListenToKeyEvents"),at(this,"saveState"),at(this,"reset"),at(this,"update"),at(this,"connect"),at(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=J=>{let ve=ub(J,2*Math.PI),Ue=d.phi;Ue<0&&(Ue+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let H=Math.abs(ve-Ue);2*Math.PI-H<H&&(ve<Ue?ve+=2*Math.PI:Ue+=2*Math.PI),h.phi=ve-Ue,i.update()},this.setAzimuthalAngle=J=>{let ve=ub(J,2*Math.PI),Ue=d.theta;Ue<0&&(Ue+=2*Math.PI),ve<0&&(ve+=2*Math.PI);let H=Math.abs(ve-Ue);2*Math.PI-H<H&&(ve<Ue?ve+=2*Math.PI:Ue+=2*Math.PI),h.theta=ve-Ue,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=J=>{J.addEventListener("keydown",it),this._domElementKeyEvents=J},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",it),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const J=new N,ve=new N(0,1,0),Ue=new Wn().setFromUnitVectors(e.up,ve),H=Ue.clone().invert(),se=new N,xe=new Wn,Le=2*Math.PI;return function(){const Mt=i.object.position;Ue.setFromUnitVectors(e.up,ve),H.copy(Ue).invert(),J.copy(Mt).sub(i.target),J.applyQuaternion(Ue),d.setFromVector3(J),i.autoRotate&&l===a.NONE&&V(ee()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let Ot=i.minAzimuthAngle,Ht=i.maxAzimuthAngle;isFinite(Ot)&&isFinite(Ht)&&(Ot<-Math.PI?Ot+=Le:Ot>Math.PI&&(Ot-=Le),Ht<-Math.PI?Ht+=Le:Ht>Math.PI&&(Ht-=Le),Ot<=Ht?d.theta=Math.max(Ot,Math.min(Ht,d.theta)):d.theta=d.theta>(Ot+Ht)/2?Math.max(Ot,d.theta):Math.min(Ht,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?d.radius=X(d.radius):d.radius=X(d.radius*p),J.setFromSpherical(d),J.applyQuaternion(H),Mt.copy(i.target).add(J),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let qn=!1;if(i.zoomToCursor&&R){let Lt=null;if(i.object instanceof Kt&&i.object.isPerspectiveCamera){const Fn=J.length();Lt=X(Fn*p);const bn=Fn-Lt;i.object.position.addScaledVector(L,bn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Fn=new N(b.x,b.y,0);Fn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),qn=!0;const bn=new N(b.x,b.y,0);bn.unproject(i.object),i.object.position.sub(bn).add(Fn),i.object.updateMatrixWorld(),Lt=J.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Lt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Lt).add(i.object.position):(em.origin.copy(i.object.position),em.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(em.direction))<PV?e.lookAt(i.target):(cb.setFromNormalAndCoplanarPoint(i.object.up,i.target),em.intersectPlane(cb,i.target))))}else i.object instanceof yr&&i.object.isOrthographicCamera&&(qn=p!==1,qn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,qn||se.distanceToSquared(i.object.position)>u||8*(1-xe.dot(i.object.quaternion))>u?(i.dispatchEvent(r),se.copy(i.object.position),xe.copy(i.object.quaternion),qn=!1,!0):!1}})(),this.connect=J=>{J===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=J,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Qe),i.domElement.addEventListener("pointerdown",wt),i.domElement.addEventListener("pointercancel",ae),i.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var J,ve,Ue,H,se,xe;(J=i.domElement)==null||J.removeEventListener("contextmenu",Qe),(ve=i.domElement)==null||ve.removeEventListener("pointerdown",wt),(Ue=i.domElement)==null||Ue.removeEventListener("pointercancel",ae),(H=i.domElement)==null||H.removeEventListener("wheel",Te),(se=i.domElement)==null||se.ownerDocument.removeEventListener("pointermove",z),(xe=i.domElement)==null||xe.ownerDocument.removeEventListener("pointerup",D),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",it)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new LA,h=new LA;let p=1;const m=new N,y=new pe,v=new pe,x=new pe,A=new pe,_=new pe,M=new pe,S=new pe,E=new pe,P=new pe,L=new N,b=new pe;let R=!1;const I=[],G={};function ee(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function V(J){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=J:h.theta-=J}function q(J){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=J:h.phi-=J}const ie=(()=>{const J=new N;return function(Ue,H){J.setFromMatrixColumn(H,0),J.multiplyScalar(-Ue),m.add(J)}})(),ce=(()=>{const J=new N;return function(Ue,H){i.screenSpacePanning===!0?J.setFromMatrixColumn(H,1):(J.setFromMatrixColumn(H,0),J.crossVectors(i.object.up,J)),J.multiplyScalar(Ue),m.add(J)}})(),k=(()=>{const J=new N;return function(Ue,H){const se=i.domElement;if(se&&i.object instanceof Kt&&i.object.isPerspectiveCamera){const xe=i.object.position;J.copy(xe).sub(i.target);let Le=J.length();Le*=Math.tan(i.object.fov/2*Math.PI/180),ie(2*Ue*Le/se.clientHeight,i.object.matrix),ce(2*H*Le/se.clientHeight,i.object.matrix)}else se&&i.object instanceof yr&&i.object.isOrthographicCamera?(ie(Ue*(i.object.right-i.object.left)/i.object.zoom/se.clientWidth,i.object.matrix),ce(H*(i.object.top-i.object.bottom)/i.object.zoom/se.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function j(J){i.object instanceof Kt&&i.object.isPerspectiveCamera||i.object instanceof yr&&i.object.isOrthographicCamera?p/=J:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(J){i.object instanceof Kt&&i.object.isPerspectiveCamera||i.object instanceof yr&&i.object.isOrthographicCamera?p*=J:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function oe(J){if(!i.zoomToCursor||!i.domElement)return;R=!0;const ve=i.domElement.getBoundingClientRect(),Ue=J.clientX-ve.left,H=J.clientY-ve.top,se=ve.width,xe=ve.height;b.x=Ue/se*2-1,b.y=-(H/xe)*2+1,L.set(b.x,b.y,1).unproject(i.object).sub(i.object.position).normalize()}function X(J){return Math.max(i.minDistance,Math.min(i.maxDistance,J))}function re(J){y.set(J.clientX,J.clientY)}function ye(J){oe(J),S.set(J.clientX,J.clientY)}function _e(J){A.set(J.clientX,J.clientY)}function $(J){v.set(J.clientX,J.clientY),x.subVectors(v,y).multiplyScalar(i.rotateSpeed);const ve=i.domElement;ve&&(V(2*Math.PI*x.x/ve.clientHeight),q(2*Math.PI*x.y/ve.clientHeight)),y.copy(v),i.update()}function ke(J){E.set(J.clientX,J.clientY),P.subVectors(E,S),P.y>0?j(W()):P.y<0&&Y(W()),S.copy(E),i.update()}function Oe(J){_.set(J.clientX,J.clientY),M.subVectors(_,A).multiplyScalar(i.panSpeed),k(M.x,M.y),A.copy(_),i.update()}function Ve(J){oe(J),J.deltaY<0?Y(W()):J.deltaY>0&&j(W()),i.update()}function we(J){let ve=!1;switch(J.code){case i.keys.UP:k(0,i.keyPanSpeed),ve=!0;break;case i.keys.BOTTOM:k(0,-i.keyPanSpeed),ve=!0;break;case i.keys.LEFT:k(i.keyPanSpeed,0),ve=!0;break;case i.keys.RIGHT:k(-i.keyPanSpeed,0),ve=!0;break}ve&&(J.preventDefault(),i.update())}function Re(){if(I.length==1)y.set(I[0].pageX,I[0].pageY);else{const J=.5*(I[0].pageX+I[1].pageX),ve=.5*(I[0].pageY+I[1].pageY);y.set(J,ve)}}function de(){if(I.length==1)A.set(I[0].pageX,I[0].pageY);else{const J=.5*(I[0].pageX+I[1].pageX),ve=.5*(I[0].pageY+I[1].pageY);A.set(J,ve)}}function le(){const J=I[0].pageX-I[1].pageX,ve=I[0].pageY-I[1].pageY,Ue=Math.sqrt(J*J+ve*ve);S.set(0,Ue)}function Ce(){i.enableZoom&&le(),i.enablePan&&de()}function ze(){i.enableZoom&&le(),i.enableRotate&&Re()}function Pe(J){if(I.length==1)v.set(J.pageX,J.pageY);else{const Ue=Xe(J),H=.5*(J.pageX+Ue.x),se=.5*(J.pageY+Ue.y);v.set(H,se)}x.subVectors(v,y).multiplyScalar(i.rotateSpeed);const ve=i.domElement;ve&&(V(2*Math.PI*x.x/ve.clientHeight),q(2*Math.PI*x.y/ve.clientHeight)),y.copy(v)}function $e(J){if(I.length==1)_.set(J.pageX,J.pageY);else{const ve=Xe(J),Ue=.5*(J.pageX+ve.x),H=.5*(J.pageY+ve.y);_.set(Ue,H)}M.subVectors(_,A).multiplyScalar(i.panSpeed),k(M.x,M.y),A.copy(_)}function qe(J){const ve=Xe(J),Ue=J.pageX-ve.x,H=J.pageY-ve.y,se=Math.sqrt(Ue*Ue+H*H);E.set(0,se),P.set(0,Math.pow(E.y/S.y,i.zoomSpeed)),j(P.y),S.copy(E)}function Je(J){i.enableZoom&&qe(J),i.enablePan&&$e(J)}function _t(J){i.enableZoom&&qe(J),i.enableRotate&&Pe(J)}function wt(J){var ve,Ue;i.enabled!==!1&&(I.length===0&&((ve=i.domElement)==null||ve.ownerDocument.addEventListener("pointermove",z),(Ue=i.domElement)==null||Ue.ownerDocument.addEventListener("pointerup",D)),rt(J),J.pointerType==="touch"?Ne(J):Me(J))}function z(J){i.enabled!==!1&&(J.pointerType==="touch"?ge(J):Ee(J))}function D(J){var ve,Ue,H;je(J),I.length===0&&((ve=i.domElement)==null||ve.releasePointerCapture(J.pointerId),(Ue=i.domElement)==null||Ue.ownerDocument.removeEventListener("pointermove",z),(H=i.domElement)==null||H.ownerDocument.removeEventListener("pointerup",D)),i.dispatchEvent(o),l=a.NONE}function ae(J){je(J)}function Me(J){let ve;switch(J.button){case 0:ve=i.mouseButtons.LEFT;break;case 1:ve=i.mouseButtons.MIDDLE;break;case 2:ve=i.mouseButtons.RIGHT;break;default:ve=-1}switch(ve){case ka.DOLLY:if(i.enableZoom===!1)return;ye(J),l=a.DOLLY;break;case ka.ROTATE:if(J.ctrlKey||J.metaKey||J.shiftKey){if(i.enablePan===!1)return;_e(J),l=a.PAN}else{if(i.enableRotate===!1)return;re(J),l=a.ROTATE}break;case ka.PAN:if(J.ctrlKey||J.metaKey||J.shiftKey){if(i.enableRotate===!1)return;re(J),l=a.ROTATE}else{if(i.enablePan===!1)return;_e(J),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ee(J){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;$(J);break;case a.DOLLY:if(i.enableZoom===!1)return;ke(J);break;case a.PAN:if(i.enablePan===!1)return;Oe(J);break}}function Te(J){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(J.preventDefault(),i.dispatchEvent(s),Ve(J),i.dispatchEvent(o))}function it(J){i.enabled===!1||i.enablePan===!1||we(J)}function Ne(J){switch(et(J),I.length){case 1:switch(i.touches.ONE){case Oa.ROTATE:if(i.enableRotate===!1)return;Re(),l=a.TOUCH_ROTATE;break;case Oa.PAN:if(i.enablePan===!1)return;de(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Oa.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ce(),l=a.TOUCH_DOLLY_PAN;break;case Oa.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ze(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ge(J){switch(et(J),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Pe(J),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;$e(J),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Je(J),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;_t(J),i.update();break;default:l=a.NONE}}function Qe(J){i.enabled!==!1&&J.preventDefault()}function rt(J){I.push(J)}function je(J){delete G[J.pointerId];for(let ve=0;ve<I.length;ve++)if(I[ve].pointerId==J.pointerId){I.splice(ve,1);return}}function et(J){let ve=G[J.pointerId];ve===void 0&&(ve=new pe,G[J.pointerId]=ve),ve.set(J.pageX,J.pageY)}function Xe(J){const ve=J.pointerId===I[0].pointerId?I[1]:I[0];return G[ve.pointerId]}t!==void 0&&this.connect(t),this.update()}};class $_ extends _i{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new NV(t)}),this.register(function(t){return new VV(t)}),this.register(function(t){return new WV(t)}),this.register(function(t){return new jV(t)}),this.register(function(t){return new kV(t)}),this.register(function(t){return new OV(t)}),this.register(function(t){return new UV(t)}),this.register(function(t){return new zV(t)}),this.register(function(t){return new DV(t)}),this.register(function(t){return new GV(t)}),this.register(function(t){return new FV(t)}),this.register(function(t){return new HV(t)}),this.register(function(t){return new LV(t)}),this.register(function(t){return new JV(t)}),this.register(function(t){return new XV(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=us.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ki(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(us.decodeText(new Uint8Array(e.slice(0,4)))===SR){try{o[Tt.KHR_BINARY_GLTF]=new KV(e)}catch(d){r&&r(d);return}s=JSON.parse(o[Tt.KHR_BINARY_GLTF].content)}else s=JSON.parse(us.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new a6(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(d){case Tt.KHR_MATERIALS_UNLIT:o[d]=new IV;break;case Tt.KHR_DRACO_MESH_COMPRESSION:o[d]=new YV(s,this.dracoLoader);break;case Tt.KHR_TEXTURE_TRANSFORM:o[d]=new qV;break;case Tt.KHR_MESH_QUANTIZATION:o[d]=new QV;break;default:h.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function RV(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Tt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class LV{constructor(e){this.parser=e,this.name=Tt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new De(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new j_(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new W_(d),u.distance=h;break;case"spot":u=new V_(d),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,bo(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class IV{constructor(){this.name=Tt.KHR_MATERIALS_UNLIT}getMaterialType(){return Wi}extendParams(e,t,i){const r=[];e.color=new De(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class DV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class NV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class FV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class kV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new De(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class OV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class UV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new De(a[0],a[1],a[2]),Promise.all(s)}}class zV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class GV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new De(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class HV{constructor(e){this.parser=e,this.name=Tt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:gs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class VV{constructor(e){this.parser=e,this.name=Tt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class WV{constructor(e){this.parser=e,this.name=Tt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jV{constructor(e){this.parser=e,this.name=Tt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class JV{constructor(e){this.name=Tt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}class XV{constructor(e){this.name=Tt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==dr.TRIANGLES&&u.mode!==dr.TRIANGLE_STRIP&&u.mode!==dr.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(d=>(l[u]=d,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const d=u.pop(),h=d.isGroup?d.children:[d],p=u[0].count,m=[];for(const y of h){const v=new ot,x=new N,A=new Wn,_=new N(1,1,1),M=new b_(y.geometry,y.material,p);for(let S=0;S<p;S++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&A.fromBufferAttribute(l.ROTATION,S),l.SCALE&&_.fromBufferAttribute(l.SCALE,S),M.setMatrixAt(S,v.compose(x,A,_));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&y.geometry.setAttribute(S,l[S]);Pt.prototype.copy.call(M,y),this.parser.assignFinalMaterial(M),m.push(M)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const SR="glTF",uf=12,fb={JSON:1313821514,BIN:5130562};class KV{constructor(e){this.name=Tt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,uf);if(this.header={magic:us.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==SR)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-uf,r=new DataView(e,uf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===fb.JSON){const l=new Uint8Array(e,uf+s,o);this.content=us.decodeText(l)}else if(a===fb.BIN){const l=uf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class YV{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Tt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const h=zA[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=zA[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=Fc[p.componentType];u[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],v=l[m];v!==void 0&&(y.normalized=v)}h(p)},a,u)})})}}class qV{constructor(){this.name=Tt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class QV{constructor(){this.name=Tt.KHR_MESH_QUANTIZATION}}class CR extends gu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*u,v=y-u,x=-2*m+3*p,A=m-p,_=1-x,M=A-p+h;for(let S=0;S!==a;S++){const E=o[v+S+a],P=o[v+S+l]*d,L=o[y+S+a],b=o[y+S]*d;s[S]=_*E+M*P+x*L+A*b}return s}}const ZV=new Wn;class $V extends CR{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return ZV.fromArray(s).normalize().toArray(s),s}}const dr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Fc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},db={9728:mn,9729:sn,9984:od,9985:zg,9986:Dc,9987:hs},hb={33071:Xn,33648:jc,10497:Qo},Ry={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},zA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...EV>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_o={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},e6={CUBICSPLINE:void 0,LINEAR:pl,STEP:Xc},Ly={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function t6(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Jd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ds})),n.DefaultMaterial}function Ba(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function bo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function n6(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const h=e[u];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,d=e.length;u<d;u++){const h=e[u];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function i6(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function r6(n){let e;const t=n.extensions&&n.extensions[Tt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Iy(t.attributes):e=n.indices+":"+Iy(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+Iy(n.targets[i]);return e}function Iy(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function GA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function s6(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const o6=new ot;class a6{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new RV,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new Xd(this.options.manager):this.textureLoader=new Y3(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ki(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Ba(s,a,r),bo(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Tt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(us.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Ry[r.type],a=Fc[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new kt(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Ry[r.type],u=Fc[r.componentType],d=u.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let v,x;if(m&&m!==h){const A=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count;let M=t.cache.get(_);M||(v=new u(a,A*m,r.count*m/d),M=new Rd(v,m/d),t.cache.add(_,M)),x=new Zo(M,l,p%m/d,y)}else a===null?v=new u(r.count*l):v=new u(a,p,r.count*l),x=new kt(v,l,y);if(r.sparse!==void 0){const A=Ry.SCALAR,_=Fc[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,E=new _(o[1],M,r.sparse.count*A),P=new u(o[2],S,r.sparse.count*l);a!==null&&(x=new kt(x.array.slice(),x.itemSize,x.normalized));for(let L=0,b=E.length;L<b;L++){const R=E[L];if(x.setX(R,P[L*l]),l>=2&&x.setY(R,P[L*l+1]),l>=3&&x.setZ(R,P[L*l+2]),l>=4&&x.setW(R,P[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=db[p.magFilter]||sn,d.minFilter=db[p.minFilter]||hs,d.wrapS=hb[p.wrapS]||Qo,d.wrapT=hb[p.wrapT]||Qo,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(v){const x=new en(v);x.needsUpdate=!0,p(x)}),t.load(us.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||s6(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Tt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Tt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Tt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Id,En.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new li,En.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Jd}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Tt.KHR_MATERIALS_UNLIT]){const h=r[Tt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Gr);const d=s.alphaMode||Ly.OPAQUE;if(d===Ly.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Ly.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Wi&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Wi&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Wi&&(a.emissive=new De().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Wi&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const h=new o(a);return s.name&&(h.name=s.name),bo(h,s),t.associations.set(h,{materials:e}),s.extensions&&Ba(r,h,s),h})}createUniqueName(e){const t=Rt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Tt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return pb(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=r6(u),h=r[d];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[Tt.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=pb(new ft,u,t),r[d]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?t6(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],x=o[m];let A;const _=u[m];if(x.mode===dr.TRIANGLES||x.mode===dr.TRIANGLE_STRIP||x.mode===dr.TRIANGLE_FAN||x.mode===void 0)A=s.isSkinnedMesh===!0?new E_(v,_):new Ln(v,_),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),x.mode===dr.TRIANGLE_STRIP?A.geometry=lb(A.geometry,f_):x.mode===dr.TRIANGLE_FAN&&(A.geometry=lb(A.geometry,rg));else if(x.mode===dr.LINES)A=new Xr(v,_);else if(x.mode===dr.LINE_STRIP)A=new io(v,_);else if(x.mode===dr.LINE_LOOP)A=new T_(v,_);else if(x.mode===dr.POINTS)A=new P_(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(A.geometry.morphAttributes).length>0&&i6(A,s),A.name=t.createUniqueName(s.name||"mesh_"+e),bo(A,s),x.extensions&&Ba(r,A,x),t.assignFinalMaterial(A),h.push(A)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&Ba(r,h[0],s),h[0];const p=new js;s.extensions&&Ba(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Kt(h_.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new yr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),bo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,d=o.length;u<d;u++){const h=o[u];if(h){a.push(h);const p=new ot;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Ld(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let d=0,h=i.channels.length;d<h;d++){const p=i.channels[d],m=i.samplers[p.sampler],y=p.target,v=y.node,x=i.parameters!==void 0?i.parameters[m.input]:m.input,A=i.parameters!==void 0?i.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",x)),a.push(this.getDependency("accessor",A)),l.push(m),u.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(d){const h=d[0],p=d[1],m=d[2],y=d[3],v=d[4],x=[];for(let A=0,_=h.length;A<_;A++){const M=h[A],S=p[A],E=m[A],P=y[A],L=v[A];if(M===void 0)continue;M.updateMatrix();let b;switch(_o[L.path]){case _o.weights:b=Qc;break;case _o.rotation:b=$o;break;case _o.position:case _o.scale:default:b=Zc;break}const R=M.name?M.name:M.uuid,I=P.interpolation!==void 0?e6[P.interpolation]:pl,G=[];_o[L.path]===_o.weights?M.traverse(function(W){W.morphTargetInfluences&&G.push(W.name?W.name:W.uuid)}):G.push(R);let ee=E.array;if(E.normalized){const W=GA(ee.constructor),V=new Float32Array(ee.length);for(let q=0,ie=ee.length;q<ie;q++)V[q]=ee[q]*W;ee=V}for(let W=0,V=G.length;W<V;W++){const q=new b(G[W]+"."+_o[L.path],S.array,ee,I);P.interpolation==="CUBICSPLINE"&&(q.createInterpolant=function(ce){const k=this instanceof $o?$V:CR;return new k(this.times,this.values,this.getValueSize()/3,ce)},q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push(q)}}return new $c(r,void 0,x)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,d=a.length;u<d;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const d=u[0],h=u[1],p=u[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,o6)});for(let m=0,y=h.length;m<y;m++)d.add(h[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let d;if(s.isBone===!0?d=new Xg:u.length>1?d=new js:u.length===1?d=u[0]:d=new Pt,d!==u[0])for(let h=0,p=u.length;h<p;h++)d.add(u[h]);if(s.name&&(d.userData.name=s.name,d.name=o),bo(d,s),s.extensions&&Ba(i,d,s),s.matrix!==void 0){const h=new ot;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new js;i.name&&(s.name=r.createUniqueName(i.name)),bo(s,i),i.extensions&&Ba(t,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,h=l.length;d<h;d++)s.add(l[d]);const u=d=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof En||p instanceof en)&&h.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=u(s),s})}}function l6(n,e,t){const i=e.attributes,r=new oa;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new N(l[0],l[1],l[2]),new N(u[0],u[1],u[2])),a.normalized){const d=GA(Fc[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let u=0,d=s.length;u<d;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const v=GA(Fc[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new aa;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function pb(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=zA[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return bo(n,e),l6(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?n6(n,e.targets,t):n})}class c6 extends ft{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new N,u=new ot;u.makeRotationFromEuler(i),u.setPosition(t);const d=new ot;d.copy(u).invert(),h(),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(o,3)),this.setAttribute("uv",new We(a,2));function h(){let v,x=[];const A=new N,_=new N;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const M=e.geometry,S=M.attributes.position,E=M.attributes.normal;if(M.index!==null){const P=M.index;for(v=0;v<P.count;v++)A.fromBufferAttribute(S,P.getX(v)),_.fromBufferAttribute(E,P.getX(v)),p(x,A,_)}else for(v=0;v<S.count;v++)A.fromBufferAttribute(S,v),_.fromBufferAttribute(E,v),p(x,A,_);for(x=m(x,l.set(1,0,0)),x=m(x,l.set(-1,0,0)),x=m(x,l.set(0,1,0)),x=m(x,l.set(0,-1,0)),x=m(x,l.set(0,0,1)),x=m(x,l.set(0,0,-1)),v=0;v<x.length;v++){const P=x[v];a.push(.5+P.position.x/r.x,.5+P.position.y/r.y),P.position.applyMatrix4(u),s.push(P.position.x,P.position.y,P.position.z),o.push(P.normal.x,P.normal.y,P.normal.z)}}function p(v,x,A){x.applyMatrix4(e.matrixWorld),x.applyMatrix4(d),A.transformDirection(e.matrixWorld),v.push(new mb(x.clone(),A.clone()))}function m(v,x){const A=[],_=.5*Math.abs(r.dot(x));for(let M=0;M<v.length;M+=3){let S,E,P,L=0,b,R,I,G;const ee=v[M+0].position.dot(x)-_,W=v[M+1].position.dot(x)-_,V=v[M+2].position.dot(x)-_;switch(S=ee>0,E=W>0,P=V>0,L=(S?1:0)+(E?1:0)+(P?1:0),L){case 0:{A.push(v[M]),A.push(v[M+1]),A.push(v[M+2]);break}case 1:{if(S&&(b=v[M+1],R=v[M+2],I=y(v[M],b,x,_),G=y(v[M],R,x,_)),E){b=v[M],R=v[M+2],I=y(v[M+1],b,x,_),G=y(v[M+1],R,x,_),A.push(I),A.push(R.clone()),A.push(b.clone()),A.push(R.clone()),A.push(I.clone()),A.push(G);break}P&&(b=v[M],R=v[M+1],I=y(v[M+2],b,x,_),G=y(v[M+2],R,x,_)),A.push(b.clone()),A.push(R.clone()),A.push(I),A.push(G),A.push(I.clone()),A.push(R.clone());break}case 2:{S||(b=v[M].clone(),R=y(b,v[M+1],x,_),I=y(b,v[M+2],x,_),A.push(b),A.push(R),A.push(I)),E||(b=v[M+1].clone(),R=y(b,v[M+2],x,_),I=y(b,v[M],x,_),A.push(b),A.push(R),A.push(I)),P||(b=v[M+2].clone(),R=y(b,v[M],x,_),I=y(b,v[M+1],x,_),A.push(b),A.push(R),A.push(I));break}}}return A}function y(v,x,A,_){const M=v.position.dot(A)-_,S=x.position.dot(A)-_,E=M/(M-S);return new mb(new N(v.position.x+E*(x.position.x-v.position.x),v.position.y+E*(x.position.y-v.position.y),v.position.z+E*(x.position.z-v.position.z)),new N(v.normal.x+E*(x.normal.x-v.normal.x),v.normal.y+E*(x.normal.y-v.normal.y),v.normal.z+E*(x.normal.z-v.normal.z)))}}}class mb{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const Dy=new WeakMap;class u6 extends _i{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Ki(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(Dy.has(e)){const l=Dy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,d)=>{r._callbacks[s]={resolve:u,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Dy.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ft;e.index&&t.setIndex(new kt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new kt(o,a))}return t}_loadLibrary(e,t){const i=new Ki(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=f6.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function f6(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,u),v=y.attributes.map(x=>x.array.buffer);y.index&&v.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},v)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const d=u.attributeIDs,h=u.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const x in d){const A=self[h[x]];let _,M;if(u.useUniqueIDs)M=d[x],_=a.GetAttributeByUniqueId(p,M);else{if(M=a.GetAttributeId(p,o[d[x]]),M===-1)continue;_=a.GetAttribute(p,M)}v.attributes.push(r(o,a,p,x,A,_))}return y===o.TRIANGULAR_MESH&&(v.index=i(o,a,p)),o.destroy(p),v}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,d,h){const p=h.num_components(),y=l.num_points()*p,v=y*d.BYTES_PER_ELEMENT,x=s(o,d),A=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,h,x,v,A);const _=new d(o.HEAPF32.buffer,A,y).slice();return o._free(A),{name:u,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let tm;const Ny=()=>{if(tm)return tm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const v=h.charCodeAt(y);p[y]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,v,x){const A=s.exports.sbrk,_=m+3&-4,M=A(_*y),S=A(v.length),E=new Uint8Array(s.exports.memory.buffer);E.set(v,S);const P=h(M,m,y,S,v.length);if(P===0&&x&&x(M,_,y),p.set(E.subarray(M,M+m*y)),A(M-A(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return tm={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,v){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[u[v]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,v,x){l(s.exports[d[v]],h,p,m,y,s.exports[u[x]])}},tm},gb=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function ew(n,e){const t=Hi(r=>r.gl),i=ua(Xd,gb(n)?Object.values(n):n);if(U.useLayoutEffect(()=>{e==null||e(i)},[e]),U.useEffect(()=>{"initTexture"in t&&(Array.isArray(i)?i:[i]).forEach(t.initTexture)},[t,i]),gb(n)){const r={};let s=0;for(const o in n)r[o]=i[s++];return r}else return i}ew.preload=n=>ua.preload(Xd,n);ew.clear=n=>ua.clear(Xd,n);const d6=()=>parseInt(lu.replace(/\D+/g,"")),ER=d6();function h6(n){return Array.isArray(n)}function Fy(n=[0,0,0]){return h6(n)?n:n instanceof N||n instanceof xl?[n.x,n.y,n.z]:[n,n,n]}const p6=U.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:i=-10,map:r,mesh:s,children:o,position:a,rotation:l,scale:u,...d},h){const p=U.useRef(null);U.useImperativeHandle(h,()=>p.current);const m=U.useRef(null);return U.useLayoutEffect(()=>{const y=(s==null?void 0:s.current)||p.current.parent,v=p.current;if(!(y instanceof Ln))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const x={position:new N,rotation:new xl,scale:new N(1,1,1)};if(y){No(x,{position:a,scale:u});const A=y.matrixWorld.clone();if(y.matrixWorld.identity(),!l||typeof l=="number"){const _=new Pt;_.position.copy(x.position),_.lookAt(y.position),typeof l=="number"&&_.rotateZ(l),No(x,{rotation:_.rotation})}else No(x,{rotation:l});return v.geometry=new c6(y,x.position,x.rotation,x.scale),m.current&&(No(m.current,x),m.current.traverse(_=>_.raycast=()=>null)),y.matrixWorld=A,()=>{v.geometry.dispose()}}},[s,...Fy(a),...Fy(u),...Fy(l)]),U.createElement("mesh",Mr({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":i,"material-depthTest":t,"material-map":r},d),o,e&&U.createElement("mesh",{ref:m},U.createElement("boxGeometry",null),U.createElement("meshNormalMaterial",{wireframe:!0}),U.createElement("axesHelper",null)))});let nm=null,bR="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function TR(n,e,t){return i=>{t&&t(i),n&&(nm||(nm=new u6),nm.setDecoderPath(typeof n=="string"?n:bR),i.setDRACOLoader(nm)),e&&i.setMeshoptDecoder(typeof Ny=="function"?Ny():Ny)}}function qd(n,e=!0,t=!0,i){return ua($_,n,TR(e,t,i))}qd.preload=(n,e=!0,t=!0,i)=>ua.preload($_,n,TR(e,t,i));qd.clear=n=>ua.clear($_,n);qd.setDecoderPath=n=>{bR=n};const tw=U.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},d)=>{const h=Hi(P=>P.invalidate),p=Hi(P=>P.camera),m=Hi(P=>P.gl),y=Hi(P=>P.events),v=Hi(P=>P.setEvents),x=Hi(P=>P.set),A=Hi(P=>P.get),_=Hi(P=>P.performance),M=e||p,S=i||y.connected||m.domElement,E=U.useMemo(()=>new BV(M),[M]);return vu(()=>{E.enabled&&E.update()},-1),U.useEffect(()=>(s&&E.connect(s===!0?S:s),E.connect(S),()=>void E.dispose()),[s,S,t,E,h]),U.useEffect(()=>{const P=R=>{h(),t&&_.regress(),o&&o(R)},L=R=>{a&&a(R)},b=R=>{l&&l(R)};return E.addEventListener("change",P),E.addEventListener("start",L),E.addEventListener("end",b),()=>{E.removeEventListener("start",L),E.removeEventListener("end",b),E.removeEventListener("change",P)}},[o,a,l,E,h,v]),U.useEffect(()=>{if(n){const P=A().controls;return x({controls:E}),()=>x({controls:P})}},[n,E]),U.createElement("primitive",Mr({ref:d,object:E,enableDamping:r},u))});var PR={exports:{}},m6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",g6=m6,v6=g6;function BR(){}function RR(){}RR.resetWarningCache=BR;var y6=function(){function n(i,r,s,o,a,l){if(l!==v6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RR,resetWarningCache:BR};return t.PropTypes=t,t};PR.exports=y6();var LR=PR.exports;const ky=ER>=154?"opaque_fragment":"output_fragment";class x6 extends Id{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${ky}>`,`
        ${r?`#include <${ky}>`:`#extension GL_OES_standard_derivatives : enable
#include <${ky}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${ER>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const A6=U.forwardRef((n,e)=>{const[t]=U.useState(()=>new x6(null));return U.createElement("primitive",Mr({},n,{object:t,ref:e,attach:"material"}))}),_6=U.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=U.useRef(null);U.useImperativeHandle(a,()=>l.current,[]);const u=U.useRef(Math.random()*1e4);return vu(d=>{var h,p;if(!e||t===0)return;const m=u.current+d.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*t)/8*i,l.current.rotation.y=Math.sin(m/4*t)/8*i,l.current.rotation.z=Math.sin(m/4*t)/20*i;let y=Math.sin(m/4*t)/10;y=h_.mapLinear(y,-.1,.1,(h=s==null?void 0:s[0])!==null&&h!==void 0?h:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=y*r,l.current.updateMatrix()}),U.createElement("group",o,U.createElement("group",{ref:l,matrixAutoUpdate:!1},n))});let Ra,ff;const w6=U.createContext(null),vb=new ot,yb=new N,M6=U.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=U.useRef(null);U.useImperativeHandle(r,()=>s.current,[]);const[o,a]=U.useState([]),[[l,u,d]]=U.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);U.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),vu(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),vb.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Ra=0;Ra<o.length;Ra++)ff=o[Ra].current,ff.getWorldPosition(yb).applyMatrix4(vb),yb.toArray(l,Ra*3),s.current.geometry.attributes.position.needsUpdate=!0,ff.matrixWorldNeedsUpdate=!0,ff.color.toArray(u,Ra*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([ff.size],Ra),s.current.geometry.attributes.size.needsUpdate=!0});const h=U.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(y=>y.current!==p.current)))}),[]);return U.createElement("points",Mr({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),U.createElement("bufferGeometry",null,U.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:il}),U.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:il}),U.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:il})),U.createElement(w6.Provider,{value:h},n))}),S6=U.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=U.useRef(null);return U.useImperativeHandle(o,()=>a.current,[]),vu(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),U.createElement("points",Mr({ref:a},s),U.createElement("bufferGeometry",null,U.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:il}),t&&U.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:il}),i&&U.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:il})),n)}),C6=U.forwardRef((n,e)=>n.positions instanceof Float32Array?U.createElement(S6,Mr({},n,{ref:e})):U.createElement(M6,Mr({},n,{ref:e})));function e0({all:n,scene:e,camera:t}){const i=Hi(({gl:o})=>o),r=Hi(({camera:o})=>o),s=Hi(({scene:o})=>o);return U.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),i.compile(e||s,t||r);const a=new x_(128);new y_(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const nw=()=>{const{progress:n}=CV();return Ae(SV,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[B("span",{className:"canvas-loader"}),Ae("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},E6=()=>{const n=qd("./planet/scene.gltf");return B("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},b6=()=>B($g,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:Ae(U.Suspense,{fallback:B(nw,{}),children:[B(tw,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),B(E6,{}),B(e0,{all:!0})]})}),T6=n=>{const[e]=ew([n.imgUrl]);return Ae(_6,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[B("ambientLight",{intensity:.25}),B("directionalLight",{position:[0,0,.05]}),Ae("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[B("icosahedronGeometry",{args:[1,1]}),B("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),B(p6,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},P6=({icon:n})=>Ae($g,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[Ae(U.Suspense,{fallback:B(nw,{}),children:[B(tw,{enableZoom:!1}),B(T6,{imgUrl:n})]}),B(e0,{all:!0})]}),B6=({isMobile:n})=>{const e=qd("./desktop_pc/scene.gltf");return Ae("mesh",{children:[B("hemisphereLight",{intensity:.15,groundColor:"black"}),B("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),B("pointLight",{intensity:1}),B("primitive",{object:e.scene,scale:n?.7:.75,position:n?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},R6=()=>{const[n,e]=U.useState(!1);return U.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),Ae($g,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[Ae(U.Suspense,{fallback:B(nw,{}),children:[B(tw,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),B(B6,{isMobile:n})]}),B(e0,{all:!0})]})};function kc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ab(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xb(Object(t),!0).forEach(function(i){kc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IR(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}new pe;new pe;var ur=function n(e,t,i){var r=this;IR(this,n),kc(this,"dot2",function(s,o){return r.x*s+r.y*o}),kc(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},L6=[new ur(1,1,0),new ur(-1,1,0),new ur(1,-1,0),new ur(-1,-1,0),new ur(1,0,1),new ur(-1,0,1),new ur(1,0,-1),new ur(-1,0,-1),new ur(0,1,1),new ur(0,-1,1),new ur(0,1,-1),new ur(0,-1,-1)],_b=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],wb=new Array(512),Mb=new Array(512),I6=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=_b[t]^e&255:i=_b[t]^e>>8&255,wb[t]=wb[t+256]=i,Mb[t]=Mb[t+256]=L6[i%12]}};I6(0);function D6(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function Sb(n){var e=D6(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var N6=function n(e){var t=this;IR(this,n),kc(this,"seed",0),kc(this,"init",function(i){t.seed=i,t.value=Sb(i)}),kc(this,"value",Sb(this.seed)),this.init(e)},F6=new N6(Math.random()),k6={radius:1,center:[0,0,0]};function O6(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F6,i=Ab(Ab({},k6),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,u=t.value()*2-1,d=t.value()*2-1,h=Math.sqrt(l*l+u*u+d*d);l=a*l/h,u=a*u/h,d=a*d/h,n[o]=l*r+s[0],n[o+1]=u*r+s[1],n[o+2]=d*r+s[2]}return n}const U6=n=>{const e=U.useRef(),[t]=U.useState(()=>O6(new Float32Array(5e3),{radius:1.2}));return vu((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),B("group",{rotation:[0,0,Math.PI/4],children:B(C6,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:B(A6,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},z6=()=>B("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:Ae($g,{camera:{position:[0,0,1]},children:[B(U.Suspense,{fallback:null,children:B(U6,{})}),B(e0,{all:!0})]})}),DR=U.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),t0=U.createContext({});function G6(){return U.useContext(t0).visualElement}const iw=U.createContext(null),n0=typeof document<"u",Cb=n0?U.useLayoutEffect:U.useEffect,NR=U.createContext({strict:!1});function H6(n,e,t,i){const r=G6(),s=U.useContext(NR),o=U.useContext(iw),a=U.useContext(DR).reducedMotion,l=U.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return U.useInsertionEffect(()=>{u&&u.update(t,o)}),Cb(()=>{u&&u.render()}),U.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Cb:U.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Cc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function V6(n,e,t){return U.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Cc(t)&&(t.current=i))},[e])}function gd(n){return typeof n=="string"||Array.isArray(n)}function i0(n){return typeof n=="object"&&typeof n.start=="function"}const rw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sw=["initial",...rw];function r0(n){return i0(n.animate)||sw.some(e=>gd(n[e]))}function FR(n){return!!(r0(n)||n.variants)}function W6(n,e){if(r0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||gd(t)?t:void 0,animate:gd(i)?i:void 0}}return n.inherit!==!1?e:{}}function j6(n){const{initial:e,animate:t}=W6(n,U.useContext(t0));return U.useMemo(()=>({initial:e,animate:t}),[Eb(e),Eb(t)])}function Eb(n){return Array.isArray(n)?n.join(" "):n}const bb={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vd={};for(const n in bb)vd[n]={isEnabled:e=>bb[n].some(t=>!!e[t])};function J6(n){for(const e in n)vd[e]={...vd[e],...n[e]}}function kR(n){const e=U.useRef(null);return e.current===null&&(e.current=n()),e.current}const Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let X6=1;function K6(){return kR(()=>{if(Df.hasEverUpdated)return X6++})}const OR=U.createContext({}),UR=U.createContext({}),Y6=Symbol.for("motionComponentSymbol");function q6({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&J6(n);function s(a,l){let u;const d={...U.useContext(DR),...a,layoutId:Q6(a)},{isStatic:h}=d,p=j6(a),m=h?void 0:K6(),y=i(a,h);if(!h&&n0){p.visualElement=H6(r,y,d,e);const v=U.useContext(UR),x=U.useContext(NR).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,x,n,m,v))}return U.createElement(t0.Provider,{value:p},u&&p.visualElement?U.createElement(u,{visualElement:p.visualElement,...d}):null,t(r,a,m,V6(y,p.visualElement,l),y,h,p.visualElement))}const o=U.forwardRef(s);return o[Y6]=r,o}function Q6({layoutId:n}){const e=U.useContext(OR).id;return e&&n!==void 0?e+"-"+n:n}function Z6(n){function e(i,r={}){return q6(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const $6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ow(n){return typeof n!="string"||n.includes("-")?!1:!!($6.indexOf(n)>-1||/[A-Z]/.test(n))}const lg={};function e8(n){Object.assign(lg,n)}const s0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(s0);function zR(n,{layout:e,layoutId:t}){return Sl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!lg[n]||n==="opacity")}const Ii=n=>!!(n&&n.getVelocity),t8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n8=s0.length;function i8(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<n8;o++){const a=s0[o];if(n[a]!==void 0){const l=t8[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const GR=n=>e=>typeof e=="string"&&e.startsWith(n),HR=GR("--"),HA=GR("var(--"),r8=(n,e)=>e&&typeof n=="number"?e.transform(n):n,tu=(n,e,t)=>Math.min(Math.max(t,n),e),Cl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Nf={...Cl,transform:n=>tu(0,1,n)},im={...Cl,default:1},Ff=n=>Math.round(n*1e5)/1e5,yd=/(-)?([\d]*\.?[\d])+/g,VA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,s8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Qd(n){return typeof n=="string"}const Zd=n=>({test:e=>Qd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),So=Zd("deg"),fs=Zd("%"),st=Zd("px"),o8=Zd("vh"),a8=Zd("vw"),Tb={...fs,parse:n=>fs.parse(n)/100,transform:n=>fs.transform(n*100)},Pb={...Cl,transform:Math.round},VR={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:So,rotateX:So,rotateY:So,rotateZ:So,scale:im,scaleX:im,scaleY:im,scaleZ:im,skew:So,skewX:So,skewY:So,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Nf,originX:Tb,originY:Tb,originZ:st,zIndex:Pb,fillOpacity:Nf,strokeOpacity:Nf,numOctaves:Pb};function aw(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,d=!0;for(const h in e){const p=e[h];if(HR(h)){s[h]=p;continue}const m=VR[h],y=r8(p,m);if(Sl.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):r[h]=y}if(e.transform||(l||i?r.transform=i8(n.transform,t,d,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const lw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WR(n,e,t){for(const i in e)!Ii(e[i])&&!zR(i,t)&&(n[i]=e[i])}function l8({transformTemplate:n},e,t){return U.useMemo(()=>{const i=lw();return aw(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function c8(n,e,t){const i=n.style||{},r={};return WR(r,i,n),Object.assign(r,l8(n,e,t)),n.transformValues?n.transformValues(r):r}function u8(n,e,t){const i={},r=c8(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const f8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function cg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||f8.has(n)}let jR=n=>!cg(n);function d8(n){n&&(jR=e=>e.startsWith("on")?!cg(e):n(e))}try{d8(require("@emotion/is-prop-valid").default)}catch{}function h8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(jR(r)||t===!0&&cg(r)||!e&&!cg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function Bb(n,e,t){return typeof n=="string"?n:st.transform(e+t*n)}function p8(n,e,t){const i=Bb(e,n.x,n.width),r=Bb(t,n.y,n.height);return`${i} ${r}`}const m8={offset:"stroke-dashoffset",array:"stroke-dasharray"},g8={offset:"strokeDashoffset",array:"strokeDasharray"};function v8(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?m8:g8;n[s.offset]=st.transform(-i);const o=st.transform(e),a=st.transform(t);n[s.array]=`${o} ${a}`}function cw(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,d,h){if(aw(n,l,u,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=p8(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&v8(p,s,o,a,!1)}const JR=()=>({...lw(),attrs:{}}),uw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function y8(n,e,t,i){const r=U.useMemo(()=>{const s=JR();return cw(s,e,{enableHardwareAcceleration:!1},uw(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};WR(s,n.style,n),r.style={...s,...r.style}}return r}function x8(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const u=(ow(t)?y8:u8)(i,o,a,t),h={...h8(i,typeof t=="string",n),...u,ref:s},{children:p}=i,m=U.useMemo(()=>Ii(p)?p.get():p,[p]);return r&&(h["data-projection-id"]=r),U.createElement(t,{...h,children:m})}}const fw=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function XR(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const KR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YR(n,e,t,i){XR(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(KR.has(r)?r:fw(r),e.attrs[r])}function dw(n,e){const{style:t}=n,i={};for(const r in t)(Ii(t[r])||e.style&&Ii(e.style[r])||zR(r,n))&&(i[r]=t[r]);return i}function qR(n,e){const t=dw(n,e);for(const i in n)if(Ii(n[i])||Ii(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function hw(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const ug=n=>Array.isArray(n),A8=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),_8=n=>ug(n)?n[n.length-1]||0:n;function Pm(n){const e=Ii(n)?n.get():n;return A8(e)?e.toValue():e}function w8({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:M8(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const QR=n=>(e,t)=>{const i=U.useContext(t0),r=U.useContext(iw),s=()=>w8(n,e,i,r);return t?s():kR(s)};function M8(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Pm(s[p]);let{initial:o,animate:a}=n;const l=r0(n),u=FR(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!i0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=hw(n,m);if(!y)return;const{transitionEnd:v,transition:x,...A}=y;for(const _ in A){let M=A[_];if(Array.isArray(M)){const S=d?M.length-1:0;M=M[S]}M!==null&&(r[_]=M)}for(const _ in v)r[_]=v[_]}),r}const S8={useVisualState:QR({scrapeMotionValuesFromProps:qR,createRenderState:JR,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}cw(t,i,{enableHardwareAcceleration:!1},uw(e.tagName),n.transformTemplate),YR(e,t)}})},C8={useVisualState:QR({scrapeMotionValuesFromProps:dw,createRenderState:lw})};function E8(n,{forwardMotionProps:e=!1},t,i){return{...ow(n)?S8:C8,preloadedFeatures:t,useRender:x8(e),createVisualElement:i,Component:n}}function Js(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const ZR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function o0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const b8=n=>e=>ZR(e)&&n(e,o0(e));function Ys(n,e,t,i){return Js(n,e,b8(t),i)}const T8=(n,e)=>t=>e(n(t)),Jo=(...n)=>n.reduce(T8);function $R(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Rb=$R("dragHorizontal"),Lb=$R("dragVertical");function eL(n){let e=!1;if(n==="y")e=Lb();else if(n==="x")e=Rb();else{const t=Rb(),i=Lb();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function tL(){const n=eL(!0);return n?(n(),!1):!0}class fa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ib(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||tL())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return Ys(n.current,t,r,{passive:!n.getProps()[i]})}class P8 extends fa{mount(){this.unmount=Jo(Ib(this.node,!0),Ib(this.node,!1))}unmount(){}}class B8 extends fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jo(Js(this.node.current,"focus",()=>this.onFocus()),Js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nL=(n,e)=>e?n===e?!0:nL(n,e.parentElement):!1,Ar=n=>n;function Oy(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,o0(t))}class R8 extends fa{constructor(){super(...arguments),this.removeStartListeners=Ar,this.removeEndListeners=Ar,this.removeAccessibleListeners=Ar,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Ys(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();nL(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=Ys(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Jo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Oy("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=Js(this.node.current,"keyup",o),Oy("down",(a,l)=>{this.startPress(a,l)})},t=Js(this.node.current,"keydown",e),i=()=>{this.isPressing&&Oy("cancel",(s,o)=>this.cancelPress(s,o))},r=Js(this.node.current,"blur",i);this.removeAccessibleListeners=Jo(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tL()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=Ys(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Js(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jo(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const WA=new WeakMap,Uy=new WeakMap,L8=n=>{const e=WA.get(n.target);e&&e(n)},I8=n=>{n.forEach(L8)};function D8({root:n,...e}){const t=n||document;Uy.has(t)||Uy.set(t,{});const i=Uy.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(I8,{root:n,...e})),i[r]}function N8(n,e,t){const i=D8(e);return WA.set(n,t),i.observe(n),()=>{WA.delete(n),i.unobserve(n)}}const F8={some:0,all:1};class k8 extends fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:F8[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=d?h:p;m&&m(u)};return N8(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(O8(e,t))&&this.startObserver()}unmount(){}}function O8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const U8={inView:{Feature:k8},tap:{Feature:R8},focus:{Feature:B8},hover:{Feature:P8}};function iL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const z8=n=>/^\-?\d*\.?\d+$/.test(n),G8=n=>/^0[^.\s]+$/.test(n),qs={delta:0,timestamp:0},rL=1/60*1e3,H8=typeof performance<"u"?()=>performance.now():()=>Date.now(),sL=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(H8()),rL);function V8(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&r,p=h?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let u=0;u<i;u++){const d=e[u];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const W8=40;let jA=!0,xd=!1,JA=!1;const $d=["read","update","preRender","render","postRender"],a0=$d.reduce((n,e)=>(n[e]=V8(()=>xd=!0),n),{}),yi=$d.reduce((n,e)=>{const t=a0[e];return n[e]=(i,r=!1,s=!1)=>(xd||J8(),t.schedule(i,r,s)),n},{}),ea=$d.reduce((n,e)=>(n[e]=a0[e].cancel,n),{}),zy=$d.reduce((n,e)=>(n[e]=()=>a0[e].process(qs),n),{}),j8=n=>a0[n].process(qs),oL=n=>{xd=!1,qs.delta=jA?rL:Math.max(Math.min(n-qs.timestamp,W8),1),qs.timestamp=n,JA=!0,$d.forEach(j8),JA=!1,xd&&(jA=!1,sL(oL))},J8=()=>{xd=!0,jA=!0,JA||sL(oL)};function pw(n,e){n.indexOf(e)===-1&&n.push(e)}function mw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class gw{constructor(){this.subscriptions=[]}add(e){return pw(this.subscriptions,e),()=>mw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function vw(n,e){return e?n*(1e3/e):0}const X8=n=>!isNaN(parseFloat(n));class K8{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=qs;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,yi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>yi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=X8(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gw);const i=this.events[e].add(t);return e==="change"?()=>{i(),yi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nu(n,e){return new K8(n,e)}const yw=(n,e)=>t=>!!(Qd(t)&&s8.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),aL=(n,e,t)=>i=>{if(!Qd(i))return i;const[r,s,o,a]=i.match(yd);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Y8=n=>tu(0,255,n),Gy={...Cl,transform:n=>Math.round(Y8(n))},Za={test:yw("rgb","red"),parse:aL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Gy.transform(n)+", "+Gy.transform(e)+", "+Gy.transform(t)+", "+Ff(Nf.transform(i))+")"};function q8(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const XA={test:yw("#"),parse:q8,transform:Za.transform},Ec={test:yw("hsl","hue"),parse:aL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+fs.transform(Ff(e))+", "+fs.transform(Ff(t))+", "+Ff(Nf.transform(i))+")"},pi={test:n=>Za.test(n)||XA.test(n)||Ec.test(n),parse:n=>Za.test(n)?Za.parse(n):Ec.test(n)?Ec.parse(n):XA.parse(n),transform:n=>Qd(n)?n:n.hasOwnProperty("red")?Za.transform(n):Ec.transform(n)},lL="${c}",cL="${n}";function Q8(n){var e,t;return isNaN(n)&&Qd(n)&&(((e=n.match(yd))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(VA))===null||t===void 0?void 0:t.length)||0)>0}function fg(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(VA);r&&(t=r.length,n=n.replace(VA,lL),e.push(...r.map(pi.parse)));const s=n.match(yd);return s&&(i=s.length,n=n.replace(yd,cL),e.push(...s.map(Cl.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function uL(n){return fg(n).values}function fL(n){const{values:e,numColors:t,tokenised:i}=fg(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?lL:cL,a<t?pi.transform(s[a]):Ff(s[a]));return o}}const Z8=n=>typeof n=="number"?0:n;function $8(n){const e=uL(n);return fL(n)(e.map(Z8))}const ta={test:Q8,parse:uL,createTransformer:fL,getAnimatableNone:$8},eW=new Set(["brightness","contrast","saturate","opacity"]);function tW(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(yd)||[];if(!i)return n;const r=t.replace(i,"");let s=eW.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const nW=/([a-z-]*)\(.*?\)/g,KA={...ta,getAnimatableNone:n=>{const e=n.match(nW);return e?e.map(tW).join(" "):n}},iW={...VR,color:pi,backgroundColor:pi,outlineColor:pi,fill:pi,stroke:pi,borderColor:pi,borderTopColor:pi,borderRightColor:pi,borderBottomColor:pi,borderLeftColor:pi,filter:KA,WebkitFilter:KA},xw=n=>iW[n];function Aw(n,e){let t=xw(n);return t!==KA&&(t=ta),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const dL=n=>e=>e.test(n),rW={test:n=>n==="auto",parse:n=>n},hL=[Cl,st,fs,So,a8,o8,rW],df=n=>hL.find(dL(n)),sW=[...hL,pi,ta],oW=n=>sW.find(dL(n));function aW(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function lW(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function l0(n,e,t){const i=n.getProps();return hw(i,e,t!==void 0?t:i.custom,aW(n),lW(n))}function cW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nu(t))}function uW(n,e){const t=l0(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=_8(s[o]);cW(n,o,a)}}function fW(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(z8(d)||G8(d))?d=parseFloat(d):!oW(d)&&ta.test(u)&&(d=Aw(l,u)),n.addValue(l,nu(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function dW(n,e){return e?(e[n]||e.default||e).from:void 0}function hW(n,e,t){const i={};for(const r in n){const s=dW(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function dg(n){return!!(Ii(n)&&n.add)}const pW="framerAppearId",mW="data-"+fw(pW);let gW=Ar,hg=Ar;const Bm=n=>n*1e3,vW={current:!1},_w=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ww=n=>e=>1-n(1-e),Mw=n=>n*n,yW=ww(Mw),Sw=_w(Mw),an=(n,e,t)=>-t*n+t*e+n;function Hy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function xW({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Hy(l,a,n+1/3),s=Hy(l,a,n),o=Hy(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Vy=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},AW=[XA,Za,Ec],_W=n=>AW.find(e=>e.test(n));function Db(n){const e=_W(n);let t=e.parse(n);return e===Ec&&(t=xW(t)),t}const pL=(n,e)=>{const t=Db(n),i=Db(e),r={...t};return s=>(r.red=Vy(t.red,i.red,s),r.green=Vy(t.green,i.green,s),r.blue=Vy(t.blue,i.blue,s),r.alpha=an(t.alpha,i.alpha,s),Za.transform(r))};function mL(n,e){return typeof n=="number"?t=>an(n,e,t):pi.test(n)?pL(n,e):vL(n,e)}const gL=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>mL(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},wW=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=mL(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},vL=(n,e)=>{const t=ta.createTransformer(e),i=fg(n),r=fg(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Jo(gL(i.values,r.values),t):o=>`${o>0?e:n}`},Ad=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Nb=(n,e)=>t=>an(n,e,t);function MW(n){return typeof n=="number"?Nb:typeof n=="string"?pi.test(n)?pL:vL:Array.isArray(n)?gL:typeof n=="object"?wW:Nb}function SW(n,e,t){const i=[],r=t||MW(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Jo(l,a)}i.push(a)}return i}function yL(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;hg(s===e.length),hg(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=SW(e,i,r),a=o.length,l=u=>{let d=0;if(a>1)for(;d<n.length-2&&!(u<n[d+1]);d++);const h=Ad(n[d],n[d+1],u);return o[d](h)};return t?u=>l(tu(n[0],n[s-1],u)):l}function CW(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Ad(0,e,i);n.push(an(t,1,r))}}function EW(n){const e=[0];return CW(e,n.length-1),e}function bW(n,e){return n.map(t=>t*e)}const xL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,TW=1e-7,PW=12;function BW(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=xL(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>TW&&++a<PW);return o}function AL(n,e,t,i){if(n===e&&t===i)return Ar;const r=s=>BW(s,0,1,n,t);return s=>s===0||s===1?s:xL(r(s),e,i)}const _L=n=>1-Math.sin(Math.acos(n)),Cw=ww(_L),RW=_w(Cw),wL=AL(.33,1.53,.69,.99),Ew=ww(wL),LW=_w(Ew),IW=n=>(n*=2)<1?.5*Ew(n):.5*(2-Math.pow(2,-10*(n-1))),DW={linear:Ar,easeIn:Mw,easeInOut:Sw,easeOut:yW,circIn:_L,circInOut:RW,circOut:Cw,backIn:Ew,backInOut:LW,backOut:wL,anticipate:IW},Fb=n=>{if(Array.isArray(n)){hg(n.length===4);const[e,t,i,r]=n;return AL(e,t,i,r)}else if(typeof n=="string")return DW[n];return n},NW=n=>Array.isArray(n)&&typeof n[0]!="number";function FW(n,e){return n.map(()=>e||Sw).splice(0,n.length-1)}function YA({keyframes:n,ease:e=Sw,times:t,duration:i=300}){n=[...n];const r=NW(e)?e.map(Fb):Fb(e),s={done:!1,value:n[0]},o=bW(t&&t.length===n.length?t:EW(n),i);function a(){return yL(o,n,{ease:Array.isArray(r)?r:FW(n,r)})}let l=a();return{next:u=>(s.value=l(u),s.done=u>=i,s),flipTarget:()=>{n.reverse(),l=a()}}}const Wy=.001,kW=.01,kb=10,OW=.05,UW=1;function zW({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;gW(n<=kb*1e3);let o=1-e;o=tu(OW,UW,o),n=tu(kW,kb,n/1e3),o<1?(r=u=>{const d=u*o,h=d*n,p=d-t,m=qA(u,o),y=Math.exp(-h);return Wy-p/m*y},s=u=>{const h=u*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,y=Math.exp(-h),v=qA(Math.pow(u,2),o);return(-r(u)+Wy>0?-1:1)*((p-m)*y)/v}):(r=u=>{const d=Math.exp(-u*n),h=(u-t)*n+1;return-Wy+d*h},s=u=>{const d=Math.exp(-u*n),h=(t-u)*(n*n);return d*h});const a=5/n,l=HW(r,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const GW=12;function HW(n,e,t){let i=t;for(let r=1;r<GW;r++)i=i-n(i)/e(i);return i}function qA(n,e){return n*Math.sqrt(1-e*e)}const VW=["duration","bounce"],WW=["stiffness","damping","mass"];function Ob(n,e){return e.some(t=>n[t]!==void 0)}function jW(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Ob(n,WW)&&Ob(n,VW)){const t=zW(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const JW=5;function ML({keyframes:n,restDelta:e,restSpeed:t,...i}){let r=n[0],s=n[n.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:d,duration:h,isResolvedFromDuration:p}=jW(i);let m=XW,y=d?-(d/1e3):0;const v=l/(2*Math.sqrt(a*u));function x(){const A=s-r,_=Math.sqrt(a/u)/1e3,M=Math.abs(A)<5;if(t||(t=M?.01:2),e||(e=M?.005:.5),v<1){const S=qA(_,v);m=E=>{const P=Math.exp(-v*_*E);return s-P*((y+v*_*A)/S*Math.sin(S*E)+A*Math.cos(S*E))}}else if(v===1)m=S=>s-Math.exp(-_*S)*(A+(y+_*A)*S);else{const S=_*Math.sqrt(v*v-1);m=E=>{const P=Math.exp(-v*_*E),L=Math.min(S*E,300);return s-P*((y+v*_*A)*Math.sinh(L)+S*A*Math.cosh(L))/S}}}return x(),{next:A=>{const _=m(A);if(p)o.done=A>=h;else{let M=y;if(A!==0)if(v<1){const P=Math.max(0,A-JW);M=vw(_-m(P),A-P)}else M=0;const S=Math.abs(M)<=t,E=Math.abs(s-_)<=e;o.done=S&&E}return o.value=o.done?s:_,o},flipTarget:()=>{y=-y,[r,s]=[s,r],x()}}}ML.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const XW=n=>0;function KW({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const u=o+l,d=s===void 0?u:s(u);return d!==u&&(l=d-o),{next:h=>{const p=-l*Math.exp(-h/i);return a.done=!(p>r||p<-r),a.value=a.done?d:d+p,a},flipTarget:()=>{}}}const YW={decay:KW,keyframes:YA,tween:YA,spring:ML};function SL(n,e,t=0){return n-e-t}function qW(n,e=0,t=0,i=!0){return i?SL(e+-n,e,t):e-(n-e)+t}function QW(n,e,t,i){return i?n>=e+t:n<=-t}const ZW=n=>{const e=({delta:t})=>n(t);return{start:()=>yi.update(e,!0),stop:()=>ea.update(e)}};function pg({duration:n,driver:e=ZW,elapsed:t=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:d,onRepeat:h,onUpdate:p,type:m="keyframes",...y}){const v=t;let x,A=0,_=n,M=!1,S=!0,E;const P=YW[o.length>2?"keyframes":m]||YA,L=o[0],b=o[o.length-1];let R={done:!1,value:L};const{needsInterpolation:I}=P;I&&I(L,b)&&(E=yL([0,100],[L,b],{clamp:!1}),o=[0,100]);const G=P({...y,duration:n,keyframes:o});function ee(){A++,r==="reverse"?(S=A%2===0,t=qW(t,_,s,S)):(t=SL(t,_,s),r==="mirror"&&G.flipTarget()),M=!1,h&&h()}function W(){x&&x.stop(),d&&d()}function V(ie){S||(ie=-ie),t+=ie,M||(R=G.next(Math.max(0,t)),E&&(R.value=E(R.value)),M=S?R.done:t<=0),p&&p(R.value),M&&(A===0&&(_=_!==void 0?_:t),A<i?QW(t,_,s,S)&&ee():W())}function q(){l&&l(),x=e(V),x.start()}return a&&q(),{stop:()=>{u&&u(),x&&x.stop()},set currentTime(ie){t=v,V(ie)},sample:ie=>{t=v;const ce=n&&typeof n=="number"?Math.max(n*.5,50):50;let k=0;for(V(0);k<=ie;){const j=ie-k;V(Math.min(j,ce)),k+=ce}return R}}}function $W(n){return!n||Array.isArray(n)||typeof n=="string"&&CL[n]}const Af=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,CL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Af([0,.65,.55,1]),circOut:Af([.55,0,1,.45]),backIn:Af([.31,.01,.66,-.59]),backOut:Af([.33,1.53,.69,.99])};function ej(n){if(n)return Array.isArray(n)?Af(n):CL[n]}function tj(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:i,duration:r,easing:ej(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Ub={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},jy={},EL={};for(const n in Ub)EL[n]=()=>(jy[n]===void 0&&(jy[n]=Ub[n]()),jy[n]);function nj(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const ij=new Set(["opacity","clipPath","filter","transform"]),rm=10;function rj(n,e,{onUpdate:t,onComplete:i,...r}){if(!(EL.waapi()&&ij.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:u}=r;if(r.type==="spring"||!$W(r.ease)){if(r.repeat===1/0)return;const h=pg({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let y=0;for(;!p.done&&y<2e4;)p=h.sample(y),m.push(p.value),y+=rm;o=m,a=y-rm,u="linear"}const d=tj(n.owner.current,e,o,{...r,delay:-l,duration:a,ease:u});return d.onfinish=()=>{n.set(nj(o,r)),yi.update(()=>d.cancel()),i&&i()},{get currentTime(){return d.currentTime||0},set currentTime(h){d.currentTime=h},stop:()=>{const{currentTime:h}=d;if(h){const p=pg({...r,autoplay:!1});n.setWithVelocity(p.sample(h-rm).value,p.sample(h).value,rm)}yi.update(()=>d.cancel())}}}function bL(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(ea.read(i),n(s-e))};return yi.read(i,!0),()=>ea.read(i)}function sj({keyframes:n,elapsed:e,onUpdate:t,onComplete:i}){const r=()=>{t&&t(n[n.length-1]),i&&i()};return e?{stop:bL(r,-e)}:r()}function oj({keyframes:n,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:d,onUpdate:h,onComplete:p,onStop:m}){const y=n[0];let v;function x(S){return t!==void 0&&S<t||i!==void 0&&S>i}function A(S){return t===void 0?i:i===void 0||Math.abs(t-S)<Math.abs(i-S)?t:i}function _(S){v&&v.stop(),v=pg({keyframes:[0,1],velocity:0,...S,driver:d,onUpdate:E=>{h&&h(E),S.onUpdate&&S.onUpdate(E)},onComplete:p,onStop:m})}function M(S){_({type:"spring",stiffness:o,damping:a,restDelta:l,...S})}if(x(y))M({velocity:e,keyframes:[y,A(y)]});else{let S=r*e+y;typeof u<"u"&&(S=u(S));const E=A(S),P=E===t?-1:1;let L,b;const R=I=>{L=b,b=I,e=vw(I-L,qs.delta),(P===1&&I>E||P===-1&&I<E)&&M({keyframes:[I,E],velocity:e})};_({type:"decay",keyframes:[y,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:u,onUpdate:x(S)?R:void 0})}return{stop:()=>v&&v.stop()}}const aj={type:"spring",stiffness:500,damping:25,restSpeed:10},lj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),cj={type:"keyframes",duration:.8},uj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fj=(n,{keyframes:e})=>e.length>2?cj:Sl.has(n)?n.startsWith("scale")?lj(e[1]):aj:uj,QA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&ta.test(e)&&!e.startsWith("url("));function dj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function zb(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function Gb(n){return typeof n=="number"?0:Aw("",n)}function TL(n,e){return n[e]||n.default||n}function hj(n,e,t,i){const r=QA(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=Aw(e,t):zb(s)&&typeof t=="string"?s=Gb(t):!Array.isArray(t)&&zb(t)&&typeof s=="string"&&(t=Gb(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const bw=(n,e,t,i={})=>r=>{const s=TL(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Bm(o);const l=hj(e,n,t,s),u=l[0],d=l[l.length-1],h=QA(n,u),p=QA(n,d);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!p||vW.current||s.type===!1)return sj(m);if(s.type==="inertia")return oj(m);if(dj(s)||(m={...m,...fj(n,m)}),m.duration&&(m.duration=Bm(m.duration)),m.repeatDelay&&(m.repeatDelay=Bm(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=rj(e,n,m);if(y)return y}return pg(m)};function pj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>ZA(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=ZA(n,e,t);else{const r=typeof e=="function"?l0(n,e,t.custom):e;i=PL(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function ZA(n,e,t={}){const i=l0(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>PL(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return mj(n,e,u+l,d,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(t.delay)])}function PL(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in a){const p=n.getValue(h),m=a[h];if(!p||m===void 0||d&&vj(d,h))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=n.getProps()[mW];x&&(y.elapsed=window.HandoffAppearAnimations(x,h,p,yi))}let v=p.start(bw(h,p,m,n.shouldReduceMotion&&Sl.has(h)?{type:!1}:y));dg(l)&&(l.add(h),v=v.then(()=>l.remove(h))),u.push(v)}return Promise.all(u).then(()=>{o&&uW(n,o)})}function mj(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(gj).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(ZA(u,e,{...s,delay:t+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function gj(n,e){return n.sortNodePosition(e)}function vj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const yj=[...rw].reverse(),xj=rw.length;function Aj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>pj(n,t,i)))}function _j(n){let e=Aj(n);const t=Mj();let i=!0;const r=(l,u)=>{const d=l0(n,u);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},v=1/0;for(let A=0;A<xj;A++){const _=yj[A],M=t[_],S=d[_]!==void 0?d[_]:h[_],E=gd(S),P=_===u?M.isActive:null;P===!1&&(v=A);let L=S===h[_]&&S!==d[_]&&E;if(L&&i&&n.manuallyAnimateOnMount&&(L=!1),M.protectedKeys={...y},!M.isActive&&P===null||!S&&!M.prevProp||i0(S)||typeof S=="boolean")continue;const b=wj(M.prevProp,S);let R=b||_===u&&M.isActive&&!L&&E||A>v&&E;const I=Array.isArray(S)?S:[S];let G=I.reduce(r,{});P===!1&&(G={});const{prevResolvedValues:ee={}}=M,W={...ee,...G},V=q=>{R=!0,m.delete(q),M.needsAnimating[q]=!0};for(const q in W){const ie=G[q],ce=ee[q];y.hasOwnProperty(q)||(ie!==ce?ug(ie)&&ug(ce)?!iL(ie,ce)||b?V(q):M.protectedKeys[q]=!0:ie!==void 0?V(q):m.add(q):ie!==void 0&&m.has(q)?V(q):M.protectedKeys[q]=!0)}M.prevProp=S,M.prevResolvedValues=G,M.isActive&&(y={...y,...G}),i&&n.blockInitialAnimation&&(R=!1),R&&!L&&p.push(...I.map(q=>({animation:q,options:{type:_,...l}})))}if(m.size){const A={};m.forEach(_=>{const M=n.getBaseTarget(_);M!==void 0&&(A[_]=M)}),p.push({animation:A})}let x=!!p.length;return i&&d.initial===!1&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,u,d){var h;if(t[l].isActive===u)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),t[l].isActive=u;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function wj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!iL(e,n):!1}function La(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mj(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class Sj extends fa{constructor(e){super(e),e.animationState||(e.animationState=_j(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),i0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Cj=0;class Ej extends fa{constructor(){super(...arguments),this.id=Cj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const bj={animation:{Feature:Sj},exit:{Feature:Ej}},Hb=(n,e)=>Math.abs(n-e);function Tj(n,e){const t=Hb(n.x,e.x),i=Hb(n.y,e.y);return Math.sqrt(t**2+i**2)}class BL{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Xy(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=Tj(u.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=u,{timestamp:m}=qs;this.history.push({...p,timestamp:m});const{onStart:y,onMove:v}=this.handlers;d||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Jy(d,this.transformPagePoint),yi.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=Xy(u.type==="pointercancel"?this.lastMoveEventInfo:Jy(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),p&&p(u,m)},!ZR(e))return;this.handlers=t,this.transformPagePoint=i;const r=o0(e),s=Jy(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=qs;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Xy(s,this.history)),this.removeListeners=Jo(Ys(window,"pointermove",this.handlePointerMove),Ys(window,"pointerup",this.handlePointerUp),Ys(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ea.update(this.updatePoint)}}function Jy(n,e){return e?{point:e(n.point)}:n}function Vb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Xy({point:n},e){return{point:n,delta:Vb(n,RL(e)),offset:Vb(n,Pj(e)),velocity:Bj(e,.1)}}function Pj(n){return n[0]}function RL(n){return n[n.length-1]}function Bj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=RL(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Bm(e)));)t--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yi(n){return n.max-n.min}function $A(n,e=0,t=.01){return Math.abs(n-e)<=t}function Wb(n,e,t,i=.5){n.origin=i,n.originPoint=an(e.min,e.max,n.origin),n.scale=Yi(t)/Yi(e),($A(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=an(t.min,t.max,n.origin)-n.originPoint,($A(n.translate)||isNaN(n.translate))&&(n.translate=0)}function kf(n,e,t,i){Wb(n.x,e.x,t.x,i?i.originX:void 0),Wb(n.y,e.y,t.y,i?i.originY:void 0)}function jb(n,e,t){n.min=t.min+e.min,n.max=n.min+Yi(e)}function Rj(n,e,t){jb(n.x,e.x,t.x),jb(n.y,e.y,t.y)}function Jb(n,e,t){n.min=e.min-t.min,n.max=n.min+Yi(e)}function Of(n,e,t){Jb(n.x,e.x,t.x),Jb(n.y,e.y,t.y)}function Lj(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?an(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?an(t,n,i.max):Math.min(n,t)),n}function Xb(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Ij(n,{top:e,left:t,bottom:i,right:r}){return{x:Xb(n.x,t,r),y:Xb(n.y,e,i)}}function Kb(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Dj(n,e){return{x:Kb(n.x,e.x),y:Kb(n.y,e.y)}}function Nj(n,e){let t=.5;const i=Yi(n),r=Yi(e);return r>i?t=Ad(e.min,e.max-i,n.min):i>r&&(t=Ad(n.min,n.max-r,e.min)),tu(0,1,t)}function Fj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const e1=.35;function kj(n=e1){return n===!1?n=0:n===!0&&(n=e1),{x:Yb(n,"left","right"),y:Yb(n,"top","bottom")}}function Yb(n,e,t){return{min:qb(n,e),max:qb(n,t)}}function qb(n,e){return typeof n=="number"?n:n[e]||0}const Qb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uf=()=>({x:Qb(),y:Qb()}),Zb=()=>({min:0,max:0}),Sn=()=>({x:Zb(),y:Zb()});function ss(n){return[n("x"),n("y")]}function LL({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Oj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Uj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Ky(n){return n===void 0||n===1}function t1({scale:n,scaleX:e,scaleY:t}){return!Ky(n)||!Ky(e)||!Ky(t)}function za(n){return t1(n)||IL(n)||n.z||n.rotate||n.rotateX||n.rotateY}function IL(n){return $b(n.x)||$b(n.y)}function $b(n){return n&&n!=="0%"}function mg(n,e,t){const i=n-t,r=e*i;return t+r}function eT(n,e,t,i,r){return r!==void 0&&(n=mg(n,r,i)),mg(n,t,i)+e}function n1(n,e=0,t=1,i,r){n.min=eT(n.min,e,t,i,r),n.max=eT(n.max,e,t,i,r)}function DL(n,{x:e,y:t}){n1(n.x,e.translate,e.scale,e.originPoint),n1(n.y,t.translate,t.scale,t.originPoint)}function zj(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,DL(n,o)),i&&za(s.latestValues)&&bc(n,s.latestValues))}e.x=tT(e.x),e.y=tT(e.y)}function tT(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function To(n,e){n.min=n.min+e,n.max=n.max+e}function nT(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=an(n.min,n.max,s);n1(n,e[t],e[i],o,e.scale)}const Gj=["x","scaleX","originX"],Hj=["y","scaleY","originY"];function bc(n,e){nT(n.x,e,Gj),nT(n.y,e,Hj)}function NL(n,e){return LL(Uj(n.getBoundingClientRect(),e))}function Vj(n,e,t){const i=NL(n,t),{scroll:r}=e;return r&&(To(i.x,r.offset.x),To(i.y,r.offset.y)),i}const Wj=new WeakMap;class jj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(o0(l,"page").point)},s=(l,u)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eL(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(y=>{let v=this.getAxisMotionValue(y).get()||0;if(fs.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const A=x.layout.layoutBox[y];A&&(v=Yi(A)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&p(l,u);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=u;if(h&&this.currentDirection===null){this.currentDirection=Jj(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new BL(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!sm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Lj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Ij(i.layoutBox,e):this.constraints=!1,this.elastic=kj(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Fj(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Cc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Vj(i,r.root,this.visualElement.getTransformPagePoint());let o=Dj(r.layout.layoutBox,s);if(t){const a=t(Oj(o));this.hasMutatedConstraints=!!a,a&&(o=LL(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ss(d=>{if(!sm(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(bw(e,i,0,t))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ss(t=>{const{drag:i}=this.getProps();if(!sm(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Cc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ss(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=Nj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ss(o=>{if(!sm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(an(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;Wj.set(this.visualElement,this);const e=this.visualElement.current,t=Ys(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Cc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Js(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ss(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=e1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function sm(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Jj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Xj extends fa{constructor(e){super(e),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new jj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}class Kj extends fa{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(e){this.session=new BL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Ys(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Yj(){const n=U.useContext(iw);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=U.useId();return U.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function iT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const hf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(st.test(n))n=parseFloat(n);else return n;const t=iT(n,e.target.x),i=iT(n,e.target.y);return`${t}% ${i}%`}},FL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function qj(n){const e=FL.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function i1(n,e,t=1){const[i,r]=qj(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():HA(r)?i1(r,e,t+1):r}function Qj(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!HA(s))return;const o=i1(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!HA(s))continue;const o=i1(s,i);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const rT="_$css",Zj={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(FL,m=>(s.push(m),rT)));const o=ta.parse(n);if(o.length>5)return i;const a=ta.createTransformer(n),l=typeof o[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;o[0+l]/=u,o[1+l]/=d;const h=an(u,d,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(r){let m=0;p=p.replace(rT,()=>{const y=s[m];return m++,y})}return p}};class $j extends xg.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;e8(e7),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||yi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kL(n){const[e,t]=Yj(),i=U.useContext(OR);return xg.createElement($j,{...n,layoutGroup:i,switchLayoutGroup:U.useContext(UR),isPresent:e,safeToRemove:t})}const e7={borderRadius:{...hf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hf,borderTopRightRadius:hf,borderBottomLeftRadius:hf,borderBottomRightRadius:hf,boxShadow:Zj};function t7(n,e,t={}){const i=Ii(n)?n:nu(n);return i.start(bw("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const OL=["TopLeft","TopRight","BottomLeft","BottomRight"],n7=OL.length,sT=n=>typeof n=="string"?parseFloat(n):n,oT=n=>typeof n=="number"||st.test(n);function i7(n,e,t,i,r,s){r?(n.opacity=an(0,t.opacity!==void 0?t.opacity:1,r7(i)),n.opacityExit=an(e.opacity!==void 0?e.opacity:1,0,s7(i))):s&&(n.opacity=an(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<n7;o++){const a=`border${OL[o]}Radius`;let l=aT(e,a),u=aT(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||oT(l)===oT(u)?(n[a]=Math.max(an(sT(l),sT(u),i),0),(fs.test(u)||fs.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=an(e.rotate||0,t.rotate||0,i))}function aT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const r7=UL(0,.5,Cw),s7=UL(.5,.95,Ar);function UL(n,e,t){return i=>i<n?0:i>e?1:t(Ad(n,e,i))}function lT(n,e){n.min=e.min,n.max=e.max}function fr(n,e){lT(n.x,e.x),lT(n.y,e.y)}function cT(n,e,t,i,r){return n-=e,n=mg(n,1/t,i),r!==void 0&&(n=mg(n,1/r,i)),n}function o7(n,e=0,t=1,i=.5,r,s=n,o=n){if(fs.test(e)&&(e=parseFloat(e),e=an(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=an(s.min,s.max,i);n===s&&(a-=e),n.min=cT(n.min,e,t,a,r),n.max=cT(n.max,e,t,a,r)}function uT(n,e,[t,i,r],s,o){o7(n,e[t],e[i],e[r],e.scale,s,o)}const a7=["x","scaleX","originX"],l7=["y","scaleY","originY"];function fT(n,e,t,i){uT(n.x,e,a7,t?t.x:void 0,i?i.x:void 0),uT(n.y,e,l7,t?t.y:void 0,i?i.y:void 0)}function dT(n){return n.translate===0&&n.scale===1}function zL(n){return dT(n.x)&&dT(n.y)}function r1(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function hT(n){return Yi(n.x)/Yi(n.y)}class c7{constructor(){this.members=[]}add(e){pw(this.members,e),e.scheduleRender()}remove(e){if(mw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pT(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const u7=(n,e)=>n.depth-e.depth;class f7{constructor(){this.children=[],this.isDirty=!1}add(e){pw(this.children,e),this.isDirty=!0}remove(e){mw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(u7),this.isDirty=!1,this.children.forEach(e)}}function d7(n){window.MotionDebug&&window.MotionDebug.record(n)}const mT=["","X","Y","Z"],gT=1e3;let h7=0;const Ga={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function GL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=h7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ga.totalNodes=Ga.resolvedTargetDeltas=Ga.recalculatedProjection=0,this.nodes.forEach(g7),this.nodes.forEach(A7),this.nodes.forEach(_7),this.nodes.forEach(v7),d7(Ga)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new f7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=bL(p,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(yT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||E7,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=d.getProps(),_=!this.targetLayout||!r1(this.targetLayout,y)||m,M=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,M);const S={...TL(v,"layout"),onPlay:x,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!p&&this.animationProgress===0&&yT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ea.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vT);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(b7),this.potentialNodes.clear()),this.nodes.forEach(x7),this.nodes.forEach(p7),this.nodes.forEach(m7),this.clearAllSnapshots(),zy.update(),zy.preRender(),zy.render())}clearAllSnapshots(){this.nodes.forEach(y7),this.sharedNodes.forEach(M7)}scheduleUpdateProjection(){yi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){yi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!zL(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||za(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),T7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Sn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(To(a.x,l.offset.x),To(a.y,l.offset.y)),a}removeElementScroll(o){const a=Sn();fr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){fr(a,o);const{scroll:p}=this.root;p&&(To(a.x,-p.offset.x),To(a.y,-p.offset.y))}To(a.x,d.offset.x),To(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Sn();fr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),za(d.latestValues)&&bc(l,d.latestValues)}return za(this.latestValues)&&bc(l,this.latestValues),l}removeTransform(o){const a=Sn();fr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!za(u.latestValues))continue;t1(u.latestValues)&&u.updateSnapshot();const d=Sn(),h=u.measurePageBox();fr(d,h),fT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return za(this.latestValues)&&fT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((!!this.resumingFrom||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),Of(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Sn(),this.targetWithTransforms=Sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?Rj(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),DL(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),Of(this.relativeTargetOrigin,this.target,p.target),fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ga.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||t1(this.parent.latestValues)||IL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;fr(this.layoutCorrected,this.layout.layoutBox),zj(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Uf(),this.projectionDeltaWithTransform=Uf());const m=this.treeScale.x,y=this.treeScale.y,v=this.projectionTransform;kf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=pT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ga.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Uf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Sn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),A=!x||x.members.length<=1,_=!!(v&&!A&&this.options.crossfade===!0&&!this.path.some(C7));this.animationProgress=0;let M;this.mixTargetDelta=S=>{const E=S/1e3;xT(h.x,o.x,E),xT(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Of(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S7(this.relativeTarget,this.relativeTargetOrigin,p,E),M&&r1(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Sn()),fr(M,this.relativeTarget)),v&&(this.animationValues=d,i7(d,u,this.latestValues,E,_,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ea.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yi.update(()=>{Df.hasAnimatedSinceResize=!0,this.currentAnimation=t7(0,gT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&HL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Sn();const h=Yi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Yi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}fr(a,l),bc(a,d),kf(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new c7),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<mT.length;d++){const h="rotate"+mT[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Pm(o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Pm(o.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=pT(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in lg){if(p[v]===void 0)continue;const{correct:x,applyTo:A}=lg[v],_=u.transform==="none"?p[v]:x(p[v],h);if(A){const M=A.length;for(let S=0;S<M;S++)u[A[S]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=h===this?Pm(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(vT),this.root.sharedNodes.clear()}}}function p7(n){n.updateLayout()}function m7(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ss(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Yi(p);p.min=i[h].min,p.max=p.min+m}):HL(s,t.layoutBox,i)&&ss(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Yi(i[h]);p.max=p.min+m});const a=Uf();kf(a,i,t.layoutBox);const l=Uf();o?kf(l,n.applyTransform(r,!0),t.measuredBox):kf(l,i,t.layoutBox);const u=!zL(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=Sn();Of(y,t.layoutBox,p.layoutBox);const v=Sn();Of(v,i,m.layoutBox),r1(y,v)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function g7(n){Ga.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function v7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function y7(n){n.clearSnapshot()}function vT(n){n.clearMeasurements()}function x7(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function yT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function A7(n){n.resolveTargetDelta()}function _7(n){n.calcProjection()}function w7(n){n.resetRotation()}function M7(n){n.removeLeadSnapshot()}function xT(n,e,t){n.translate=an(e.translate,0,t),n.scale=an(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function AT(n,e,t,i){n.min=an(e.min,t.min,i),n.max=an(e.max,t.max,i)}function S7(n,e,t,i){AT(n.x,e.x,t.x,i),AT(n.y,e.y,t.y,i)}function C7(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const E7={duration:.45,ease:[.4,0,.1,1]};function b7(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(n.path[s].instance){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function _T(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function T7(n){_T(n.x),_T(n.y)}function HL(n,e,t){return n==="position"||n==="preserve-aspect"&&!$A(hT(e),hT(t),.2)}const P7=GL({attachResizeListener:(n,e)=>Js(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},VL=GL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Yy.current){const n=new P7(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),Yy.current=n}return Yy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),B7={pan:{Feature:Kj},drag:{Feature:Xj,ProjectionNode:VL,MeasureLayout:kL}},R7=new Set(["width","height","top","left","right","bottom","x","y"]),WL=n=>R7.has(n),L7=n=>Object.keys(n).some(WL),wT=n=>n===Cl||n===st,MT=(n,e)=>parseFloat(n.split(", ")[e]),ST=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return MT(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?MT(s[1],n):0}},I7=new Set(["x","y","z"]),D7=s0.filter(n=>!I7.has(n));function N7(n){const e=[];return D7.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const CT={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:ST(4,13),y:ST(5,14)},F7=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=CT[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),n[u]=CT[u](l,s)}),n},k7=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(WL);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=df(d);const p=e[l];let m;if(ug(p)){const y=p.length,v=p[0]===null?1:0;d=p[v],h=df(d);for(let x=v;x<y;x++)m?hg(df(p[x])===m):m=df(p[x])}else m=df(p);if(h!==m)if(wT(h)&&wT(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===st&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(p):(o||(s=N7(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=F7(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),n0&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function O7(n,e,t,i){return L7(e)?k7(n,e,t,i):{target:e,transitionEnd:i}}const U7=(n,e,t,i)=>{const r=Qj(n,e,i);return e=r.target,i=r.transitionEnd,O7(n,e,t,i)},s1={current:null},jL={current:!1};function z7(){if(jL.current=!0,!!n0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>s1.current=n.matches;n.addListener(e),e()}else s1.current=!1}function G7(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Ii(s))n.addValue(r,s),dg(i)&&i.add(r);else if(Ii(o))n.addValue(r,nu(s,{owner:n})),dg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,nu(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const JL=Object.keys(vd),H7=JL.length,ET=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],V7=sw.length;class W7{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>yi.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=r0(t),this.isVariantNode=FR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&Ii(p)&&(p.set(a[h],!1),dg(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),jL.current||z7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ea.update(this.notifyUpdate),ea.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Sl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&yi.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let u=0;u<H7;u++){const d=JL[u],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:y}=vd[d];m&&(a=m),h(t)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),y&&(l=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:y}=t;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!h||p&&Cc(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<ET.length;i++){const r=ET[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=G7(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<V7;i++){const r=sw[i],s=this.props[r];(gd(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=nu(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=hw(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ii(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new gw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class XL extends W7{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=hW(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){fW(this,i,o);const a=U7(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function j7(n){return window.getComputedStyle(n)}class J7 extends XL{readValueFromInstance(e,t){if(Sl.has(t)){const i=xw(t);return i&&i.default||0}else{const i=j7(e),r=(HR(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return NL(e,t)}build(e,t,i,r){aw(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return dw(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ii(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){XR(e,t,i,r)}}class X7 extends XL{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sl.has(t)){const i=xw(t);return i&&i.default||0}return t=KR.has(t)?t:fw(t),e.getAttribute(t)}measureInstanceViewportBox(){return Sn()}scrapeMotionValuesFromProps(e,t){return qR(e,t)}build(e,t,i,r){cw(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){YR(e,t,i,r)}mount(e){this.isSVGTag=uw(e.tagName),super.mount(e)}}const K7=(n,e)=>ow(n)?new X7(e,{enableHardwareAcceleration:!1}):new J7(e,{enableHardwareAcceleration:!0}),Y7={layout:{ProjectionNode:VL,MeasureLayout:kL}},q7={...bj,...U8,...B7,...Y7},At=Z6((n,e)=>E8(n,e,q7,K7)),xt={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider",sectionSubText2:"sm:text-[20px] text-[16px] text-white uppercase tracking-wider pt-10"},Q7=()=>Ae("section",{className:"relative w-full h-screen mx-auto",children:[Ae("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${xt.paddingX} flex flex-row items-start gap-5`,children:[Ae("div",{className:"flex flex-col justify-center items-center mt-5",children:[B("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),B("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),Ae("div",{children:[Ae("h1",{className:`${xt.heroHeadText} text-white`,children:["Sammy",B("span",{className:"text-[#915EFF]",children:" SAMIRI"})]}),Ae("p",{className:`${xt.heroSubText} mt-2 text-white-100`,children:['"Je développe des applications mobiles, clients lourds et sites web, ',B("br",{className:"sm:block hidden"}),'de la conception au déploiement !"']})]})]}),B(R6,{}),B("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:B("a",{href:"#about",children:B("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:B(At.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),Z7="/project_3D_developer_portfolio/assets/logo-c1063d16.svg",$7="/project_3D_developer_portfolio/assets/backend-565fc01f.png",eJ="/project_3D_developer_portfolio/assets/creator-dbbffaec.png",tJ="/project_3D_developer_portfolio/assets/mobile-896ef2f5.png",nJ="/project_3D_developer_portfolio/assets/web-0d05165f.png",iJ="/project_3D_developer_portfolio/assets/menu-242d80a8.svg",KL="/project_3D_developer_portfolio/assets/close-ad0e0ca6.svg",rJ="/project_3D_developer_portfolio/assets/css-79a7f026.png",sJ="/project_3D_developer_portfolio/assets/docker-602a695a.png",YL="/project_3D_developer_portfolio/assets/figma-184a11e6.png",oJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",aJ="/project_3D_developer_portfolio/assets/html-92b76a73.png",lJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",cJ="/project_3D_developer_portfolio/assets/nodejs-d83eb6dd.png",uJ="/project_3D_developer_portfolio/assets/reactjs-966214a8.png",fJ="/project_3D_developer_portfolio/assets/angular-f171c30d.png",dJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",hJ="/project_3D_developer_portfolio/assets/threejs-1d0654a8.svg",pJ="/project_3D_developer_portfolio/assets/java-e671b6ec.png",mJ="/project_3D_developer_portfolio/assets/mysql-5a7d5981.png",gJ="/project_3D_developer_portfolio/assets/shopify-c0fdbc80.png",bT="/project_3D_developer_portfolio/assets/dedalus-2bf7e1d0.png",vJ="/project_3D_developer_portfolio/assets/darty-f913fdc5.png",Tw="/project_3D_developer_portfolio/assets/carrent-aba013d1.png",gg="/project_3D_developer_portfolio/assets/egytronics-30c94d8a.png",qL="/project_3D_developer_portfolio/assets/mindset-17d9a68b.png",TT=[{id:"about",title:"A propos"},{id:"realisation",title:"Mes réalisations"},{id:"technique",title:"Compétences Techniques "},{id:"transverse",title:"Compétences Transverse "},{id:"contact",title:"Contact"}],yJ=[{title:"Développeur Web",icon:nJ},{title:"Développeur Logiciel",icon:tJ},{title:"Développeur Backend",icon:$7},{title:"Développeur Smartphone (IOS/Android)",icon:eJ}],xJ=[{name:"HTML 5",icon:aJ},{name:"CSS 3",icon:rJ},{name:"JavaScript",icon:lJ},{name:"TypeScript",icon:dJ},{name:"React JS",icon:uJ},{name:"Angular",icon:fJ},{name:"java",icon:pJ},{name:"Node JS",icon:cJ},{name:"MySql",icon:mJ},{name:"Three JS",icon:hJ},{name:"git",icon:oJ},{name:"figma",icon:YL},{name:"docker",icon:sJ}],AJ=[{title:"Alternant Développeur Java/Angular",company_name:"Dedalus HealthCare France",icon:bT,iconBg:"#383E56",date:"Sep 2023 - Aujourd'hui",points:["Conception et maintenance d'applications web / client lourd avec Angular et intégration de solutions back-end en Java.","Collaboration avec des équipes pluridisciplinaires, y compris des UX designers, des Product Owner/manager, ainsi que d'autre corp de métier pour développer des produits de haute qualité.","Mise en place et amélioration continue de l'architecture logicielle.","Résolution de Defect dans les applications, garantissant ainsi la fiabilité et la performance des systèmes.","Application de la méthode Agile pour une gestion de projet efficace."]},{title:"Stagiaire Développeur Java/Angular",company_name:"Dedalus HealthCare France",icon:bT,iconBg:"#383E56",date:"Fev 2023 - Sep 2023",points:["Adoption et mise en pratique des principes de la méthode Agile pour le suivi des projets et la collaboration au sein des équipes de développement.","Développement d’un tableau de bord d'indicateurs pour les professionnels de santé, facilitant la consultation et le suivi des dossiers de patients à risque."]},{title:"Développeur de Boutiques web",company_name:"Auto-entrepreneur",icon:gJ,iconBg:"#383E56",date:"Jan 2023 - Present",points:["Conception et lancement de boutiques en ligne sur la plateforme Shopify, ciblant divers marchés et niches pour maximiser les ventes et la visibilité des produits.","Application des principes de design web pour créer des interfaces attractives et conviviales, augmentant l'engagement client et le taux de conversion.","Gestion complète du cycle de vie des projets e-commerce, depuis l'idéation jusqu'au déploiement, en assurant le suivi des performances et l'ajustement des stratégies en fonction des analyses de données.","Mise en place de campagne marqueting pour les produits de chaques boutiques.","Optimisation des sites pour le référencement (SEO)."]},{title:"Développeur de Sites Vitrines",company_name:"Auto-entrepreneur",icon:YL,iconBg:"#383E56",date:"Jan 2023 - Present",points:["Conception et réalisation de sites vitrines pour une variété de clients, en mettant l'accent sur des designs attrayants et fonctionnels qui valorisent l'identité de marque et facilitent la communication avec les cibles.","Optimisation des sites pour le référencement (SEO), assurant une visibilité accrue sur les moteurs de recherche et un trafic ciblé vers les sites des clients.","Gestion de projets de A à Z, incluant la définition des besoins clients, la planification, le développement, le déploiement, et le suivi post-lancement pour garantir la satisfaction client et l'atteinte des objectifs commerciaux.","Mise en œuvre de techniques de responsive design pour garantir une excellente expérience utilisateur sur tous les appareils, augmentant l'accessibilité et la portée du site."]},{title:"Vendeur multimédia et électroménager (Top 100 France)",company_name:"Darty",icon:vJ,iconBg:"#383E56",date:"Jan 2022 - Fev 2023",points:["Analyse besoin client.","Merch.","Vente de services (Assurance et crédit)."]}],_J=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but Rick proved me wrong.",name:"Sara Lee",designation:"CFO",company:"Acme Co",image:"https://randomuser.me/api/portraits/women/4.jpg"},{testimonial:"I've never met a web developer who truly cares about their clients' success like Rick does.",name:"Chris Brown",designation:"COO",company:"DEF Corp",image:"https://randomuser.me/api/portraits/men/5.jpg"},{testimonial:"After Rick optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Lisa Wang",designation:"CTO",company:"456 Enterprises",image:"https://randomuser.me/api/portraits/women/6.jpg"}],wJ=[{name:"Tableaux de bord d'indicateurs pour la surveillance de patients à risque ",description:"Ce projet a consisté à développer un tableau de bord d'indicateurs pour la surveillance de patients à risque en hopital. L'objectif était de fournir au personnel soignant un outil efficace pour le suivi en temps réel des données critiques, améliorant ainsi la réactivité face aux situations potentiellement dangereuses.",tagsTechnique:[{name:"Angular",color:"text-rose-900"},{name:"HTML",color:"text-pink-900"},{name:"JAVA",color:"text-fuchsia-900"},{name:"Maquettage Web",color:"text-purple-900"},{name:"CSS",color:"text-pink-500"}],tagsTransverse:[{name:"Agilité",color:"text-orange-300"},{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Communication",color:"text-yellow-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Auto-formation",color:"text-emerald-300"}],image:Tw,source_code_link:"/tableauIndicateur"},{name:"Site web de Support de solution logistique",description:"Ce projet a impliqué le développement d'un site web de contact dédié au support d'une solution logistique, ciblant des spécialistes des secteurs militaire, naval, et d'autres industries majeures. Conçu pour toucher un public international, le site avait pour but de faciliter la communication directe avec des utilisateurs de divers pays.",tagsTechnique:[{name:"CSS",color:"text-pink-500"},{name:"HTML",color:"text-pink-900"},{name:"Maquettage Web",color:"text-purple-900"}],tagsTransverse:[{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Communication",color:"text-yellow-300"},{name:"Auto-formation",color:"text-emerald-300"},{name:"Conformité Légale",color:"text-green-300"}],image:gg,source_code_link:"/logisticSupportSite"},{name:"Logiciel de gestion de santé pour hopitaux",description:"Ce projet, Orbis, représente un logiciel de gestion de santé conçu pour répondre aux besoins complexes des hôpitaux et cliniques de grandes envergures. Au sein de ce vaste écosystème, je contribue spécifiquement à l'équipe dédiée à la pharmacie, travaillant à l'optimisation et à l'intégration des processus pharmaceutiques au sein du système général.",tagsTechnique:[{name:"HTML",color:"text-pink-900"},{name:"CSS",color:"text-pink-500"},{name:"Angular",color:"text-rose-900"},{name:"JAVA",color:"text-fuchsia-900"}],tagsTransverse:[{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Agilité",color:"text-orange-300"},{name:"Communication",color:"text-yellow-300"},{name:"Auto-formation",color:"text-emerald-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"}],image:gg,source_code_link:"/orbisProject"},{name:"Application de rencontre à l'aveugle",description:`Le projet "Mindset" incarne une application de rencontre à l'aveugle innovante. Centrée sur la mise en relation des individus en fonction de leur personnalité plutôt que de leur apparence physique, Mindset ambitionne de faciliter des connexions authentiques et profondes. Cette application se démarque par une approche unique où les images des profils sont révélées progressivement, encourageant ainsi les utilisateurs à établir un lien basé sur des affinités mutuelles avant toute rencontre visuelle.`,tagsTechnique:[{name:"Flutter",color:"text-pink-400"},{name:"Dart",color:"text-pink-600"},{name:"JAVA",color:"text-fuchsia-900"},{name:"Maquettage Web",color:"text-purple-900"}],tagsTransverse:[{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Agilité",color:"text-orange-300"},{name:"Communication",color:"text-yellow-300"},{name:"Auto-formation",color:"text-emerald-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"}],image:qL,source_code_link:"/mindset"}],MJ=[{name:"Tableaux de bord d'indicateurs pour la surveillance de patients à risque ",description:"Ce projet a consisté à développer un tableau de bord d'indicateurs pour la surveillance de patients à risque en hopital. L'objectif était de fournir au personnel soignant un outil efficace pour le suivi en temps réel des données critiques, améliorant ainsi la réactivité face aux situations potentiellement dangereuses.",tagsTechnique:[{name:"Angular",color:"text-rose-900",taille:"text-[14px]"},{name:"HTML",color:"text-pink-900",taille:"text-[14px]"},{name:"JAVA",color:"text-fuchsia-900",taille:"text-[16px] font-bold"},{name:"Maquettage Web",color:"text-purple-900",taille:"text-[14px]"},{name:"CSS",color:"text-pink-500",taille:"text-[14px]"}],tagsTransverse:[{name:"Agilité",color:"text-orange-300"},{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Communication",color:"text-yellow-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Auto-formation",color:"text-emerald-300"}],image:Tw,source_code_link:"/tableauIndicateur"},{name:"Logiciel de gestion de santé pour hopitaux",description:"Ce projet, Orbis, représente un logiciel de gestion de santé conçu pour répondre aux besoins complexes des hôpitaux et cliniques de grandes envergures. Au sein de ce vaste écosystème, je contribue spécifiquement à l'équipe dédiée à la pharmacie, travaillant à l'optimisation et à l'intégration des processus pharmaceutiques au sein du système général.",tagsTechnique:[{name:"HTML",color:"text-pink-900",taille:"text-[14px]"},{name:"CSS",color:"text-pink-500",taille:"text-[14px]"},{name:"Angular",color:"text-rose-900",taille:"text-[14px]"},{name:"JAVA",color:"text-fuchsia-900",taille:"text-[16px] font-bold"}],tagsTransverse:[{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Agilité",color:"text-orange-300"},{name:"Communication",color:"text-yellow-300"},{name:"Auto-formation",color:"text-emerald-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"}],image:gg,source_code_link:"/orbisProject"},{name:"Application de rencontre à l'aveugle",description:`Le projet "Mindset" incarne une application de rencontre à l'aveugle innovante. Centrée sur la mise en relation des individus en fonction de leur personnalité plutôt que de leur apparence physique, Mindset ambitionne de faciliter des connexions authentiques et profondes. Cette application se démarque par une approche unique où les images des profils sont révélées progressivement, encourageant ainsi les utilisateurs à établir un lien basé sur des affinités mutuelles avant toute rencontre visuelle.`,tagsTechnique:[{name:"Flutter",color:"text-pink-400",taille:"text-[14px]"},{name:"Dart",color:"text-pink-600",taille:"text-[14px]"},{name:"JAVA",color:"text-fuchsia-900",taille:"text-[16px] font-bold"},{name:"Maquettage Web",color:"text-purple-900",taille:"text-[14px]"}],tagsTransverse:[{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Agilité",color:"text-orange-300"},{name:"Communication",color:"text-yellow-300"},{name:"Auto-formation",color:"text-emerald-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"}],image:qL,source_code_link:"/mindset"}],SJ=[{name:"Tableaux de bord d'indicateurs pour la surveillance de patients à risque ",description:"Ce projet a consisté à développer un tableau de bord d'indicateurs pour la surveillance de patients à risque en hopital. L'objectif était de fournir au personnel soignant un outil efficace pour le suivi en temps réel des données critiques, améliorant ainsi la réactivité face aux situations potentiellement dangereuses.",tagsTechnique:[{name:"Angular",color:"text-rose-900",taille:"text-[16px] font-bold"},{name:"HTML",color:"text-pink-900",taille:"text-[14px]"},{name:"JAVA",color:"text-fuchsia-900",taille:"text-[14px]"},{name:"Maquettage Web",color:"text-purple-900",taille:"text-[14px]"},{name:"CSS",color:"text-pink-500",taille:"text-[14px]"}],tagsTransverse:[{name:"Agilité",color:"text-orange-300"},{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Communication",color:"text-yellow-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Auto-formation",color:"text-emerald-300"}],image:Tw,source_code_link:"/tableauIndicateur"},{name:"Logiciel de gestion de santé pour hopitaux",description:"Ce projet, Orbis, représente un logiciel de gestion de santé conçu pour répondre aux besoins complexes des hôpitaux et cliniques de grandes envergures. Au sein de ce vaste écosystème, je contribue spécifiquement à l'équipe dédiée à la pharmacie, travaillant à l'optimisation et à l'intégration des processus pharmaceutiques au sein du système général.",tagsTechnique:[{name:"HTML",color:"text-pink-900",taille:"text-[14px]"},{name:"CSS",color:"text-pink-500",taille:"text-[14px]"},{name:"Angular",color:"text-rose-900",taille:"text-[16px] font-bold"},{name:"JAVA",color:"text-fuchsia-900",taille:"text-[14px]"}],tagsTransverse:[{name:"Analyse du besoin client",color:"text-amber-300"},{name:"Agilité",color:"text-orange-300"},{name:"Communication",color:"text-yellow-300"},{name:"Auto-formation",color:"text-emerald-300"},{name:"Conformité Légale",color:"text-green-300"},{name:"Analyse du retour sur investissement",color:"text-lime-300"}],image:gg,source_code_link:"/orbisProject"}],CJ=()=>{const[n,e]=U.useState(""),[t,i]=U.useState(!1),[r,s]=U.useState(!1);return U.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),B("nav",{className:`${xt.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:Ae("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[Ae(oi,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[B("img",{src:Z7,alt:"logo",className:"w-9 h-9 object-contain"}),Ae("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Sammy  ",B("span",{className:"sm:block hidden",children:" | Portfolio"})]})]}),B("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:TT.map(o=>B("li",{className:`${n===o.title?"text-white":"text-secondary"} hover:text-white text-[16px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:B("a",{href:`#${o.id}`,children:o.title})},o.id))}),Ae("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[B("img",{src:t?KL:iJ,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!t)}),B("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:B("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:TT.map(o=>B("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(o.title)},children:B("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})};var QL={};Object.defineProperty(QL,"__esModule",{value:!0});var pf=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},EJ=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),ZL=U,bJ=PJ(ZL),TJ=YP;function PJ(n){return n&&n.__esModule?n:{default:n}}function BJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function RJ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function LJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var IJ=function(n){LJ(e,n);function e(t){BJ(this,e);var i=RJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.state={style:{}};var r={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},r,i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(i,i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(i,i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(i,i.props.onMouseLeave),i}return EJ(e,[{key:"componentDidMount",value:function(){this.element=(0,TJ.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:pf({},this.state.style,{willChange:"transform"})})),this.setTransition(),i(r)}},{key:"reset",value:function(){var i=this;window.requestAnimationFrame(function(){i.setState(Object.assign({},i.state,{style:pf({},i.state.style,{transform:"perspective("+i.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return r.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=r,this.updateCall=requestAnimationFrame(this.update.bind(this,r)),i(r)}},{key:"setTransition",value:function(){var i=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:pf({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){i.setState(Object.assign({},i.state,{style:pf({},i.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),i(r)}},{key:"getValues",value:function(i){var r=(i.nativeEvent.clientX-this.left)/this.width,s=(i.nativeEvent.clientY-this.top)/this.height,o=Math.min(Math.max(r,0),1),a=Math.min(Math.max(s,0),1),l=(this.reverse*(this.settings.max/2-o*this.settings.max)).toFixed(2),u=(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),d=o*100,h=a*100;return{tiltX:l,tiltY:u,percentageX:d,percentageY:h}}},{key:"updateElementPosition",value:function(){var i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}},{key:"update",value:function(i){var r=this.getValues(i);this.setState(Object.assign({},this.state,{style:pf({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:r.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:r.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var i=Object.assign({},this.props.style,this.state.style);return bJ.default.createElement("div",{style:i,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),e}(ZL.Component),vs=QL.default=IJ;const Cr=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),An=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),PT=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),DJ=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Di=(n,e)=>function(){return Ae(At.section,{variants:DJ(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${xt.padding} max-w-7xl mx-auto relative z-0`,children:[B("span",{className:"hash-span",id:e,children:" "}),B(n,{})]})},NJ=({index:n,title:e,icon:t})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:Ae("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[B("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),FJ=()=>Ae(Sr,{children:[Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"Introduction"}),B("h2",{className:xt.sectionHeadText,children:"A Propos."})]}),Ae(At.p,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:["Actuellement ",B("span",{className:"text-[20px] text-amber-50",children:"alternant"})," chez ",B("span",{className:"text-[20px] text-amber-50",children:B("u",{children:B("a",{href:"https://www.dedalus.com/fr/fr/",children:"Dedalus Healthcare France"})})})," à Artigues-près-Bordeaux pour ",B("span",{className:"text-[20px] text-amber-50",children:"ma quatrième année de formation"})," à ",B("span",{className:"text-[20px] text-amber-50",children:B("u",{children:B("a",{href:"https://www.esiea.fr/lecole/les-campus/campus-agen/",children:" ESIEA Agen."})})}),B("br",{}),B("br",{}),"je suis en train de façonner mon expertise en ",B("span",{className:"text-[20px] text-amber-50",children:"développement logicel et web"})," durant cette quatrième année à ESIEA Agen. Animé par une forte ",B("span",{className:"text-[20px] text-amber-50",children:"capacité d'adaptation"})," et un ",B("span",{className:"text-[20px] text-amber-50",children:"esprit collaboratif,"})," je m'",B("span",{className:"text-[20px] text-amber-50",children:"intègre"})," aisément au sein d'équipes multidisciplinaires, en ",B("span",{className:"text-[20px] text-amber-50",children:"apportant dynamisme et réflexion stratégique."})," Doté d'un ",B("span",{className:"text-[20px] text-amber-50",children:"esprit analytique"}),", je suis constamment à l'affût de nouvelles façons d'optimiser les processus et de ",B("span",{className:"text-[20px] text-amber-50",children:"résoudre des problèmes complexes."})," Les expériences professionnelles m'ont doté d'une ",B("span",{className:"text-[20px] text-amber-50",children:"aisance dans la communication"})," et m'ont inculqué l'importance de la ",B("span",{className:"text-[20px] text-amber-50",children:"responsabilité et de l'engagement"})," envers des objectifs communs.",B("br",{}),B("br",{}),B("span",{className:"text-[20px] text-amber-50",children:"Projet professionnel :"}),B("br",{}),"Concernant mon projet professionnel, je suis dans une ",B("span",{className:"text-[20px] text-amber-50",children:"phase d'évaluation"}),", balançant entre la vision globale d'un ",B("span",{className:"text-[20px] text-amber-50",children:"architecte logiciel"})," et l'orientation produit d'un ",B("span",{className:"text-[20px] text-amber-50",children:"product owner"}),". Ce dilemme professionnel reflète mon aspiration à ",B("span",{className:"text-[20px] text-amber-50",children:"influer"})," significativement sur le ",B("span",{className:"text-[20px] text-amber-50",children:"développement de solutions technologiques"})," et à orchestrer des projets qui ",B("span",{className:"text-[20px] text-amber-50",children:"résolvent"})," des ",B("span",{className:"text-[20px] text-amber-50",children:"défis réels"}),".",B("br",{}),B("br",{}),B("span",{className:"text-[20px] text-amber-50",children:"Centres d'intérêts :"}),B("br",{}),B("span",{className:"text-[20px] text-amber-50",children:"Mon approche professionnelle"})," est ancrée dans une ",B("span",{className:"text-[20px] text-amber-50",children:"passion"})," pour le ",B("span",{className:"text-[20px] text-amber-50",children:"commerce"})," et la ",B("span",{className:"text-[20px] text-amber-50",children:"technologie de pointe"}),". Je suis captivé par les évolutions rapides du ",B("span",{className:"text-[20px] text-amber-50",children:"marché des crypto-monnaies"})," et je reste à l'avant-garde des tendances en ",B("span",{className:"text-[20px] text-amber-50",children:"réalité virtuelle"})," et en ",B("span",{className:"text-[20px] text-amber-50",children:"modélisation 3D"}),". Ouvert au monde, j'aime approfondir ma connaissance des ",B("span",{className:"text-[20px] text-amber-50",children:"langues étrangères"}),", ce qui enrichit mon interaction avec des cultures diverses. Pour garder un équilibre, je m'investis régulièrement dans la ",B("span",{className:"text-[20px] text-amber-50",children:"musculation"})," et les ",B("span",{className:"text-[20px] text-amber-50",children:"sports de combat"}),", des activités qui renforcent ma ",B("span",{className:"text-[20px] text-amber-50",children:"discipline et ma détermination"}),"."]}),B("div",{className:"mt-20 flex flex-wrap gap-10",children:yJ.map((n,e)=>B(NJ,{index:e,...n},n.title))})]}),kJ=Di(FJ,"about"),OJ=()=>B("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:xJ.map(n=>B("div",{className:"w-28 h-28",children:B(P6,{icon:n.icon})},n.name))}),UJ=Di(OJ,"");var c0={},$L={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})($L);var eI=$L.exports;c0.__esModule=!0;c0.default=void 0;var zJ=Pw(U),wo=Pw(LR),GJ=Pw(eI);function Pw(n){return n&&n.__esModule?n:{default:n}}const tI=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),zJ.default.createElement("div",{className:(0,GJ.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));tI.propTypes={children:wo.default.oneOfType([wo.default.arrayOf(wo.default.node),wo.default.node]).isRequired,className:wo.default.string,animate:wo.default.bool,layout:wo.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:wo.default.string};var HJ=tI;c0.default=HJ;var u0={};function o1(){return o1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},o1.apply(this,arguments)}function VJ(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,a1(n,e)}function a1(n,e){return a1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},a1(n,e)}function WJ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var l1=new Map,om=new WeakMap,BT=0,nI=void 0;function jJ(n){nI=n}function JJ(n){return n?(om.has(n)||(BT+=1,om.set(n,BT.toString())),om.get(n)):"0"}function XJ(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?JJ(n.root):n[e])}).toString()}function KJ(n){var e=XJ(n),t=l1.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(d){d(u,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},l1.set(e,t)}return t}function Bw(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=nI),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=KJ(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),l1.delete(o))}}var YJ=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function RT(n){return typeof n.children!="function"}var vg=function(n){VJ(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),RT(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,d=r.fallbackInView;this._unobserveCb=Bw(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!RT(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,d=WJ(a,YJ);return U.createElement(u||"div",o1({ref:this.handleNode},d),l)},e}(U.Component);vg.displayName="InView";vg.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function qJ(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,d=e.fallbackInView,h=U.useRef(),p=U.useState({inView:!!u}),m=p[0],y=p[1],v=U.useCallback(function(A){h.current!==void 0&&(h.current(),h.current=void 0),!l&&A&&(h.current=Bw(A,function(_,M){y({inView:_,entry:M}),M.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);U.useEffect(function(){!h.current&&m.entry&&!a&&!l&&y({inView:!!u})});var x=[v,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const QJ=Object.freeze(Object.defineProperty({__proto__:null,InView:vg,default:vg,defaultFallbackInView:jJ,observe:Bw,useInView:qJ},Symbol.toStringTag,{value:"Module"})),ZJ=$I(QJ);u0.__esModule=!0;u0.default=void 0;var Mo=Rw(U),Zt=Rw(LR),am=Rw(eI),$J=ZJ;function Rw(n){return n&&n.__esModule?n:{default:n}}const iI=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:v={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>Mo.default.createElement($J.InView,v,({inView:A,ref:_})=>Mo.default.createElement("div",{ref:_,id:h,className:(0,am.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Mo.default.createElement(Mo.default.Fragment,null,Mo.default.createElement("span",{style:d,onClick:l,className:(0,am.default)(a,"vertical-timeline-element-icon",{"bounce-in":A||x,"is-hidden":!(A||x)})},o),Mo.default.createElement("div",{style:i,onClick:u,className:(0,am.default)(y,"vertical-timeline-element-content",{"bounce-in":A||x,"is-hidden":!(A||x)})},Mo.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Mo.default.createElement("span",{className:(0,am.default)(s,"vertical-timeline-element-date")},r)))));iI.propTypes={children:Zt.default.oneOfType([Zt.default.arrayOf(Zt.default.node),Zt.default.node]),className:Zt.default.string,contentArrowStyle:Zt.default.shape({}),contentStyle:Zt.default.shape({}),date:Zt.default.node,dateClassName:Zt.default.string,icon:Zt.default.element,iconClassName:Zt.default.string,iconStyle:Zt.default.shape({}),iconOnClick:Zt.default.func,onTimelineElementClick:Zt.default.func,id:Zt.default.string,position:Zt.default.string,style:Zt.default.shape({}),textClassName:Zt.default.string,visible:Zt.default.bool,intersectionObserverProps:Zt.default.shape({root:Zt.default.object,rootMargin:Zt.default.string,threshold:Zt.default.number,triggerOnce:Zt.default.bool})};var eX=iI;u0.default=eX;var rI={VerticalTimeline:c0.default,VerticalTimelineElement:u0.default};const tX=({experience:n})=>Ae(rI.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:B("div",{className:"flex justify-center items-center w-full h-full",children:B("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[Ae("div",{children:[B("h3",{className:"text-white text-[24px] font-bold",children:n.title}),B("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),B("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>B("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),nX=()=>Ae(Sr,{children:[Ae(At.div,{variants:Cr(),children:[B("p",{className:`${xt.sectionSubText} text-center`,children:"CE QUE J'AI FAIT JUSQU'À PRÉSENT"}),B("h2",{className:`${xt.sectionHeadText} text-center`,children:"Expériences de travail."})]}),B("div",{className:"mt-20 flex flex-col",children:B(rI.VerticalTimeline,{children:AJ.map((n,e)=>B(tX,{experience:n},`experience-${e}`))})})]}),iX=Di(nX,"work"),rX=({index:n,name:e,description:t,tagsTechnique:i,tagsTransverse:r,image:s,source_code_link:o})=>B(oi,{to:o,className:"flex gap-2",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B(At.div,{variants:An("up","spring",n*.5,.75),children:Ae(vs,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[B("div",{className:"relative w-full h-[230px]",children:B("img",{src:s,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"})}),Ae("div",{className:"mt-5",children:[B("h3",{className:"text-white font-bold text-[24px]",children:e}),B("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),B("br",{}),B("p",{className:"text-sm",children:"Compétences techniques :"}),B("div",{className:" flex flex-wrap gap-2",children:i.map(a=>Ae("p",{className:`text-[14px] ${a.color}`,children:["#",a.name]},`${e}-${a.name}`))}),B("br",{}),B("p",{className:"text-sm",children:"Compétences transverses :"}),B("div",{className:"flex flex-wrap gap-2 ",children:r.map(a=>Ae("p",{className:`text-[14px] ${a.color}`,children:["#",a.name]},`${e}-${a.name}`))})]})})}),sX=()=>Ae(Sr,{children:[Ae(At.div,{variants:Cr(),children:[B("p",{className:`${xt.sectionSubText} `,children:"Mes Réalisations"}),B("h2",{className:`${xt.sectionHeadText}`,children:"Projets."})]}),B("div",{className:"w-full flex",children:Ae(At.p,{variants:An("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:["Les projets suivants mettent en avant mes compétences et mon expérience à travers des exemples concrets de mon travail. Chaque projet est brièvement décrit, accompagné de liens vers le détail du projet.",Ae("p",{className:"text-[14px] font-extralight font",children:[" ",B("span",{className:"text-red-600",children:"* "}),'Les tags, précédés du signe "#", situés sous les cartes, regroupent les compétences techniques et transversales utilisées pour mener à bien le projet en question.']})]})}),B("div",{className:"mt-20 flex flex-wrap gap-7",children:wJ.map((n,e)=>B(rX,{index:e,...n},`project-${e}`))})]}),oX=Di(sX,"realisation"),aX=({index:n,testimonial:e,name:t,designation:i,company:r,image:s})=>Ae(At.div,{variants:An("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[B("p",{className:"text-white font-black text-[48px]",children:'"'}),Ae("div",{className:"mt-1",children:[B("p",{className:"text-white tracking-wider text-[18px]",children:e}),Ae("div",{className:"mt-7 flex justify-between items-center gap-1",children:[Ae("div",{className:"flex-1 flex flex-col",children:[Ae("p",{className:"text-white font-medium text-[16px]",children:[B("span",{className:"blue-text-gradient",children:"@"})," ",t]}),Ae("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),B("img",{src:s,alt:`feedback_by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),lX=()=>Ae("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[B("div",{className:`bg-tertiary rounded-2xl ${xt.padding} min-h-[300px]`,children:Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"What others say"}),B("h2",{className:xt.sectionHeadText,children:"Testimonials."})]})}),B("div",{className:`-mt-20 pb-14 ${xt.paddingX} flex flex-wrap gap-7`,children:_J.map((n,e)=>B(aX,{index:e,...n},n.name))})]}),cX=Di(lX,""),_d={_origin:"https://api.emailjs.com"},uX=(n,e="https://api.emailjs.com")=>{_d._userID=n,_d._origin=e},sI=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class LT{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const oI=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new LT(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new LT(o))}),s.open("POST",_d._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),fX=(n,e,t,i)=>{const r=i||_d._userID;return sI(r,n,e),oI("/api/v1.0/email/send",JSON.stringify({lib_version:"3.10.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},dX=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},hX=(n,e,t,i)=>{const r=i||_d._userID,s=dX(t);sI(r,n,e);const o=new FormData(s);return o.append("lib_version","3.10.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),oI("/api/v1.0/email/send-form",o)},pX={init:uX,send:fX,sendForm:hX},mX=()=>{const n=U.useRef(),[e,t]=U.useState({name:"",email:"",message:""}),[i,r]=U.useState(!1),s=a=>{const{target:l}=a,{name:u,value:d}=l;t({...e,[u]:d})},o=a=>{a.preventDefault(),r(!0),pX.send({}.VITE_APP_EMAILJS_SERVICE_ID,{}.VITE_APP_EMAILJS_TEMPLATE_ID,{from_name:e.name,to_name:"Mon porfolio",from_email:e.email,to_email:"samsamiri47@gmail.com",message:e.message},{}.VITE_APP_EMAILJS_PUBLIC_KEY).then(()=>{r(!1),alert("Merci. Je vous recontacterai aussi rapidement que possible"),t({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, une erreur c'est produite. Recommencez svp.")})};return Ae("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[Ae(At.div,{variants:PT("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[B("p",{className:xt.sectionSubText,children:"Discutons !"}),B("h3",{className:xt.sectionHeadText,children:"Contact."}),Ae("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[Ae("label",{className:"flex flex-col",children:[B("span",{className:"text-white font-medium mb-4",children:"Votre nom et prenom"}),B("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"Quel est votre nom et prenom?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Ae("label",{className:"flex flex-col",children:[B("span",{className:"text-white font-medium mb-4",children:"Votre Email"}),B("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"Quel est votre adresse email?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),Ae("label",{className:"flex flex-col",children:[B("span",{className:"text-white font-medium mb-4",children:"Votre message"}),B("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"Que voulez vous me dire?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),B("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Envoi en cours...":"envoyer"})]})]}),B(At.div,{variants:PT("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:B(b6,{})})]})},gX=Di(mX,"contact"),yu=()=>B("div",{className:"mb-10 flex justify-end ",children:Ae(oi,{to:"/",className:"flex items-center gap-2",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:[B("img",{src:KL,alt:"logo",className:"w-9 h-9 object-contain"}),B("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:B("span",{className:"sm:block hidden",children:" Retour"})})]})}),Ds=({index:n,title:e})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[2px] rounded-[20px] shadow-card",children:B(oi,{to:"source_code_link",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[100] flex justify-evenly items-center flex-col",children:B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})})})})}),vX=()=>Ae(Sr,{children:[B(yu,{}),Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"Projet Personnel :"}),B("h2",{className:xt.sectionHeadText,children:"Mindset - Application de rencontre à l'aveugle."})]}),Ae(At.div,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:[B("br",{}),B("br",{}),"Mindset est une application de rencontre innovante que j'ai développée en tant que projet personnel. L'application vise à créer des liens authentiques en privilégiant la personnalité et les valeurs partagées plutôt que l'apparence physique. Elle offre une expérience unique où les photos de profil ne sont révélées que petit à petit après discussion entre les utilisateurs.",B("br",{}),B("br",{}),"Pour mener ce projet à bien, j'ai mobilisé mes compétences en :",B("span",{className:"text-[20px] text-amber-50",children:" #Flutter "})," et",B("span",{className:"text-[20px] text-amber-50",children:" #Dart "})," pour le développement cross-platform, assurant ainsi une expérience utilisateur fluide sur tous les appareils. J'ai également utilisé",B("span",{className:"text-[20px] text-amber-50",children:" #JAVA "})," et des techniques de",B("span",{className:"text-[20px] text-amber-50",children:" #Maquettage WebMaquettage Web "})," pour construire le backend et concevoir l'interface utilisateur.",B("br",{}),B("br",{}),"Ce projet a également fait appel à mes compétences transverses :",B("span",{className:"text-[20px] text-amber-50",children:" #Analyse du besoin client"}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Agilité"}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Communication"}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Auto-formation"}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Conformité Légale"}),", et",B("span",{className:"text-[20px] text-amber-50",children:" #Analyse du retour sur investissement"}),", qui ont été cruciales pour répondre efficacement aux besoins des utilisateurs et garantir la conformité du produit."]}),B("p",{className:xt.sectionSubText2,children:"Compétences Techniques :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Ds,{title:"#Flutter"}),B(Ds,{title:"#Dart"}),B(Ds,{title:"#JAVA"})]}),B("p",{className:xt.sectionSubText2,children:"Compétences Transverses :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Ds,{title:"#Analyse du besoin client"}),B(Ds,{title:"#Agilité"}),B(Ds,{title:"#Communication"}),B(Ds,{title:"#Auto-formation"}),B(Ds,{title:"#Conformité Légale"}),B(Ds,{title:"#Analyse du retour sur investissement"})]})]}),IT=Di(vX,"mindset"),Dr=({index:n,title:e})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[2px] rounded-[20px] shadow-card",children:B(oi,{to:"source_code_link",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[100] flex justify-evenly items-center flex-col",children:B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})})})})}),yX=()=>Ae(Sr,{children:[B(yu,{}),Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"Dedalus Healthcare France :"}),B("h2",{className:xt.sectionHeadText,children:" Tableaux de bord d'indicateurs pour la surveillance de patients à risque."})]}),Ae(At.div,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:[B("br",{}),B("br",{}),"Dans le cadre de ce projet d'entreprise, j'ai développé un tableau de bord d'indicateurs visant à améliorer la surveillance des patients à risque en milieu hospitalier. Cet outil a été conçu pour permettre au personnel soignant de suivre efficacement et en temps réel des données critiques, améliorant la réactivité face aux urgences médicales.",B("br",{}),B("br",{}),"J'ai mis à profit mes compétences en :",B("span",{className:"text-[20px] text-amber-50",children:" #Angular "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #HTML "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #JAVA "}),", et",B("span",{className:"text-[20px] text-amber-50",children:" #Maquettage Web "}),"pour réaliser l'interface utilisateur et le backend de l'application. La stylisation a été effectuée avec",B("span",{className:"text-[20px] text-amber-50",children:" #CSS "}),", garantissant une expérience utilisateur cohérente et intuitive.",B("br",{}),B("br",{}),"Mon travail a également bénéficié de compétences transversales telles que :",B("span",{className:"text-[20px] text-amber-50",children:" #Agilité "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Analyse du besoin client "}),", et",B("span",{className:"text-[20px] text-amber-50",children:" #Communication "}),", qui ont été essentielles pour adapter l'outil aux exigences spécifiques du milieu hospitalier et pour communiquer efficacement avec les parties prenantes."]}),B("p",{className:xt.sectionSubText2,children:"Compétences Techniques :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Dr,{title:"#Angular"}),B(Dr,{title:"#Maquettage Web"}),B(Dr,{title:"#JAVA"}),B(Dr,{title:"#HTML"}),B(Dr,{title:"#CSS"})]}),B("p",{className:xt.sectionSubText2,children:"Compétences Transverses :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Dr,{title:"#Analyse du besoin client"}),B(Dr,{title:"#Agilité"}),B(Dr,{title:"#Communication"}),B(Dr,{title:"#Auto-formation"}),B(Dr,{title:"#Conformité Légale"}),B(Dr,{title:"#Analyse du retour sur investissement"})]})]}),xX=Di(yX,"tableauIndicateur"),Ia=({index:n,title:e})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[2px] rounded-[20px] shadow-card",children:B(oi,{to:"source_code_link",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[100] flex justify-evenly items-center flex-col",children:B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})})})})}),AX=()=>Ae(Sr,{children:[B(yu,{}),Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"Projet Professionnel :"}),B("h2",{className:xt.sectionHeadText,children:"Egytronics - Site web de Support de solution logistique."})]}),Ae(At.div,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:[B("br",{}),B("br",{}),"J'ai conçu, développé et déployé un site web de contact pour le support d'une solution logistique avancée, ciblant les professionnels des secteurs militaire et naval. Conçu pour s'étendre à l'échelle internationale, le site permet des échanges directs et efficaces avec les utilisateurs du monde entier, reflétant un engagement envers une accessibilité et une communication sans frontières.",B("br",{}),B("br",{}),"Pour mener ce projet à bien, j'ai mobilisé mes compétences en :",B("span",{className:"text-[20px] text-amber-50",children:" #CSS "})," et",B("span",{className:"text-[20px] text-amber-50",children:" #HTML "})," a été fondamentale pour créer une interface claire et fonctionnelle, tandis que le",B("span",{className:"text-[20px] text-amber-50",children:" #Maquettage Web "}),"a aidé à conceptualiser et affiner l'expérience utilisateur.",B("br",{}),B("br",{}),"Ce projet a été l'occasion de renforcer des compétences transversales primordiales telles que :",B("span",{className:"text-[20px] text-amber-50",children:" #Analyse du besoin client"}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Communication"}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Auto-formation"}),", et",B("span",{className:"text-[20px] text-amber-50",children:" #Conformité Légale"}),", assurant que le projet répond aux exigences de sécurité et de réglementation internationales."]}),B("p",{className:xt.sectionSubText2,children:"Compétences Techniques :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Ia,{title:"#Maquettage Web"}),B(Ia,{title:"#HTML"}),B(Ia,{title:"#CSS"})]}),B("p",{className:xt.sectionSubText2,children:"Compétences Transverses :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Ia,{title:"#Analyse du besoin client"}),B(Ia,{title:"#Communication"}),B(Ia,{title:"#Auto-formation"}),B(Ia,{title:"#Conformité Légale"})]})]}),_X=Di(AX,"logisticSupportSite"),Ns=({index:n,title:e})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[2px] rounded-[20px] shadow-card",children:B(oi,{to:"source_code_link",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[100] flex justify-evenly items-center flex-col",children:B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})})})})}),wX=()=>Ae(Sr,{children:[B(yu,{}),Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"DEDALUS HEALTHCARE FRANCE :"}),B("h2",{className:xt.sectionHeadText,children:"Orbis - Logiciel de gestion de santé pour hôpitaux."})]}),Ae(At.div,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:[B("br",{}),B("br",{}),"Dans le cadre de mon alternance, j'ai intégré le projet Orbis, un système de gestion de la santé élaboré pour les hôpitaux et cliniques d'envergure. Ma contribution s'est focalisée sur l'amélioration de fonctionnalités existantes et le développement de nouvelles capacités au sein de l'équipe dédiée à la pharmacie, ainsi qu'à la correction de bugs remontés par les clients renforçant ainsi l'efficacité et la performance du logiciel.",B("br",{}),B("br",{}),"Au cœur de ce projet, mes compétences techniques ont été mises à l'épreuve, notamment avec :",B("span",{className:"text-[20px] text-amber-50",children:" #HTML "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #CSS "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Angular "}),", et",B("span",{className:"text-[20px] text-amber-50",children:" #JAVA "}),". Ces outils ont été essentiels pour développer une interface utilisateur fonctionnelle et pour garantir la fiabilité du backend.",B("br",{}),B("br",{}),"Les compétences transversales telles que :",B("span",{className:"text-[20px] text-amber-50",children:" #Analyse du besoin client "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Agilité "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Communication "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Auto-formation "}),",",B("span",{className:"text-[20px] text-amber-50",children:" #Conformité Légale "}),", et",B("span",{className:"text-[20px] text-amber-50",children:" #Analyse du retour sur investissement "}),", ont également joué un rôle clé dans la collaboration avec l'équipe de développement et dans la compréhension approfondie des exigences du domaine médical."]}),B("p",{className:xt.sectionSubText2,children:"Compétences Techniques :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Ns,{title:"#Flutter"}),B(Ns,{title:"#Dart"}),B(Ns,{title:"#JAVA"})]}),B("p",{className:xt.sectionSubText2,children:"Compétences Transverses :"}),Ae("div",{className:"mt-6 flex flex-wrap gap-5",children:[B(Ns,{title:"#Analyse du besoin client"}),B(Ns,{title:"#Agilité"}),B(Ns,{title:"#Communication"}),B(Ns,{title:"#Auto-formation"}),B(Ns,{title:"#Conformité Légale"}),B(Ns,{title:"#Analyse du retour sur investissement"})]})]}),MX=Di(wX,"orbisProject"),Da=({index:n,title:e,lien:t})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[2px] rounded-[20px] shadow-card",children:B(oi,{to:t,onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[100] flex justify-evenly items-center flex-col",children:B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})})})})}),SX=()=>Ae(Sr,{children:[B(At.div,{variants:Cr(),children:B("p",{className:`${xt.sectionSubText} md:text-[40px] text-amber-50`,children:"Compétences Techniques"})}),B("div",{className:"w-full flex",children:B(At.p,{variants:An("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),Ae("div",{className:"mt-20 flex flex-wrap gap-7",children:[B(Da,{title:"#Flutter"}),B(Da,{title:"#Dart"}),B(Da,{title:"#JAVA",lien:"/java"}),B(Da,{title:"#Maquettage Web"}),B(Da,{title:"#HTML"}),B(Da,{title:"#CSS"}),B(Da,{title:"#Angular",lien:"/angular"})]})]}),DT=Di(SX,"technique"),rc=({index:n,title:e})=>B(vs,{className:"xs:w-[250px] w-full",children:B(At.div,{variants:An("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[2px] rounded-[20px] shadow-card",children:B(oi,{to:"source_code_link",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[100] flex justify-evenly items-center flex-col",children:B("h3",{className:"text-white text-[20px] font-bold text-center",children:e})})})})}),CX=()=>Ae(Sr,{children:[B(At.div,{variants:Cr(),children:B("p",{className:`${xt.sectionSubText} md:text-[40px] text-amber-50`,children:"Compétences Transverse"})}),B("div",{className:"w-full flex",children:B(At.p,{variants:An("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),Ae("div",{className:"mt-20 flex flex-wrap gap-7",children:[B(rc,{title:"#Analyse du besoin client"}),B(rc,{title:"#Agilité"}),B(rc,{title:"#Communication"}),B(rc,{title:"#Auto-formation"}),B(rc,{title:"#Conformité Légale"}),B(rc,{title:"#Analyse du retour sur investissement"})]})]}),NT=Di(CX,"transverse"),EX=({index:n,name:e,description:t,tagsTechnique:i,tagsTransverse:r,image:s,source_code_link:o,taille:a})=>B(oi,{to:o,className:"flex gap-2",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B(At.div,{variants:An("up","spring",n*.5,.75),children:Ae(vs,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[B("div",{className:"relative w-full h-[230px]",children:B("img",{src:s,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"})}),Ae("div",{className:"mt-5",children:[B("h3",{className:"text-white font-bold text-[24px]",children:e}),B("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),B("br",{}),B("p",{className:"text-sm",children:"Compétences techniques :"}),B("div",{className:" flex flex-wrap gap-2",children:i.map(l=>Ae("p",{className:`${l.taille} ${l.color}`,children:["#",l.name]},`${e}-${l.name}`))}),B("br",{}),B("p",{className:"text-sm",children:"Compétences transverses :"}),B("div",{className:"flex flex-wrap gap-2 ",children:r.map(l=>Ae("p",{className:`text-[14px] ${l.color}`,children:["#",l.name]},`${e}-${l.name}`))})]})})}),bX=()=>Ae(Sr,{children:[B(yu,{}),Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"Compétence Technique :"}),B("h2",{className:xt.sectionHeadText,children:"Java."})]}),Ae(At.div,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:[B("p",{children:"Java, un langage clé pour le développement d'applications solides, il a été un élément essentiel de ma formation en informatique. Ma maîtrise de Java s'est étendue à travers plusieurs projets variés, allant des systèmes internes aux applications grand public."}),B("br",{}),Ae("p",{className:"mt-4  ",children:[B("strong",{className:"text-[26px]",children:"Tableaux de bord d'indicateurs"})," - ",B(oi,{to:"/tableauIndicateur",className:"text-amber-50",children:"Voir le projet"}),B("br",{}),"J'ai utilisé Java pour traiter et analyser les données critiques des patients à risque. Cela a permis de garantir la précision et la sécurité nécessaires dans le domaine de la santé."]}),B("br",{}),Ae("p",{className:"mt-4",children:[B("strong",{className:"text-[26px]",children:"Mindset, Application de rencontre à l'aveugle"})," - ",B(oi,{to:"/mindset",className:"text-amber-50",children:"Voir le projet"}),B("br",{}),"Java a été utilisé pour créer une backend robuste pour Mindset, en gérant les données utilisateur, en mettant en œuvre des fonctionnalités de matching et en facilitant la communication entre le client et le serveur."]}),B("br",{}),Ae("p",{className:"mt-4",children:[B("strong",{className:"text-[26px]",children:"Logiciel de gestion de santé Orbis"})," - ",B(oi,{to:"/orbisProject",className:"text-amber-50",children:"Voir le projet"}),B("br",{}),"Mon expérience avec Orbis a mis l'accent sur l'utilisation de Java pour développer des solutions critiques de gestion de santé. J'ai travaillé sur l'intégration de modules, l'amélioration de la performance du système et l'ajout de nouvelles fonctionnalités qui ont contribué à moderniser les processus hospitaliers."]}),B("br",{}),B("p",{className:"mt-4",children:"En somme, Java a été un allié incontournable dans mon parcours de développeur. Il m'a permis d'aborder avec assurance des domaines variés, de la santé à la rencontre en ligne, tout en renforçant mes compétences en logique de programmation, en conception de systèmes et en gestion de données."})]}),B("p",{className:"sm:text-[23px] font-bold mt-20 text-secondary uppercase tracking-wider",children:"Mes projets Java :"}),B("div",{className:"mt-10 flex flex-wrap gap-7",children:MJ.map((n,e)=>B(EX,{index:e,...n},`project-${e}`))})]}),TX=Di(bX,"java"),PX=({index:n,name:e,description:t,tagsTechnique:i,tagsTransverse:r,image:s,source_code_link:o})=>B(oi,{to:o,className:"flex gap-2",onClick:()=>{setActive(""),window.scrollTo(0,0)},children:B(At.div,{variants:An("up","spring",n*.5,.75),children:Ae(vs,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[B("div",{className:"relative w-full h-[230px]",children:B("img",{src:s,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"})}),Ae("div",{className:"mt-5",children:[B("h3",{className:"text-white font-bold text-[24px]",children:e}),B("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),B("br",{}),B("p",{className:"text-sm",children:"Compétences techniques :"}),B("div",{className:" flex flex-wrap gap-2",children:i.map(a=>Ae("p",{className:`${a.taille} ${a.color}`,children:["#",a.name]},`${e}-${a.name}`))}),B("br",{}),B("p",{className:"text-sm",children:"Compétences transverses :"}),B("div",{className:"flex flex-wrap gap-2 ",children:r.map(a=>Ae("p",{className:`text-[14px] ${a.color}`,children:["#",a.name]},`${e}-${a.name}`))})]})})}),BX=()=>Ae(Sr,{children:[B(yu,{}),Ae(At.div,{variants:Cr(),children:[B("p",{className:xt.sectionSubText,children:"Compétence Technique :"}),B("h2",{className:xt.sectionHeadText,children:"Angular."})]}),Ae(At.div,{variants:An("","",.1,1),className:"mt-4 text-secondary text-[17px] leading-[30px]",children:[B("p",{children:"Angular est un framework structurant pour le développement de front-end qui a été essentiel dans la création d'interfaces utilisateur interactives et performantes dans mes projets."}),Ae("p",{className:"mt-4",children:[B("strong",{children:"Tableaux de bord d'indicateurs"})," - ",B(oi,{to:"/projects/indicators-dashboard",className:"text-amber-50",children:"Voir le projet"}),B("br",{}),"Utilisant Angular, j'ai construit des interfaces réactives pour les tableaux de bord médicaux, permettant une visualisation et une interaction fluides avec les données en temps réel pour les professionnels de la santé."]}),Ae("p",{className:"mt-4",children:[B("strong",{children:"Orbis - Logiciel de gestion de santé pour hôpitaux"})," - ",B(oi,{to:"/projects/orbis-healthcare",className:"text-amber-50",children:"Voir le projet"}),B("br",{}),"J'ai utilisé Angular pour créer des composants modulaires et des services injectables, ce qui a permis d'obtenir un système de gestion de santé hautement évolutif et maintenable au sein de l'architecture Orbis."]}),B("p",{className:"mt-4",children:"Ces applications de Angular démontrent sa puissance et sa flexibilité, et reflètent mon engagement à construire des solutions front-end de haute qualité qui sont non seulement fonctionnelles, mais aussi esthétiquement plaisantes."})]}),B("p",{className:"sm:text-[23px] font-bold mt-20 text-secondary uppercase tracking-wider",children:"Mes projets Angular :"}),B("div",{className:"mt-10 flex flex-wrap gap-7",children:SJ.map((n,e)=>B(PX,{index:e,...n},`project-${e}`))})]}),RX=Di(BX,"angular"),LX=()=>B(Mk,{children:B("div",{className:"relative z-0 bg-primary",children:Ae(yk,{children:[B(Nr,{path:"/",element:Ae(Sr,{children:[B(CJ,{}),B("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:B(Q7,{})}),B(kJ,{}),B(iX,{}),B(UJ,{}),B(oX,{}),B(cX,{}),B(DT,{}),B(NT,{}),Ae("div",{className:"relative z-0",children:[B(gX,{}),B(z6,{})]})]})}),B(Nr,{path:"/mindset",element:B(IT,{})}),B(Nr,{path:"/tableauIndicateur",element:B(xX,{})}),B(Nr,{path:"/mindset",element:B(IT,{})}),B(Nr,{path:"/logisticSupportSite",element:B(_X,{})}),B(Nr,{path:"/orbisProject",element:B(MX,{})}),B(Nr,{path:"/technique",element:B(DT,{})}),B(Nr,{path:"/transverse",element:B(NT,{})}),B(Nr,{path:"/java",element:B(TX,{})}),B(Nr,{path:"/angular",element:B(RX,{})})]})})});Qy.createRoot(document.getElementById("root")).render(B(xg.StrictMode,{children:B(LX,{})}));
